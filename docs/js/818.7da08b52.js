"use strict";(self["webpackChunkquestion_star"]=self["webpackChunkquestion_star"]||[]).push([[818],{78818:function(e,a,l){l.r(a),l.d(a,{default:function(){return A}});l(45680);var s=l(1877),n=l(89588),t=l(80725),i=l(99397),u=l(40264),d=l(72808),c=l(79669),o=l(70330),r=l(52104);const v=e=>((0,s.Qi)("data-v-57d36872"),e=e(),(0,s.jt)(),e),k={class:"detail-box"},p={class:"left"},g=["src"],b={class:"right"},f={class:"title"},m={class:"desc"},L={class:"desc"},_=v((()=>(0,s.Lk)("span",null,"该模版由",-1))),h=v((()=>(0,s.Lk)("span",null,"创作",-1))),y={class:"bt-group"},C=v((()=>(0,s.Lk)("div",{class:""},[(0,s.Lk)("div",{class:"desc"},"扫一扫，手机预览")],-1))),F={class:"bt-group-footer"};var w=(0,s.pM)({__name:"detailTemplate",setup(e){const a=(0,i.lq)(),l=(0,i.rd)(),v=(0,t.KR)(!1),w=(0,t.KR)({}),R=(0,t.KR)(!1);(0,s.sV)((async()=>{v.value=!0;try{const e=await(0,u.nC)(Number(a.params.id));0!==e.errno?l.go(-1):w.value=e.data}catch(e){l.go(-1)}finally{v.value=!1}}));const z=e=>{l.push("/edit-work/"+e)},A=e=>{d.A.confirm({title:"确定删除该模版吗？",icon:(0,s.bF)(o.A),okText:"确定",okType:"primary",cancelText:"取消",onOk(){O(e)},onCancel(){console.log("Cancel")}})},O=async e=>{R.value=!0;try{await(0,u.$t)(e),c.Ay.success("删除作品成功"),l.go(-1)}catch(a){}finally{R.value=!1}};return(e,a)=>{const i=(0,s.g2)("UserOutlined"),u=(0,s.g2)("a-button"),d=(0,s.g2)("DownloadOutlined"),c=(0,s.g2)("DeleteOutlined"),o=(0,s.g2)("RedoOutlined"),O=(0,s.g2)("a-spin");return(0,s.uX)(),(0,s.Wv)(O,{spinning:v.value,size:"large",tip:"加载中"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",k,[(0,s.Lk)("div",p,[w.value?((0,s.uX)(),(0,s.CE)("img",{key:0,src:w.value.coverImg,alt:""},null,8,g)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",b,[(0,s.Lk)("div",f,(0,n.v_)(w.value.title),1),(0,s.Lk)("div",m,(0,n.v_)(w.value.desc),1),(0,s.Lk)("div",L,[(0,s.Lk)("span",null,[(0,s.bF)(i)]),_,(0,s.Lk)("span",null,(0,n.v_)(w.value.author),1),h]),(0,s.Lk)("div",y,[(0,s.bF)(u,{shape:"round",size:"middle",type:"primary",onClick:a[0]||(a[0]=e=>z(w.value.id))},{default:(0,s.k6)((()=>[(0,s.eW)("使用模版")])),_:1}),(0,s.bF)(u,{shape:"round",size:"middle",onClick:a[1]||(a[1]=e=>(0,t.R1)(r.A)(w.value.title,w.value.coverImg))},{icon:(0,s.k6)((()=>[(0,s.bF)(d)])),default:(0,s.k6)((()=>[(0,s.eW)(" 下载封面")])),_:1})]),C,(0,s.Lk)("div",F,[(0,s.bF)(u,{shape:"round",size:"middle",danger:"",loading:R.value,onClick:a[2]||(a[2]=e=>A(w.value.id))},{icon:(0,s.k6)((()=>[(0,s.bF)(c)])),default:(0,s.k6)((()=>[(0,s.eW)(" 删除模版")])),_:1},8,["loading"]),(0,s.bF)(u,{shape:"round",size:"middle",onClick:a[3]||(a[3]=e=>(0,t.R1)(l).go(-1))},{default:(0,s.k6)((()=>[(0,s.bF)(o),(0,s.eW)("返回列表 ")])),_:1})])])])])),_:1},8,["spinning"])}}}),R=l(91139);const z=(0,R.A)(w,[["__scopeId","data-v-57d36872"]]);var A=z}}]);
//# sourceMappingURL=818.7da08b52.js.map