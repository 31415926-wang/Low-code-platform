(self["webpackChunkquestion_star"]=self["webpackChunkquestion_star"]||[]).push([[243],{58426:function(a,e,t){var s={"./af":86380,"./af.js":86380,"./ar":80528,"./ar-dz":16335,"./ar-dz.js":16335,"./ar-kw":36547,"./ar-kw.js":36547,"./ar-ly":87146,"./ar-ly.js":87146,"./ar-ma":95347,"./ar-ma.js":95347,"./ar-ps":67740,"./ar-ps.js":67740,"./ar-sa":23121,"./ar-sa.js":23121,"./ar-tn":29995,"./ar-tn.js":29995,"./ar.js":80528,"./az":65144,"./az.js":65144,"./be":69522,"./be.js":69522,"./bg":41704,"./bg.js":41704,"./bm":8650,"./bm.js":8650,"./bn":67575,"./bn-bd":73994,"./bn-bd.js":73994,"./bn.js":67575,"./bo":61504,"./bo.js":61504,"./br":9003,"./br.js":9003,"./bs":43908,"./bs.js":43908,"./ca":15247,"./ca.js":15247,"./cs":30049,"./cs.js":30049,"./cv":46910,"./cv.js":46910,"./cy":20823,"./cy.js":20823,"./da":9988,"./da.js":9988,"./de":93720,"./de-at":95684,"./de-at.js":95684,"./de-ch":95522,"./de-ch.js":95522,"./de.js":93720,"./dv":42881,"./dv.js":42881,"./el":79242,"./el.js":79242,"./en-au":76371,"./en-au.js":76371,"./en-ca":23377,"./en-ca.js":23377,"./en-gb":51436,"./en-gb.js":51436,"./en-ie":70235,"./en-ie.js":70235,"./en-il":35692,"./en-il.js":35692,"./en-in":65782,"./en-in.js":65782,"./en-nz":8997,"./en-nz.js":8997,"./en-sg":36251,"./en-sg.js":36251,"./eo":96151,"./eo.js":96151,"./es":85995,"./es-do":44913,"./es-do.js":44913,"./es-mx":53185,"./es-mx.js":53185,"./es-us":78056,"./es-us.js":78056,"./es.js":85995,"./et":42562,"./et.js":42562,"./eu":44625,"./eu.js":44625,"./fa":12162,"./fa.js":12162,"./fi":18426,"./fi.js":18426,"./fil":93268,"./fil.js":93268,"./fo":17180,"./fo.js":17180,"./fr":39807,"./fr-ca":65956,"./fr-ca.js":65956,"./fr-ch":54499,"./fr-ch.js":54499,"./fr.js":39807,"./fy":48842,"./fy.js":48842,"./ga":77843,"./ga.js":77843,"./gd":69536,"./gd.js":69536,"./gl":73032,"./gl.js":73032,"./gom-deva":91617,"./gom-deva.js":91617,"./gom-latn":12570,"./gom-latn.js":12570,"./gu":47463,"./gu.js":47463,"./he":20164,"./he.js":20164,"./hi":67696,"./hi.js":67696,"./hr":71393,"./hr.js":71393,"./hu":73876,"./hu.js":73876,"./hy-am":28619,"./hy-am.js":28619,"./id":64478,"./id.js":64478,"./is":49167,"./is.js":49167,"./it":94958,"./it-ch":27512,"./it-ch.js":27512,"./it.js":94958,"./ja":95750,"./ja.js":95750,"./jv":7991,"./jv.js":7991,"./ka":70487,"./ka.js":70487,"./kk":40065,"./kk.js":40065,"./km":42075,"./km.js":42075,"./kn":73278,"./kn.js":73278,"./ko":6493,"./ko.js":6493,"./ku":59555,"./ku-kmr":77028,"./ku-kmr.js":77028,"./ku.js":59555,"./ky":7439,"./ky.js":7439,"./lb":85045,"./lb.js":85045,"./lo":98994,"./lo.js":98994,"./lt":56071,"./lt.js":56071,"./lv":99561,"./lv.js":99561,"./me":52809,"./me.js":52809,"./mi":19149,"./mi.js":19149,"./mk":42763,"./mk.js":42763,"./ml":99330,"./ml.js":99330,"./mn":10360,"./mn.js":10360,"./mr":31596,"./mr.js":31596,"./ms":39699,"./ms-my":21114,"./ms-my.js":21114,"./ms.js":39699,"./mt":36010,"./mt.js":36010,"./my":72573,"./my.js":72573,"./nb":46423,"./nb.js":46423,"./ne":87894,"./ne.js":87894,"./nl":56253,"./nl-be":21527,"./nl-be.js":21527,"./nl.js":56253,"./nn":75995,"./nn.js":75995,"./oc-lnc":54483,"./oc-lnc.js":54483,"./pa-in":30870,"./pa-in.js":30870,"./pl":46651,"./pl.js":46651,"./pt":64131,"./pt-br":93464,"./pt-br.js":93464,"./pt.js":64131,"./ro":18576,"./ro.js":18576,"./ru":37234,"./ru.js":37234,"./sd":96020,"./sd.js":96020,"./se":11899,"./se.js":11899,"./si":17015,"./si.js":17015,"./sk":93657,"./sk.js":93657,"./sl":12044,"./sl.js":12044,"./sq":34735,"./sq.js":34735,"./sr":20898,"./sr-cyrl":91757,"./sr-cyrl.js":91757,"./sr.js":20898,"./ss":88785,"./ss.js":88785,"./sv":57230,"./sv.js":57230,"./sw":6541,"./sw.js":6541,"./ta":8852,"./ta.js":8852,"./te":92584,"./te.js":92584,"./tet":59894,"./tet.js":59894,"./tg":2994,"./tg.js":2994,"./th":13747,"./th.js":13747,"./tk":20278,"./tk.js":20278,"./tl-ph":52684,"./tl-ph.js":52684,"./tlh":14839,"./tlh.js":14839,"./tr":19373,"./tr.js":19373,"./tzl":82653,"./tzl.js":82653,"./tzm":56382,"./tzm-latn":98822,"./tzm-latn.js":98822,"./tzm.js":56382,"./ug-cn":66617,"./ug-cn.js":66617,"./uk":29635,"./uk.js":29635,"./ur":78452,"./ur.js":78452,"./uz":78124,"./uz-latn":58100,"./uz-latn.js":58100,"./uz.js":78124,"./vi":394,"./vi.js":394,"./x-pseudo":54074,"./x-pseudo.js":54074,"./yo":6563,"./yo.js":6563,"./zh-cn":75651,"./zh-cn.js":75651,"./zh-hk":79947,"./zh-hk.js":79947,"./zh-mo":40486,"./zh-mo.js":40486,"./zh-tw":84979,"./zh-tw.js":84979};function n(a){var e=l(a);return t(e)}function l(a){if(!t.o(s,a)){var e=new Error("Cannot find module '"+a+"'");throw e.code="MODULE_NOT_FOUND",e}return s[a]}n.keys=function(){return Object.keys(s)},n.resolve=l,a.exports=n,n.id=58426},32374:function(a,e,t){"use strict";t.r(e),t.d(e,{default:function(){return ka}});var s,n=t(1877),l=t(80725),o=t(45253);(function(a){a["GetWorks"]="/api/works",a["DetailTemplates"]="/api/templates"})(s||(s={}));const r=a=>(0,o.A)({url:s.GetWorks,method:"get",params:a});t(45680);var i=t(89588),u=t(70330),d=t(72808),c=t(79669),p=t(40264),m=(0,n.pM)({__name:"donateModal",setup(a,{expose:e}){const t=(0,l.KR)(!1),s=(0,l.KR)({id:null,username:""}),o=async()=>{try{await(0,p.D$)()}catch(a){}};return e({openDonate:t,formState:s}),(a,e)=>{const l=(0,n.g2)("a-input"),r=(0,n.g2)("a-form-item"),i=(0,n.g2)("a-button"),u=(0,n.g2)("a-form"),d=(0,n.g2)("a-modal");return(0,n.uX)(),(0,n.Wv)(d,{open:t.value,"onUpdate:open":e[1]||(e[1]=a=>t.value=a),footer:null,title:"转赠作品",onOk:o,okText:"确定转赠",cancelText:"取消"},{default:(0,n.k6)((()=>[(0,n.bF)(u,{style:{"margin-top":"17px"},model:s.value,name:"basic","label-col":{span:4},"wrapper-col":{span:16},autocomplete:"off"},{default:(0,n.k6)((()=>[(0,n.bF)(r,{label:"好友昵称",name:"username",rules:[{required:!0,message:"请输入好友昵称!"}]},{default:(0,n.k6)((()=>[(0,n.bF)(l,{value:s.value.username,"onUpdate:value":e[0]||(e[0]=a=>s.value.username=a),placeholder:"输入好友昵称进行转赠"},null,8,["value"])])),_:1}),(0,n.bF)(r,{"wrapper-col":{offset:4,span:16}},{default:(0,n.k6)((()=>[(0,n.bF)(i,{type:"primary",round:"",onClick:o},{default:(0,n.k6)((()=>[(0,n.eW)("确定转赠")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["open"])}}});const j=m;var k=j,v=t(99397),g=t(52104);const b=a=>((0,n.Qi)("data-v-1dfdd4d4"),a=a(),(0,n.jt)(),a),y={class:"card-container"},f={class:"card"},h={class:"img-container"},_={class:"mask"},I={class:"card-title"},z={class:"title"},C={key:0,class:"mount"},w={key:0,class:"info-group"},x={class:"operate"},L={class:"operate-box"},D=b((()=>(0,n.Lk)("span",null,"复制",-1))),F=b((()=>(0,n.Lk)("span",null,"删除",-1))),S=b((()=>(0,n.Lk)("span",null,"下载封面",-1))),T=b((()=>(0,n.Lk)("span",null,"转赠",-1))),W={key:1,class:"card-title",style:{opacity:"0.6"}};var R=(0,n.pM)({__name:"card",props:{cardItem:{},isTemplate:{type:Boolean}},setup(a){const e=(0,v.rd)(),t=(0,l.KR)(),s=a=>{d.A.confirm({title:"确定删除该作品吗？",icon:(0,n.bF)(u.A),content:"删除后的作品将移入回收站",okText:"确定",okType:"primary",cancelText:"取消",onOk(){r(a)},onCancel(){console.log("Cancel")}})},o=async a=>{const e=await(0,p.dh)(a);0===e.errno&&c.Ay.success("复制作品成功")},r=async a=>{await(0,p.$t)(a),c.Ay.success("删除作品成功"),R()},m=a=>{t.value.openDonate=!0,t.value.formState.id=a,t.value.formState.username=""},j=a=>{e.push("/home/look-template/"+a)},b=a=>{e.push("/edit-work/"+a)},R=(0,n.WQ)("updateList");return(a,e)=>{const r=(0,n.g2)("a-button"),u=(0,n.g2)("UserOutlined"),d=(0,n.g2)("FormOutlined"),c=(0,n.g2)("EllipsisOutlined"),p=(0,n.g2)("CopyOutlined"),v=(0,n.g2)("DeleteOutlined"),R=(0,n.g2)("DownloadOutlined"),X=(0,n.g2)("GiftOutlined");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",y,[(0,n.Lk)("div",f,[(0,n.Lk)("div",h,[(0,n.Lk)("div",{class:"img-box",style:(0,i.Tr)({backgroundImage:`url(${a.cardItem.coverImg})`})},null,4),(0,n.Lk)("div",_,[a.isTemplate?((0,n.uX)(),(0,n.Wv)(r,{key:1,type:"primary",shape:"round",onClick:e[1]||(e[1]=e=>j(a.cardItem.id))},{default:(0,n.k6)((()=>[(0,n.eW)("查看模版详细")])),_:1})):((0,n.uX)(),(0,n.Wv)(r,{key:0,type:"primary",shape:"round",onClick:e[0]||(e[0]=e=>b(a.cardItem.id))},{default:(0,n.k6)((()=>[(0,n.eW)("编辑作品")])),_:1}))])]),(0,n.Lk)("div",I,[(0,n.Lk)("span",z,(0,i.v_)(a.cardItem.title),1),a.isTemplate?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",C,[(0,n.bF)(u),(0,n.eW)(" "+(0,i.v_)(a.cardItem.copiedCount),1)]))]),a.isTemplate?((0,n.uX)(),(0,n.CE)("div",W,[(0,n.Lk)("div",null,"作者： "+(0,i.v_)(a.cardItem.author),1),(0,n.Lk)("div",null,[(0,n.bF)(u),(0,n.eW)(" "+(0,i.v_)(a.cardItem.copiedCount),1)])])):((0,n.uX)(),(0,n.CE)("div",w,[(0,n.Lk)("div",{onClick:e[2]||(e[2]=e=>b(a.cardItem.id))},[(0,n.bF)(d)]),(0,n.Lk)("div",x,[(0,n.bF)(c),(0,n.Lk)("ul",L,[(0,n.Lk)("li",{onClick:e[3]||(e[3]=e=>o(a.cardItem.id))},[(0,n.bF)(p),(0,n.eW)(),D]),(0,n.Lk)("li",{onClick:e[4]||(e[4]=e=>s(a.cardItem.id))},[(0,n.bF)(v),(0,n.eW)(),F]),(0,n.Lk)("li",{onClick:e[5]||(e[5]=e=>(0,l.R1)(g.A)(a.cardItem.title,a.cardItem.coverImg))},[(0,n.bF)(R),(0,n.eW)(),S]),(0,n.Lk)("li",{onClick:e[6]||(e[6]=e=>m(a.cardItem.id))},[(0,n.bF)(X),(0,n.eW)(),T])])])]))]),a.cardItem.isHot||a.cardItem.isPublish?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,i.C4)(["msg",a.cardItem.isHot?"hot":"publish"])},(0,i.v_)(a.cardItem.isHot?"HOT":"已发布"),3)):(0,n.Q3)("",!0)]),(0,n.bF)(k,{ref_key:"donateModalRef",ref:t},null,512)],64)}}}),X=t(91139);const O=(0,X.A)(R,[["__scopeId","data-v-1dfdd4d4"]]);var A=O;const E={class:"card-container"},K={class:"card"},P={class:"img-container"},M={class:"card-title"};function U(a,e){const t=(0,n.g2)("a-skeleton-button"),s=(0,n.g2)("a-skeleton");return(0,n.uX)(),(0,n.CE)("div",E,[(0,n.Lk)("div",K,[(0,n.Lk)("div",P,[(0,n.bF)(t,{class:"img-box",active:!0,block:!0})]),(0,n.Lk)("div",M,[(0,n.bF)(s,{active:!0,paragraph:{rows:1,width:"100%"}})])])])}const B={},G=(0,X.A)(B,[["render",U],["__scopeId","data-v-afd03bce"]]);var N=G,Q=(0,n.pM)({__name:"cardRegion",props:{loadStatus:{type:Boolean},listData:{},isTemplate:{type:Boolean}},setup(a){return(a,e)=>a.loadStatus?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},(0,n.pI)(8,((a,e)=>(0,n.bF)(N,{key:e}))),64)):((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(a.listData,(e=>((0,n.uX)(),(0,n.Wv)(A,{isTemplate:a.isTemplate,key:e.id,"card-item":e},null,8,["isTemplate","card-item"])))),128))}});const $=Q;var q=$,Y=t(80974),H=t.n(Y),V=(0,n.pM)({__name:"tableRegion",props:{loadStatus:{type:Boolean},listData:{}},setup(a){const e=[{title:"作品名称",dataIndex:"title",width:"25%"},{title:"作品ID",dataIndex:"id",sorter:{compare:(a,e)=>a.id-e.id},width:"20%"},{title:"创建时间",dataIndex:"createdAt",width:"30%"},{title:"操作",width:"25%",key:"action"}],t=a=>H()(new Date(a)).format("YYYY-MM-DD　hh:mm:ss "),s=async(a,e)=>{e.loadingStatus=!0;try{await(0,p.j7)(a),c.Ay.success("恢复成功"),l()}catch(t){}finally{e.loadingStatus=!1}},l=(0,n.WQ)("updateList");return(a,l)=>{const o=(0,n.g2)("a-button"),r=(0,n.g2)("a-table");return(0,n.uX)(),(0,n.Wv)(r,{columns:e,"data-source":a.listData,loading:a.loadStatus,pagination:!1},{bodyCell:(0,n.k6)((({column:a,record:e})=>["createdAt"===a.dataIndex?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.eW)((0,i.v_)(t(e.createdAt)),1)],64)):(0,n.Q3)("",!0),"action"===a.key?((0,n.uX)(),(0,n.Wv)(o,{key:1,type:"primary",shape:"round",loading:e.loadingStatus,onClick:a=>s(e.id,e)},{default:(0,n.k6)((()=>[(0,n.eW)("恢复作品")])),_:2},1032,["loading","onClick"])):(0,n.Q3)("",!0)])),_:1},8,["data-source","loading"])}}});const J=(0,X.A)(V,[["__scopeId","data-v-7ca1f694"]]);var Z=J;const aa={class:"container custom-scrollbar"};function ea(a,e){return(0,n.uX)(),(0,n.CE)("div",aa,[(0,n.RG)(a.$slots,"empty",{},void 0,!0),(0,n.RG)(a.$slots,"card-context",{},void 0,!0),(0,n.RG)(a.$slots,"table-context",{},void 0,!0),(0,n.RG)(a.$slots,"pagination",{},void 0,!0)])}const ta={},sa=(0,X.A)(ta,[["render",ea],["__scopeId","data-v-7b272f09"]]);var na=sa;const la={key:0},oa={key:1};var ra=(0,n.pM)({__name:"pagination",props:{getDataApi:{type:Function},pageParam:{},listData:{},loadStatus:{type:Boolean}},emits:["update:pageParam","update:listData","update:loadStatus"],setup(a,{expose:e,emit:t}){const s=a,o=t,r=(0,l.KR)(s.pageParam.pageIndex+1),u=(0,l.KR)(s.pageParam.pageSize),d=(0,l.KR)(0),c=(0,l.KR)(["8","12","16","20","24"]),p=async(a,e)=>{o("update:pageParam",{...s.pageParam,pageIndex:a-1,pageSize:e}),await(0,n.dY)((()=>{m()}))},m=async()=>{o("update:loadStatus",!0);try{const a=await s.getDataApi(s.pageParam);o("update:listData",a.data.list),d.value=a.data.count}finally{o("update:loadStatus",!1)}};return(0,n.sV)((()=>{m()})),e({getListData:m}),(a,e)=>{const t=(0,n.g2)("a-pagination");return(0,n.uX)(),(0,n.Wv)(t,{current:r.value,"onUpdate:current":e[0]||(e[0]=a=>r.value=a),"page-size":u.value,"onUpdate:pageSize":e[1]||(e[1]=a=>u.value=a),"page-size-options":c.value,total:d.value,"show-size-changer":"",onChange:p},{buildOptionText:(0,n.k6)((a=>["50"!==a.value?((0,n.uX)(),(0,n.CE)("span",la,(0,i.v_)(a.value)+"条/页",1)):((0,n.uX)(),(0,n.CE)("span",oa,"全部"))])),_:1},8,["current","page-size","page-size-options","total"])}}});const ia=(0,X.A)(ra,[["__scopeId","data-v-62f693fb"]]);var ua=ia;const da={key:0,class:"empty-row"},ca={class:"card-box"},pa={class:"table-box"};var ma=(0,n.pM)({__name:"myWorks",setup(a){const e=(0,v.lq)(),t=(0,l.KR)(),s=(0,l.KR)({pageIndex:0,pageSize:8,[Object.keys(e.params)[0]]:Number([Object.values(e.params)[0]])}),o=(0,l.KR)([]),i=(0,l.KR)(!1);(0,n.wB)(o,(()=>{o.value.forEach(((a,t)=>{1===Number(e.params.isTemplate)?t<4&&(a.isHot=!0):0===Number(e.params.isTemplate)?a.isPublish=!0:0===Number(e.params.status)&&(a.loadingStatus=!1)}))})),(0,n.wB)((()=>e.params),(async()=>{const{pageIndex:a,pageSize:t}=s.value;s.value={pageIndex:a,pageSize:t,[Object.keys(e.params)[0]]:Number([Object.values(e.params)[0]])},(0,n.dY)((()=>{u()}))}));const u=()=>{t.value.getListData()};return(0,n.Gt)("updateList",u),(a,u)=>{const d=(0,n.g2)("a-empty");return(0,n.uX)(),(0,n.Wv)(na,null,(0,n.eX)({empty:(0,n.k6)((()=>[0!==o.value.length||i.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",da,[(0,n.bF)(d,{description:"暂无数据"})]))])),pagination:(0,n.k6)((()=>[(0,n.bF)(ua,{ref_key:"paginationRef",ref:t,"get-data-api":(0,l.R1)(r),pageParam:s.value,"onUpdate:pageParam":u[0]||(u[0]=a=>s.value=a),listData:o.value,"onUpdate:listData":u[1]||(u[1]=a=>o.value=a),loadStatus:i.value,"onUpdate:loadStatus":u[2]||(u[2]=a=>i.value=a)},null,8,["get-data-api","pageParam","listData","loadStatus"])])),_:2},[void 0!==(0,l.R1)(e).params.isTemplate?{name:"card-context",fn:(0,n.k6)((()=>[(0,n.Lk)("div",ca,[(0,n.bF)(q,{isTemplate:Boolean(Number((0,l.R1)(e).params.isTemplate)),loadStatus:i.value,listData:o.value},null,8,["isTemplate","loadStatus","listData"])])])),key:"0"}:{name:"table-context",fn:(0,n.k6)((()=>[(0,n.Lk)("div",pa,[(0,n.bF)(Z,{loadStatus:i.value,listData:o.value},null,8,["loadStatus","listData"])])])),key:"1"}]),1024)}}});const ja=(0,X.A)(ma,[["__scopeId","data-v-4af68c0c"]]);var ka=ja}}]);
//# sourceMappingURL=243.a2e9b679.js.map