"use strict";(self["webpackChunkquestion_star"]=self["webpackChunkquestion_star"]||[]).push([[618],{2618:function(e,a,l){l.r(a),l.d(a,{default:function(){return O}});l(45680);var s=l(1877),n=l(89588),i=l(80725),t=l(99397),o=l(40264),c=l(72808),d=l(79669),u=l(70330),r=l(52104),v=l(60423);const k=e=>((0,s.Qi)("data-v-f842b274"),e=e(),(0,s.jt)(),e),p={class:"detail-box"},g={class:"left"},b=["src"],f={class:"right"},m={class:"title"},L={class:"desc"},y={class:"desc"},_=k((()=>(0,s.Lk)("span",null,"该模版由",-1))),h=k((()=>(0,s.Lk)("span",null,"admin",-1))),w=k((()=>(0,s.Lk)("span",null,"创作",-1))),C={class:"bt-group"},F=k((()=>(0,s.Lk)("div",{class:""},[(0,s.Lk)("div",{class:"desc",style:{"padding-bottom":"6px"}},"扫一扫，手机预览"),(0,s.Lk)("canvas",{id:"canvas-work",class:"code"})],-1))),A={class:"bt-group-footer"};var R=(0,s.pM)({__name:"detailTemplate",setup(e){const a=(0,t.lq)(),l=(0,t.rd)(),k=(0,i.KR)(!1),R=(0,i.KR)({}),W=(0,i.KR)(!1),z=(0,s.EW)((()=>{const e=l.options.history.base.includes("#");return"/Low-code-platform"+(e?"/#":"")}));(0,s.sV)((async()=>{k.value=!0;try{const e=await(0,o.nC)(Number(a.params.id));0!==e.errno?l.go(-1):(R.value=e.data,(0,v.A)("canvas-work",`${location.origin}${z.value}/previewTemplate/${R.value.id}`))}catch(e){l.go(-1)}finally{k.value=!1}}));const O=async e=>{l.push("/edit-work/"+e)},T=e=>{c.A.confirm({title:"确定删除该模版吗？",icon:(0,s.bF)(u.A),okText:"确定",okType:"primary",cancelText:"取消",onOk(){x(e)},onCancel(){console.log("Cancel")}})},x=async e=>{W.value=!0;try{await(0,o.$t)(e),d.Ay.success("删除作品成功"),l.go(-1)}catch(a){}finally{W.value=!1}};return(e,a)=>{const t=(0,s.g2)("UserOutlined"),o=(0,s.g2)("a-button"),c=(0,s.g2)("DownloadOutlined"),d=(0,s.g2)("DeleteOutlined"),u=(0,s.g2)("RedoOutlined"),v=(0,s.g2)("a-spin");return(0,s.uX)(),(0,s.Wv)(v,{spinning:k.value,size:"large",tip:"加载中"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",p,[(0,s.Lk)("div",g,[R.value?((0,s.uX)(),(0,s.CE)("img",{key:0,src:R.value.coverImg,alt:""},null,8,b)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",f,[(0,s.Lk)("div",m,(0,n.v_)(R.value.title),1),(0,s.Lk)("div",L,(0,n.v_)(R.value.desc),1),(0,s.Lk)("div",y,[(0,s.Lk)("span",null,[(0,s.bF)(t)]),_,h,w]),(0,s.Lk)("div",C,[(0,s.bF)(o,{shape:"round",size:"middle",type:"primary",onClick:a[0]||(a[0]=e=>O(R.value.id))},{default:(0,s.k6)((()=>[(0,s.eW)("编辑模版")])),_:1}),(0,s.bF)(o,{shape:"round",size:"middle",onClick:a[1]||(a[1]=e=>(0,i.R1)(r.A)(R.value.title,R.value.coverImg))},{icon:(0,s.k6)((()=>[(0,s.bF)(c)])),default:(0,s.k6)((()=>[(0,s.eW)(" 下载封面")])),_:1})]),F,(0,s.Lk)("div",A,[(0,s.bF)(o,{shape:"round",size:"middle",danger:"",loading:W.value,onClick:a[2]||(a[2]=e=>T(R.value.id))},{icon:(0,s.k6)((()=>[(0,s.bF)(d)])),default:(0,s.k6)((()=>[(0,s.eW)(" 删除模版")])),_:1},8,["loading"]),(0,s.bF)(o,{shape:"round",size:"middle",onClick:a[3]||(a[3]=e=>(0,i.R1)(l).go(-1))},{default:(0,s.k6)((()=>[(0,s.bF)(u),(0,s.eW)("返回列表 ")])),_:1})])])])])),_:1},8,["spinning"])}}}),W=l(91139);const z=(0,W.A)(R,[["__scopeId","data-v-f842b274"]]);var O=z}}]);
//# sourceMappingURL=618.b44230da.js.map