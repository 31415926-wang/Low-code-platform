{"version":3,"file":"js/582.0a69003c.js","mappings":"kOAOA,MAAMA,EAAiB,IAChBC,EAAAA,MACAC,EAAAA,IAEDC,EAAgB,IACfF,EAAAA,GACHG,WAAY,MACZC,cAAe,MACfC,MAAO,WACJC,EAAAA,IAGDC,EAAsB,IACrBP,EAAAA,MACAC,EAAAA,GACHO,SAAU,OACVC,YAAa,OACbC,aAAc,QAGZC,EAAkB,IACjBC,EAAAA,GACHP,MAAO,OACPQ,OAAQ,QAKCC,EAAoC,CAC7C,CACIC,MAAO,OACPC,WAAY,CACR,CACIC,KAAM,SACNC,MAAO,IACAnB,EACHoB,WAAY,QACZC,IAAK,MAETC,KAAM,YACNC,MAAO,QAEX,CACIL,KAAM,SACNC,MAAO,IACAnB,EACHoB,WAAY,QACZC,IAAK,MAETC,KAAM,YACNC,MAAO,QAEX,CACIL,KAAM,SACNC,MAAO,IACAnB,EACHoB,WAAY,QACZC,IAAK,KAETC,KAAM,YACNC,MAAO,QAEX,CACIL,KAAM,SACNC,MAAO,IACAnB,EACHwB,UAAW,OACXH,IAAK,KAETC,KAAM,eACNC,MAAO,QAInB,CACIP,MAAO,OACPC,WAAY,CACR,CACIC,KAAM,QACNC,MAAO,IACAhB,GAGPmB,KAAM,kBACNC,MAAO,QAInB,CACIP,MAAO,OACPS,cAAc,EACdC,eAAgB,cAChBT,WAAY,CACR,CACIC,KAAM,cACNC,MAAO,IACAX,EACH,cAAe,oBACfgB,UAAW,QAEfD,MAAO,QAGX,CACIL,KAAM,cACNC,MAAO,IACAX,EACH,cAAe,wBACfgB,UAAW,SAEfD,MAAO,SAEX,CACIL,KAAM,cACNC,MAAO,IACAX,EACH,cAAe,0BACfgB,UAAW,QAEfD,MAAO,QAEX,CACIL,KAAM,cACNC,MAAO,IACAX,EACH,cAAe,kBACfgB,UAAW,cAEfD,MAAO,cAEX,CACIL,KAAM,cACNC,MAAO,IACAX,EACH,cAAe,2BACfgB,UAAW,eAEfD,MAAO,eAGX,CACIL,KAAM,cACNC,MAAO,IACAX,EACH,cAAe,2BACfgB,UAAW,mBAEfD,MAAO,qBAInB,CACIP,MAAO,OACPS,cAAc,EACdE,kBAAkB,EAClBV,WAAY,CACR,CACIC,KAAM,UACNC,MAAO,IACAP,EACHgB,WAAY,WACZ,mBAAoB,WAExBL,MAAO,OAEX,CACIL,KAAM,UACNC,MAAO,IACAP,EACHgB,WAAY,WACZ,mBAAoB,WAExBL,MAAO,MAEX,CACIL,KAAM,UACNC,MAAO,IACAP,EACHgB,WAAY,SACZ,mBAAoB,WAExBL,MAAO,OAEX,CACIL,KAAM,UACNC,MAAO,IACAP,EACHgB,WAAY,SACZ,mBAAoB,UACpBtB,MAAO,QACPQ,OAAQ,QAEZS,MAAO,UAOvB,Q,WCjMc,SAAUM,IACpB,MAAMC,GAASC,EAAAA,EAAAA,KAKTC,EAAcA,CAACC,EAAcC,KAC/B,MAAMC,EAAiBF,EAAEG,OAAuBC,QAAQ,mBAClDC,EAAqBH,EAAcI,wBACnCC,EAAgBP,EAAEQ,QAAUH,EAAmBI,KAC/CC,EAAgBV,EAAEW,QAAUN,EAAmBO,IAErDZ,EAAEa,cAAcC,QAAQ,aAAcC,KAAKC,UAAU,CACjDf,aACAM,gBACAG,kBACmB,EAErBO,EAAcjB,IAChBA,EAAEkB,iBACFlB,EAAEa,aAAcM,WAAa,MAAM,EAGjCC,EAAUpB,IACZA,EAAEkB,iBACF,MAAMG,EAAqBN,KAAKO,MAAMtB,EAAEa,aAAcU,QAAQ,eACxDC,EAAgBxB,EAAEG,OAAuBC,QAAQ,eACjDqB,EAAmBD,EAAalB,wBAChCoB,EAAO1B,EAAEQ,QAAUiB,EAAiBhB,KAAOY,EAAmBd,cAC9DoB,EAAO3B,EAAEW,QAAUc,EAAiBb,IAAMS,EAAmBX,cACnEW,EAAmBpB,WAAWf,MAAMuB,KAAOiB,EAAO,KAClDL,EAAmBpB,WAAWf,MAAM0B,IAAMe,EAAO,KACjD9B,EAAO+B,OAAO,wBAAyB,CACnC3B,WAAYoB,EAAmBpB,aAEnCD,EAAEa,cAAcgB,WAAW,EAE/B,MAAO,CACH9B,cACAkB,aACAG,SAER,CC/CA,OAA4BU,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,gBACR7C,MAAO,CACL8C,OAAQ,CAAC,GAEXC,KAAAA,CAAMC,GCFR,MAAMC,EAASD,EAITrC,GAASC,EAAAA,EAAAA,MACT,YAAEC,GAAgBH,IAElBwC,EAAcA,KAChBvC,EAAO+B,OAAO,wBAAyB,CACnC3B,WAAYkC,EAAOH,QACrB,EDMN,MAAO,CAACK,EAAUC,MACRC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO,CAC/CC,MAAO,iBACPC,UAAW,OACXC,QAASP,EACTQ,YAAaN,EAAO,KAAOA,EAAO,GAAMO,IAAiBC,EAAAA,EAAAA,IAAO/C,EAAP+C,CAAoBD,EAAQV,EAAOH,UAC3F,EACDe,EAAAA,EAAAA,IAAYV,EAAKW,OAAQ,YACxB,IAEL,I,WE/BA,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCLA,MACMC,EAAa,CACjBC,IAAK,EACLV,MAAO,wBAOT,OAA4BX,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,oBACRE,KAAAA,CAAMC,GAGR,MAAO,CAACG,EAAUC,KAChB,MAAMc,GAAqBC,EAAAA,EAAAA,IAAkB,WACvCC,GAAmBD,EAAAA,EAAAA,IAAkB,SAE3C,OAAQd,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBe,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,KAAYV,EAAAA,EAAAA,IAAOhE,IAAkB,CAAC2E,EAAMC,MACjGnB,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO,CAC/CC,MAAO,sBACPU,IAAKO,GACJ,EACDC,EAAAA,EAAAA,IAAoB,KAAM,MAAMC,EAAAA,EAAAA,IAAiBH,EAAK1E,OAAQ,IAC9D4E,EAAAA,EAAAA,IAAoB,MAAO,CACzBlB,OAAOoB,EAAAA,EAAAA,IAAgBJ,EAAKjE,aAAe,kBAAoB,oBAC9D,GACA+C,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBe,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYC,EAAKzE,YAAY,CAACgD,EAAQ8B,MACpFvB,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAaT,EAAkB,CACnDU,KAAM,GACNb,IAAKW,GACJ,CACDG,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAaC,EAAe,CAC1B3B,MAAO,cACPT,OAAQA,GACP,CACDiC,SAASC,EAAAA,EAAAA,KAAS,IAAM,CACpBT,EAAK/D,mBAcF6C,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,KAAaM,EAAAA,EAAAA,IAAyBrC,EAAO/C,OAAOqF,EAAAA,EAAAA,IAAY,CAC7EnB,IAAK,EACLV,MAAO,GACP8B,MAAO,CAAC,UAAY,cACpBC,SAAS,GACR,IAAKxC,EAAO9C,MAAOuF,YAAazC,EAAO1C,QAAU,KAAM,OAlBzDiD,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoBe,EAAAA,GAAW,CAAEJ,IAAK,GAAK,CACtDM,EAAKjE,cAMHkF,EAAAA,EAAAA,IAAoB,IAAI,KALvBnC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,OAAQU,EAAY,EACrDiB,EAAAA,EAAAA,IAAaf,EAAoB,CAC/BnE,KAAM+C,EAAO3C,MACZ,KAAM,EAAG,CAAC,aAGnBsE,EAAAA,EAAAA,IAAoB,KAAM,CACxBlB,MAAO,QACP8B,OAAOI,EAAAA,EAAAA,IAAgBlB,EAAKhE,eAAiB,CAAE,CAACgE,EAAKhE,gBAAiBuC,EAAO9C,MAAMuE,EAAKhE,iBAAoB,CAAC,KAC5GmE,EAAAA,EAAAA,IAAiB5B,EAAO1C,OAAQ,IAClC,QAQTsF,EAAG,GACF,KAAM,CAAC,cAEZA,EAAG,GACF,SACD,OACH,QAEH,IAAI,CAEV,ICnEA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q;;;;;;;;;;;;ACKA,SAASC,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAEvCC,IACFI,EAAUA,EAAQC,QAAO,SAAUC,GACjC,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,UACtD,KAGFP,EAAKQ,KAAKC,MAAMT,EAAMG,EACxB,CAEA,OAAOH,CACT,CAEA,SAASU,EAAevF,GACtB,IAAK,IAAIwF,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,CAAC,EAEhDA,EAAI,EACNd,EAAQI,OAAOa,IAAS,GAAMC,SAAQ,SAAU5C,GAC9C6C,EAAgB7F,EAAQgD,EAAK2C,EAAO3C,GACtC,IACS8B,OAAOgB,0BAChBhB,OAAOiB,iBAAiB/F,EAAQ8E,OAAOgB,0BAA0BH,IAEjEjB,EAAQI,OAAOa,IAASC,SAAQ,SAAU5C,GACxC8B,OAAOkB,eAAehG,EAAQgD,EAAK8B,OAAOK,yBAAyBQ,EAAQ3C,GAC7E,GAEJ,CAEA,OAAOhD,CACT,CAEA,SAASiG,EAAQC,GAaf,OATED,EADoB,oBAAXE,QAAoD,kBAApBA,OAAOC,SACtC,SAAUF,GAClB,cAAcA,CAChB,EAEU,SAAUA,GAClB,OAAOA,GAAyB,oBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,CAC3H,EAGKD,EAAQC,EACjB,CAEA,SAASL,EAAgBK,EAAKlD,EAAKuD,GAYjC,OAXIvD,KAAOkD,EACTpB,OAAOkB,eAAeE,EAAKlD,EAAK,CAC9BuD,MAAOA,EACPnB,YAAY,EACZoB,cAAc,EACdC,UAAU,IAGZP,EAAIlD,GAAOuD,EAGNL,CACT,CAEA,SAASQ,IAeP,OAdAA,EAAW5B,OAAO6B,QAAU,SAAU3G,GACpC,IAAK,IAAIwF,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAIxC,KAAO2C,EACVb,OAAOwB,UAAUM,eAAeC,KAAKlB,EAAQ3C,KAC/ChD,EAAOgD,GAAO2C,EAAO3C,GAG3B,CAEA,OAAOhD,CACT,EAEO0G,EAASpB,MAAMwB,KAAMrB,UAC9B,CAEA,SAASsB,EAA8BpB,EAAQqB,GAC7C,GAAc,MAAVrB,EAAgB,MAAO,CAAC,EAC5B,IAEI3C,EAAKwC,EAFLxF,EAAS,CAAC,EACViH,EAAanC,OAAOD,KAAKc,GAG7B,IAAKH,EAAI,EAAGA,EAAIyB,EAAWvB,OAAQF,IACjCxC,EAAMiE,EAAWzB,GACbwB,EAASE,QAAQlE,IAAQ,IAC7BhD,EAAOgD,GAAO2C,EAAO3C,IAGvB,OAAOhD,CACT,CAEA,SAASmH,EAAyBxB,EAAQqB,GACxC,GAAc,MAAVrB,EAAgB,MAAO,CAAC,EAE5B,IAEI3C,EAAKwC,EAFLxF,EAAS+G,EAA8BpB,EAAQqB,GAInD,GAAIlC,OAAOC,sBAAuB,CAChC,IAAIqC,EAAmBtC,OAAOC,sBAAsBY,GAEpD,IAAKH,EAAI,EAAGA,EAAI4B,EAAiB1B,OAAQF,IACvCxC,EAAMoE,EAAiB5B,GACnBwB,EAASE,QAAQlE,IAAQ,GACxB8B,OAAOwB,UAAUe,qBAAqBR,KAAKlB,EAAQ3C,KACxDhD,EAAOgD,GAAO2C,EAAO3C,GAEzB,CAEA,OAAOhD,CACT,CAEA,IAAIsH,EAAU,SAEd,SAASC,EAAUC,GACjB,GAAsB,qBAAXC,QAA0BA,OAAOC,UAC1C,QAAuBA,UAAUH,UAAUI,MAAMH,EAErD,CAEA,IAAII,EAAaL,EAAU,yDACvBM,EAAON,EAAU,SACjBO,EAAUP,EAAU,YACpBQ,EAASR,EAAU,aAAeA,EAAU,aAAeA,EAAU,YACrES,EAAMT,EAAU,mBAChBU,EAAmBV,EAAU,YAAcA,EAAU,YAErDW,EAAc,CAChBC,SAAS,EACTC,SAAS,GAGX,SAASC,EAAGC,EAAIC,EAAOC,GACrBF,EAAGG,iBAAiBF,EAAOC,GAAKZ,GAAcM,EAChD,CAEA,SAASQ,EAAIJ,EAAIC,EAAOC,GACtBF,EAAGK,oBAAoBJ,EAAOC,GAAKZ,GAAcM,EACnD,CAEA,SAASU,EAETN,EAEAO,GACE,GAAKA,EAAL,CAGA,GAFgB,MAAhBA,EAAS,KAAeA,EAAWA,EAASC,UAAU,IAElDR,EACF,IACE,GAAIA,EAAGM,QACL,OAAON,EAAGM,QAAQC,GACb,GAAIP,EAAGS,kBACZ,OAAOT,EAAGS,kBAAkBF,GACvB,GAAIP,EAAGU,sBACZ,OAAOV,EAAGU,sBAAsBH,EAEpC,CAAE,MAAOpE,GACP,OAAO,CACT,CAGF,OAAO,CAjBc,CAkBvB,CAEA,SAASwE,EAAgBX,GACvB,OAAOA,EAAGY,MAAQZ,IAAOa,UAAYb,EAAGY,KAAKE,SAAWd,EAAGY,KAAOZ,EAAGe,UACvE,CAEA,SAASpJ,EAETqI,EAEAO,EAEAS,EAAKC,GACH,GAAIjB,EAAI,CACNgB,EAAMA,GAAOH,SAEb,EAAG,CACD,GAAgB,MAAZN,IAAqC,MAAhBA,EAAS,GAAaP,EAAGe,aAAeC,GAAOV,EAAQN,EAAIO,GAAYD,EAAQN,EAAIO,KAAcU,GAAcjB,IAAOgB,EAC7I,OAAOhB,EAGT,GAAIA,IAAOgB,EAAK,KAElB,OAAShB,EAAKW,EAAgBX,GAChC,CAEA,OAAO,IACT,CAEA,IAgWIkB,EAhWAC,EAAU,OAEd,SAASC,EAAYpB,EAAIxJ,EAAM6K,GAC7B,GAAIrB,GAAMxJ,EACR,GAAIwJ,EAAGsB,UACLtB,EAAGsB,UAAUD,EAAQ,MAAQ,UAAU7K,OAClC,CACL,IAAI+K,GAAa,IAAMvB,EAAGuB,UAAY,KAAKC,QAAQL,EAAS,KAAKK,QAAQ,IAAMhL,EAAO,IAAK,KAC3FwJ,EAAGuB,WAAaA,GAAaF,EAAQ,IAAM7K,EAAO,KAAKgL,QAAQL,EAAS,IAC1E,CAEJ,CAEA,SAASM,EAAIzB,EAAI0B,EAAMC,GACrB,IAAI7F,EAAQkE,GAAMA,EAAGlE,MAErB,GAAIA,EAAO,CACT,QAAY,IAAR6F,EAOF,OANId,SAASe,aAAef,SAASe,YAAYC,iBAC/CF,EAAMd,SAASe,YAAYC,iBAAiB7B,EAAI,IACvCA,EAAG8B,eACZH,EAAM3B,EAAG8B,mBAGK,IAATJ,EAAkBC,EAAMA,EAAID,GAE7BA,KAAQ5F,IAAsC,IAA5B4F,EAAK9C,QAAQ,YACnC8C,EAAO,WAAaA,GAGtB5F,EAAM4F,GAAQC,GAAsB,kBAARA,EAAmB,GAAK,KAExD,CACF,CAEA,SAASI,EAAO/B,EAAIgC,GAClB,IAAIC,EAAoB,GAExB,GAAkB,kBAAPjC,EACTiC,EAAoBjC,OAEpB,EAAG,CACD,IAAIkC,EAAYT,EAAIzB,EAAI,aAEpBkC,GAA2B,SAAdA,IACfD,EAAoBC,EAAY,IAAMD,EAI1C,QAAUD,IAAahC,EAAKA,EAAGe,aAGjC,IAAIoB,EAAWhD,OAAOiD,WAAajD,OAAOkD,iBAAmBlD,OAAOmD,WAAanD,OAAOoD,YAGxF,OAAOJ,GAAY,IAAIA,EAASF,EAClC,CAEA,SAASO,EAAKxB,EAAKyB,EAAS3E,GAC1B,GAAIkD,EAAK,CACP,IAAI0B,EAAO1B,EAAI2B,qBAAqBF,GAChCvF,EAAI,EACJ0F,EAAIF,EAAKtF,OAEb,GAAIU,EACF,KAAOZ,EAAI0F,EAAG1F,IACZY,EAAS4E,EAAKxF,GAAIA,GAItB,OAAOwF,CACT,CAEA,MAAO,EACT,CAEA,SAASG,IACP,IAAIC,EAAmBjC,SAASiC,iBAEhC,OAAIA,GAGKjC,SAASkC,eAEpB,CAYA,SAASC,EAAQhD,EAAIiD,EAA2BC,EAA2BC,EAAWC,GACpF,GAAKpD,EAAGnI,uBAAyBmI,IAAOb,OAAxC,CACA,IAAIkE,EAAQlL,EAAKH,EAAMsL,EAAQC,EAAOnN,EAAQR,EAmB9C,GAjBIoK,IAAOb,QAAUa,EAAGe,YAAcf,IAAO6C,KAC3CQ,EAASrD,EAAGnI,wBACZM,EAAMkL,EAAOlL,IACbH,EAAOqL,EAAOrL,KACdsL,EAASD,EAAOC,OAChBC,EAAQF,EAAOE,MACfnN,EAASiN,EAAOjN,OAChBR,EAAQyN,EAAOzN,QAEfuC,EAAM,EACNH,EAAO,EACPsL,EAASnE,OAAOqE,YAChBD,EAAQpE,OAAOsE,WACfrN,EAAS+I,OAAOqE,YAChB5N,EAAQuJ,OAAOsE,aAGZR,GAA6BC,IAA8BlD,IAAOb,SAErEiE,EAAYA,GAAapD,EAAGe,YAGvBzB,GACH,GACE,GAAI8D,GAAaA,EAAUvL,wBAA0D,SAAhC4J,EAAI2B,EAAW,cAA2BF,GAA4D,WAA/BzB,EAAI2B,EAAW,aAA2B,CACpK,IAAIM,EAAgBN,EAAUvL,wBAE9BM,GAAOuL,EAAcvL,IAAMwL,SAASlC,EAAI2B,EAAW,qBACnDpL,GAAQ0L,EAAc1L,KAAO2L,SAASlC,EAAI2B,EAAW,sBACrDE,EAASnL,EAAMkL,EAAOjN,OACtBmN,EAAQvL,EAAOqL,EAAOzN,MACtB,KACF,QAGOwN,EAAYA,EAAUrC,YAInC,GAAIoC,GAAanD,IAAOb,OAAQ,CAE9B,IAAIyE,EAAW7B,EAAOqB,GAAapD,GAC/B6D,EAASD,GAAYA,EAASE,EAC9BC,EAASH,GAAYA,EAASI,EAE9BJ,IACFzL,GAAO4L,EACP/L,GAAQ6L,EACRjO,GAASiO,EACTzN,GAAU2N,EACVT,EAASnL,EAAM/B,EACfmN,EAAQvL,EAAOpC,EAEnB,CAEA,MAAO,CACLuC,IAAKA,EACLH,KAAMA,EACNsL,OAAQA,EACRC,MAAOA,EACP3N,MAAOA,EACPQ,OAAQA,EAhE4C,CAkExD,CAUA,SAAS6N,EAAejE,EAAIkE,EAAQC,GAClC,IAAIC,EAASC,GAA2BrE,GAAI,GACxCsE,EAAYtB,EAAQhD,GAAIkE,GAG5B,MAAOE,EAAQ,CACb,IAAIG,EAAgBvB,EAAQoB,GAAQD,GAChCK,OAAU,EAQd,GALEA,EADiB,QAAfL,GAAuC,SAAfA,EAChBG,GAAaC,EAEbD,GAAaC,GAGpBC,EAAS,OAAOJ,EACrB,GAAIA,IAAWvB,IAA6B,MAC5CuB,EAASC,GAA2BD,GAAQ,EAC9C,CAEA,OAAO,CACT,CAWA,SAASK,GAASzE,EAAI0E,EAAUC,EAASC,GACvC,IAAIC,EAAe,EACf3H,EAAI,EACJ4H,EAAW9E,EAAG8E,SAElB,MAAO5H,EAAI4H,EAAS1H,OAAQ,CAC1B,GAAkC,SAA9B0H,EAAS5H,GAAGpB,MAAMiJ,SAAsBD,EAAS5H,KAAO8H,GAASC,QAAUL,GAAiBE,EAAS5H,KAAO8H,GAASE,UAAYvN,EAAQmN,EAAS5H,GAAIyH,EAAQ1K,UAAW+F,GAAI,GAAQ,CACvL,GAAI6E,IAAiBH,EACnB,OAAOI,EAAS5H,GAGlB2H,GACF,CAEA3H,GACF,CAEA,OAAO,IACT,CASA,SAASiI,GAAUnF,EAAIO,GACrB,IAAI6E,EAAOpF,EAAGqF,iBAEd,MAAOD,IAASA,IAASJ,GAASC,OAAkC,SAAzBxD,EAAI2D,EAAM,YAAyB7E,IAAaD,EAAQ8E,EAAM7E,IACvG6E,EAAOA,EAAKE,uBAGd,OAAOF,GAAQ,IACjB,CAUA,SAASnK,GAAM+E,EAAIO,GACjB,IAAItF,EAAQ,EAEZ,IAAK+E,IAAOA,EAAGe,WACb,OAAQ,EAKV,MAAOf,EAAKA,EAAGsF,uBACqB,aAA9BtF,EAAGuF,SAASC,eAAgCxF,IAAOgF,GAASS,OAAWlF,IAAYD,EAAQN,EAAIO,IACjGtF,IAIJ,OAAOA,CACT,CASA,SAASyK,GAAwB1F,GAC/B,IAAI2F,EAAa,EACbC,EAAY,EACZC,EAAchD,IAElB,GAAI7C,EACF,EAAG,CACD,IAAI4D,EAAW7B,EAAO/B,GAClB6D,EAASD,EAASE,EAClBC,EAASH,EAASI,EACtB2B,GAAc3F,EAAG8F,WAAajC,EAC9B+B,GAAa5F,EAAG+F,UAAYhC,CAC9B,OAAS/D,IAAO6F,IAAgB7F,EAAKA,EAAGe,aAG1C,MAAO,CAAC4E,EAAYC,EACtB,CASA,SAASI,GAAcC,EAAKrI,GAC1B,IAAK,IAAIV,KAAK+I,EACZ,GAAKA,EAAI3H,eAAepB,GAExB,IAAK,IAAIxC,KAAOkD,EACd,GAAIA,EAAIU,eAAe5D,IAAQkD,EAAIlD,KAASuL,EAAI/I,GAAGxC,GAAM,OAAOwL,OAAOhJ,GAI3E,OAAQ,CACV,CAEA,SAASmH,GAA2BrE,EAAImG,GAEtC,IAAKnG,IAAOA,EAAGnI,sBAAuB,OAAOgL,IAC7C,IAAIuD,EAAOpG,EACPqG,GAAU,EAEd,GAEE,GAAID,EAAKE,YAAcF,EAAKG,aAAeH,EAAKI,aAAeJ,EAAKK,aAAc,CAChF,IAAIC,EAAUjF,EAAI2E,GAElB,GAAIA,EAAKE,YAAcF,EAAKG,cAAqC,QAArBG,EAAQC,WAA4C,UAArBD,EAAQC,YAA0BP,EAAKI,aAAeJ,EAAKK,eAAsC,QAArBC,EAAQE,WAA4C,UAArBF,EAAQE,WAAwB,CACpN,IAAKR,EAAKvO,uBAAyBuO,IAASvF,SAASgG,KAAM,OAAOhE,IAClE,GAAIwD,GAAWF,EAAa,OAAOC,EACnCC,GAAU,CACZ,CACF,QAGOD,EAAOA,EAAKrF,YAErB,OAAO8B,GACT,CAEA,SAASiE,GAAOC,EAAKC,GACnB,GAAID,GAAOC,EACT,IAAK,IAAItM,KAAOsM,EACVA,EAAI1I,eAAe5D,KACrBqM,EAAIrM,GAAOsM,EAAItM,IAKrB,OAAOqM,CACT,CAEA,SAASE,GAAYC,EAAOC,GAC1B,OAAOC,KAAKC,MAAMH,EAAM/O,OAASiP,KAAKC,MAAMF,EAAMhP,MAAQiP,KAAKC,MAAMH,EAAMlP,QAAUoP,KAAKC,MAAMF,EAAMnP,OAASoP,KAAKC,MAAMH,EAAM9Q,UAAYgR,KAAKC,MAAMF,EAAM/Q,SAAWgR,KAAKC,MAAMH,EAAMtR,SAAWwR,KAAKC,MAAMF,EAAMvR,MACvN,CAIA,SAAS0R,GAASC,EAAUC,GAC1B,OAAO,WACL,IAAKtG,EAAkB,CACrB,IAAIuG,EAAOtK,UACPuK,EAAQlJ,KAEQ,IAAhBiJ,EAAKrK,OACPmK,EAAShJ,KAAKmJ,EAAOD,EAAK,IAE1BF,EAASvK,MAAM0K,EAAOD,GAGxBvG,EAAmByG,YAAW,WAC5BzG,OAAmB,CACrB,GAAGsG,EACL,CACF,CACF,CAEA,SAASI,KACPC,aAAa3G,GACbA,OAAmB,CACrB,CAEA,SAAS4G,GAAS9H,EAAI+H,EAAGC,GACvBhI,EAAG8F,YAAciC,EACjB/H,EAAG+F,WAAaiC,CAClB,CAEA,SAASvC,GAAMzF,GACb,IAAIiI,EAAU9I,OAAO8I,QACjBC,EAAI/I,OAAOgJ,QAAUhJ,OAAOiJ,MAEhC,OAAIH,GAAWA,EAAQI,IACdJ,EAAQI,IAAIrI,GAAIsI,WAAU,GACxBJ,EACFA,EAAElI,GAAIyF,OAAM,GAAM,GAElBzF,EAAGsI,WAAU,EAExB,CAEA,IAAIC,GAAU,YAAa,IAAIC,MAAOC,UAEtC,SAASC,KACP,IACIC,EADAC,EAAkB,GAEtB,MAAO,CACLC,sBAAuB,WAErB,GADAD,EAAkB,GACbpK,KAAKmG,QAAQmE,UAAlB,CACA,IAAIhE,EAAW,GAAGiE,MAAMxK,KAAKC,KAAKwB,GAAG8E,UACrCA,EAASxH,SAAQ,SAAU0L,GACzB,GAA8B,SAA1BvH,EAAIuH,EAAO,YAAyBA,IAAUhE,GAASC,MAA3D,CACA2D,EAAgB7L,KAAK,CACnBrF,OAAQsR,EACRC,KAAMjG,EAAQgG,KAGhB,IAAIE,EAAWjM,EAAe,CAAC,EAAG2L,EAAgBA,EAAgBxL,OAAS,GAAG6L,MAG9E,GAAID,EAAMG,sBAAuB,CAC/B,IAAIC,EAAcrH,EAAOiH,GAAO,GAE5BI,IACFF,EAAS/Q,KAAOiR,EAAYC,EAC5BH,EAASlR,MAAQoR,EAAY7R,EAEjC,CAEAyR,EAAME,SAAWA,CAlBuD,CAmB1E,GAtBmC,CAuBrC,EACAI,kBAAmB,SAA2BjI,GAC5CuH,EAAgB7L,KAAKsE,EACvB,EACAkI,qBAAsB,SAA8B7R,GAClDkR,EAAgBY,OAAOxD,GAAc4C,EAAiB,CACpDlR,OAAQA,IACN,EACN,EACA+R,WAAY,SAAoBlC,GAC9B,IAAIG,EAAQlJ,KAEZ,IAAKA,KAAKmG,QAAQmE,UAGhB,OAFAjB,aAAac,QACW,oBAAbpB,GAAyBA,KAItC,IAAImC,GAAY,EACZC,EAAgB,EACpBf,EAAgBtL,SAAQ,SAAU+D,GAChC,IAAIuI,EAAO,EACPlS,EAAS2J,EAAM3J,OACfwR,EAAWxR,EAAOwR,SAClBW,EAAS7G,EAAQtL,GACjBoS,EAAepS,EAAOoS,aACtBC,EAAarS,EAAOqS,WACpBC,EAAgB3I,EAAM4H,KACtBgB,EAAelI,EAAOrK,GAAQ,GAE9BuS,IAEFJ,EAAO1R,KAAO8R,EAAaZ,EAC3BQ,EAAO7R,MAAQiS,EAAa1S,GAG9BG,EAAOmS,OAASA,EAEZnS,EAAOyR,uBAELlC,GAAY6C,EAAcD,KAAY5C,GAAYiC,EAAUW,KAC/DG,EAAc7R,IAAM0R,EAAO1R,MAAQ6R,EAAchS,KAAO6R,EAAO7R,SAAWkR,EAAS/Q,IAAM0R,EAAO1R,MAAQ+Q,EAASlR,KAAO6R,EAAO7R,QAE9H4R,EAAOM,GAAkBF,EAAeF,EAAcC,EAAYrC,EAAM/C,UAKvEsC,GAAY4C,EAAQX,KACvBxR,EAAOoS,aAAeZ,EACtBxR,EAAOqS,WAAaF,EAEfD,IACHA,EAAOlC,EAAM/C,QAAQmE,WAGvBpB,EAAMyC,QAAQzS,EAAQsS,EAAeH,EAAQD,IAG3CA,IACFF,GAAY,EACZC,EAAgBvC,KAAKgD,IAAIT,EAAeC,GACxC/B,aAAanQ,EAAO2S,qBACpB3S,EAAO2S,oBAAsB1C,YAAW,WACtCjQ,EAAOiS,cAAgB,EACvBjS,EAAOoS,aAAe,KACtBpS,EAAOwR,SAAW,KAClBxR,EAAOqS,WAAa,KACpBrS,EAAOyR,sBAAwB,IACjC,GAAGS,GACHlS,EAAOyR,sBAAwBS,EAEnC,IACA/B,aAAac,GAERe,EAGHf,EAAsBhB,YAAW,WACP,oBAAbJ,GAAyBA,GACtC,GAAGoC,GAJqB,oBAAbpC,GAAyBA,IAOtCqB,EAAkB,EACpB,EACAuB,QAAS,SAAiBzS,EAAQ4S,EAAaT,EAAQU,GACrD,GAAIA,EAAU,CACZ9I,EAAI/J,EAAQ,aAAc,IAC1B+J,EAAI/J,EAAQ,YAAa,IACzB,IAAIkM,EAAW7B,EAAOvD,KAAKwB,IACvB6D,EAASD,GAAYA,EAASE,EAC9BC,EAASH,GAAYA,EAASI,EAC9BwG,GAAcF,EAAYtS,KAAO6R,EAAO7R,OAAS6L,GAAU,GAC3D4G,GAAcH,EAAYnS,IAAM0R,EAAO1R,MAAQ4L,GAAU,GAC7DrM,EAAOgT,aAAeF,EACtB9S,EAAOiT,aAAeF,EACtBhJ,EAAI/J,EAAQ,YAAa,eAAiB8S,EAAa,MAAQC,EAAa,SAC5EjM,KAAKoM,gBAAkBC,GAAQnT,GAE/B+J,EAAI/J,EAAQ,aAAc,aAAe6S,EAAW,MAAQ/L,KAAKmG,QAAQmG,OAAS,IAAMtM,KAAKmG,QAAQmG,OAAS,KAC9GrJ,EAAI/J,EAAQ,YAAa,sBACE,kBAApBA,EAAOqT,UAAyBlD,aAAanQ,EAAOqT,UAC3DrT,EAAOqT,SAAWpD,YAAW,WAC3BlG,EAAI/J,EAAQ,aAAc,IAC1B+J,EAAI/J,EAAQ,YAAa,IACzBA,EAAOqT,UAAW,EAClBrT,EAAOgT,YAAa,EACpBhT,EAAOiT,YAAa,CACtB,GAAGJ,EACL,CACF,EAEJ,CAEA,SAASM,GAAQnT,GACf,OAAOA,EAAOsT,WAChB,CAEA,SAASd,GAAkBF,EAAed,EAAUW,EAAQlF,GAC1D,OAAOyC,KAAK6D,KAAK7D,KAAK8D,IAAIhC,EAAS/Q,IAAM6R,EAAc7R,IAAK,GAAKiP,KAAK8D,IAAIhC,EAASlR,KAAOgS,EAAchS,KAAM,IAAMoP,KAAK6D,KAAK7D,KAAK8D,IAAIhC,EAAS/Q,IAAM0R,EAAO1R,IAAK,GAAKiP,KAAK8D,IAAIhC,EAASlR,KAAO6R,EAAO7R,KAAM,IAAM2M,EAAQmE,SAC7N,CAEA,IAAIqC,GAAU,GACVC,GAAW,CACbC,qBAAqB,GAEnBC,GAAgB,CAClBC,MAAO,SAAeC,GAEpB,IAAK,IAAIC,KAAUL,GACbA,GAAS9M,eAAemN,MAAaA,KAAUD,KACjDA,EAAOC,GAAUL,GAASK,IAI9BN,GAAQ7N,SAAQ,SAAUoO,GACxB,GAAIA,EAAEC,aAAeH,EAAOG,WAC1B,KAAM,iCAAiCC,OAAOJ,EAAOG,WAAY,kBAErE,IACAR,GAAQpO,KAAKyO,EACf,EACAK,YAAa,SAAqBC,EAAWC,EAAUC,GACrD,IAAItE,EAAQlJ,KAEZA,KAAKyN,eAAgB,EAErBD,EAAIE,OAAS,WACXxE,EAAMuE,eAAgB,CACxB,EAEA,IAAIE,EAAkBL,EAAY,SAClCX,GAAQ7N,SAAQ,SAAUkO,GACnBO,EAASP,EAAOG,cAEjBI,EAASP,EAAOG,YAAYQ,IAC9BJ,EAASP,EAAOG,YAAYQ,GAAiBlP,EAAe,CAC1D8O,SAAUA,GACTC,IAKDD,EAASpH,QAAQ6G,EAAOG,aAAeI,EAASP,EAAOG,YAAYG,IACrEC,EAASP,EAAOG,YAAYG,GAAW7O,EAAe,CACpD8O,SAAUA,GACTC,IAEP,GACF,EACAI,kBAAmB,SAA2BL,EAAU/L,EAAIoL,EAAUzG,GAYpE,IAAK,IAAI8G,KAXTN,GAAQ7N,SAAQ,SAAUkO,GACxB,IAAIG,EAAaH,EAAOG,WACxB,GAAKI,EAASpH,QAAQgH,IAAgBH,EAAOH,oBAA7C,CACA,IAAIgB,EAAc,IAAIb,EAAOO,EAAU/L,EAAI+L,EAASpH,SACpD0H,EAAYN,SAAWA,EACvBM,EAAY1H,QAAUoH,EAASpH,QAC/BoH,EAASJ,GAAcU,EAEvBjO,EAASgN,EAAUiB,EAAYjB,SANyC,CAO1E,IAEmBW,EAASpH,QAC1B,GAAKoH,EAASpH,QAAQrG,eAAemN,GAArC,CACA,IAAIa,EAAW9N,KAAK+N,aAAaR,EAAUN,EAAQM,EAASpH,QAAQ8G,IAE5C,qBAAba,IACTP,EAASpH,QAAQ8G,GAAUa,EAJyB,CAO1D,EACAE,mBAAoB,SAA4BhW,EAAMuV,GACpD,IAAIU,EAAkB,CAAC,EAMvB,OALAtB,GAAQ7N,SAAQ,SAAUkO,GACc,oBAA3BA,EAAOiB,iBAElBrO,EAASqO,EAAiBjB,EAAOiB,gBAAgBlO,KAAKwN,EAASP,EAAOG,YAAanV,GACrF,IACOiW,CACT,EACAF,aAAc,SAAsBR,EAAUvV,EAAMyH,GAClD,IAAIyO,EASJ,OARAvB,GAAQ7N,SAAQ,SAAUkO,GAEnBO,EAASP,EAAOG,aAEjBH,EAAOmB,iBAA2D,oBAAjCnB,EAAOmB,gBAAgBnW,KAC1DkW,EAAgBlB,EAAOmB,gBAAgBnW,GAAM+H,KAAKwN,EAASP,EAAOG,YAAa1N,GAEnF,IACOyO,CACT,GAGF,SAASE,GAAcC,GACrB,IAAId,EAAWc,EAAKd,SAChBe,EAASD,EAAKC,OACdtW,EAAOqW,EAAKrW,KACZuW,EAAWF,EAAKE,SAChBC,EAAUH,EAAKG,QACfC,EAAOJ,EAAKI,KACZC,EAASL,EAAKK,OACdC,EAAWN,EAAKM,SAChBC,EAAWP,EAAKO,SAChBC,EAAoBR,EAAKQ,kBACzBC,EAAoBT,EAAKS,kBACzBC,EAAgBV,EAAKU,cACrBC,EAAcX,EAAKW,YACnBC,EAAuBZ,EAAKY,qBAEhC,GADA1B,EAAWA,GAAYe,GAAUA,EAAOvE,IACnCwD,EAAL,CACA,IAAIC,EACArH,EAAUoH,EAASpH,QACnB+I,EAAS,KAAOlX,EAAKmX,OAAO,GAAGnI,cAAgBhP,EAAKoX,OAAO,IAE3DzO,OAAO0O,aAAgBvO,GAAeC,GAMxCyM,EAAMnL,SAASiN,YAAY,SAC3B9B,EAAI+B,UAAUvX,GAAM,GAAM,IAN1BwV,EAAM,IAAI6B,YAAYrX,EAAM,CAC1BwX,SAAS,EACTC,YAAY,IAOhBjC,EAAIkC,GAAKjB,GAAQH,EACjBd,EAAImC,KAAOjB,GAAUJ,EACrBd,EAAIhR,KAAO+R,GAAYD,EACvBd,EAAIvG,MAAQuH,EACZhB,EAAImB,SAAWA,EACfnB,EAAIoB,SAAWA,EACfpB,EAAIqB,kBAAoBA,EACxBrB,EAAIsB,kBAAoBA,EACxBtB,EAAIuB,cAAgBA,EACpBvB,EAAIoC,SAAWZ,EAAcA,EAAYa,iBAAcC,EAEvD,IAAIC,EAAqBtR,EAAeA,EAAe,CAAC,EAAGwQ,GAAuBnC,GAAckB,mBAAmBhW,EAAMuV,IAEzH,IAAK,IAAIN,KAAU8C,EACjBvC,EAAIP,GAAU8C,EAAmB9C,GAG/BqB,GACFA,EAAOF,cAAcZ,GAGnBrH,EAAQ+I,IACV/I,EAAQ+I,GAAQnP,KAAKwN,EAAUC,EArCZ,CAuCvB,CAEA,IAAIwC,GAAY,CAAC,OAEb3C,GAAc,SAAqBC,EAAWC,GAChD,IAAIc,EAAO1P,UAAUC,OAAS,QAAsBkR,IAAjBnR,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAC5EoQ,EAAgBV,EAAKb,IACrByC,EAAO5P,EAAyBgO,EAAM2B,IAE1ClD,GAAcO,YAAY6C,KAAK1J,GAA/BsG,CAAyCQ,EAAWC,EAAU9O,EAAe,CAC3E0R,OAAQA,GACRC,SAAUA,GACVC,QAASA,GACT/B,OAAQA,GACRgC,OAAQA,GACRC,WAAYA,GACZ/B,QAASA,GACTgC,YAAaA,GACbC,YAAaC,GACb1B,YAAaA,GACb2B,eAAgBnK,GAASoK,OACzB7B,cAAeA,EACfJ,SAAUA,GACVE,kBAAmBA,GACnBD,SAAUA,GACVE,kBAAmBA,GACnB+B,mBAAoBC,GACpBC,qBAAsBC,GACtBC,eAAgB,WACdT,IAAc,CAChB,EACAU,cAAe,WACbV,IAAc,CAChB,EACAW,sBAAuB,SAA+BnZ,GACpDoZ,GAAe,CACb7D,SAAUA,EACVvV,KAAMA,EACN+W,cAAeA,GAEnB,GACCkB,GACL,EAEA,SAASmB,GAAeC,GACtBjD,GAAc3P,EAAe,CAC3BuQ,YAAaA,GACbR,QAASA,GACTD,SAAU4B,GACV7B,OAAQA,GACRK,SAAUA,GACVE,kBAAmBA,GACnBD,SAAUA,GACVE,kBAAmBA,IAClBuC,GACL,CAEA,IAAIlB,GACAC,GACAC,GACA/B,GACAgC,GACAC,GACA/B,GACAgC,GACA7B,GACAC,GACAC,GACAC,GACAwC,GACAtC,GAIAuC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAlB,GACAmB,GACAC,GAGAC,GAEJC,GAhBIC,IAAsB,EACtBC,IAAkB,EAClBC,GAAY,GAUZC,IAAwB,EACxBC,IAAyB,EAIzBC,GAAmC,GAEvCC,IAAU,EACNC,GAAoB,GAGpBC,GAAqC,qBAAbpQ,SACxBqQ,GAA0BxR,EAC1ByR,GAAmB5R,GAAQD,EAAa,WAAa,QAEzD8R,GAAmBH,KAAmBtR,IAAqBD,GAAO,cAAemB,SAASwQ,cAAc,OACpGC,GAA0B,WAC5B,GAAKL,GAAL,CAEA,GAAI3R,EACF,OAAO,EAGT,IAAIU,EAAKa,SAASwQ,cAAc,KAEhC,OADArR,EAAGlE,MAAMyV,QAAU,sBACe,SAA3BvR,EAAGlE,MAAM0V,aARW,CAS7B,CAV8B,GAW1BC,GAAmB,SAA0BzR,EAAI2E,GACnD,IAAI+M,EAAQjQ,EAAIzB,GACZ2R,EAAUhO,SAAS+N,EAAM9b,OAAS+N,SAAS+N,EAAM1b,aAAe2N,SAAS+N,EAAMzb,cAAgB0N,SAAS+N,EAAME,iBAAmBjO,SAAS+N,EAAMG,kBAChJC,EAASrN,GAASzE,EAAI,EAAG2E,GACzBoN,EAAStN,GAASzE,EAAI,EAAG2E,GACzBqN,EAAgBF,GAAUrQ,EAAIqQ,GAC9BG,EAAiBF,GAAUtQ,EAAIsQ,GAC/BG,EAAkBF,GAAiBrO,SAASqO,EAAcG,YAAcxO,SAASqO,EAAcI,aAAepP,EAAQ8O,GAAQlc,MAC9Hyc,EAAmBJ,GAAkBtO,SAASsO,EAAeE,YAAcxO,SAASsO,EAAeG,aAAepP,EAAQ+O,GAAQnc,MAEtI,GAAsB,SAAlB8b,EAAM3M,QACR,MAA+B,WAAxB2M,EAAMY,eAAsD,mBAAxBZ,EAAMY,cAAqC,WAAa,aAGrG,GAAsB,SAAlBZ,EAAM3M,QACR,OAAO2M,EAAMa,oBAAoBC,MAAM,KAAKpV,QAAU,EAAI,WAAa,aAGzE,GAAI0U,GAAUE,EAAc,UAAuC,SAA3BA,EAAc,SAAqB,CACzE,IAAIS,EAAgD,SAA3BT,EAAc,SAAsB,OAAS,QACtE,OAAOD,GAAoC,SAAzBE,EAAeS,OAAoBT,EAAeS,QAAUD,EAAmC,aAAb,UACtG,CAEA,OAAOX,IAAqC,UAA1BE,EAAcjN,SAAiD,SAA1BiN,EAAcjN,SAAgD,UAA1BiN,EAAcjN,SAAiD,SAA1BiN,EAAcjN,SAAsBmN,GAAmBP,GAAuC,SAA5BD,EAAMP,KAAgCY,GAAsC,SAA5BL,EAAMP,KAAgCe,EAAkBG,EAAmBV,GAAW,WAAa,YACvV,EACIgB,GAAqB,SAA4BC,EAAUC,EAAYC,GACzE,IAAIC,EAAcD,EAAWF,EAAS5a,KAAO4a,EAASza,IAClD6a,EAAcF,EAAWF,EAASrP,MAAQqP,EAAStP,OACnD2P,EAAkBH,EAAWF,EAAShd,MAAQgd,EAASxc,OACvD8c,EAAcJ,EAAWD,EAAW7a,KAAO6a,EAAW1a,IACtDgb,EAAcL,EAAWD,EAAWtP,MAAQsP,EAAWvP,OACvD8P,EAAkBN,EAAWD,EAAWjd,MAAQid,EAAWzc,OAC/D,OAAO2c,IAAgBG,GAAeF,IAAgBG,GAAeJ,EAAcE,EAAkB,IAAMC,EAAcE,EAAkB,CAC7I,EAQAC,GAA8B,SAAqCtL,EAAGC,GACpE,IAAIsL,EAYJ,OAXA3C,GAAU4C,MAAK,SAAUxH,GACvB,IAAIyH,EAAYzH,EAASxD,IAAS5D,QAAQ8O,qBAC1C,GAAKD,IAAarO,GAAU4G,GAA5B,CACA,IAAI9C,EAAOjG,EAAQ+I,GACf2H,EAAqB3L,GAAKkB,EAAKjR,KAAOwb,GAAazL,GAAKkB,EAAK1F,MAAQiQ,EACrEG,EAAmB3L,GAAKiB,EAAK9Q,IAAMqb,GAAaxL,GAAKiB,EAAK3F,OAASkQ,EAEvE,OAAIE,GAAsBC,EACjBL,EAAMvH,OADf,CAL6C,CAQ/C,IACOuH,CACT,EACIM,GAAgB,SAAuBjP,GACzC,SAASkP,EAAK5V,EAAO6V,GACnB,OAAO,SAAU5F,EAAIC,EAAMQ,EAAQ3C,GACjC,IAAI+H,EAAY7F,EAAGvJ,QAAQqP,MAAMxd,MAAQ2X,EAAKxJ,QAAQqP,MAAMxd,MAAQ0X,EAAGvJ,QAAQqP,MAAMxd,OAAS2X,EAAKxJ,QAAQqP,MAAMxd,KAEjH,GAAa,MAATyH,IAAkB6V,GAAQC,GAG5B,OAAO,EACF,GAAa,MAAT9V,IAA2B,IAAVA,EAC1B,OAAO,EACF,GAAI6V,GAAkB,UAAV7V,EACjB,OAAOA,EACF,GAAqB,oBAAVA,EAChB,OAAO4V,EAAK5V,EAAMiQ,EAAIC,EAAMQ,EAAQ3C,GAAM8H,EAAnCD,CAAyC3F,EAAIC,EAAMQ,EAAQ3C,GAElE,IAAIiI,GAAcH,EAAO5F,EAAKC,GAAMxJ,QAAQqP,MAAMxd,KAClD,OAAiB,IAAVyH,GAAmC,kBAAVA,GAAsBA,IAAUgW,GAAchW,EAAMiW,MAAQjW,EAAMW,QAAQqV,IAAe,CAE7H,CACF,CAEA,IAAID,EAAQ,CAAC,EACTG,EAAgBxP,EAAQqP,MAEvBG,GAA2C,UAA1BxW,EAAQwW,KAC5BA,EAAgB,CACd3d,KAAM2d,IAIVH,EAAMxd,KAAO2d,EAAc3d,KAC3Bwd,EAAMI,UAAYP,EAAKM,EAAcL,MAAM,GAC3CE,EAAMK,SAAWR,EAAKM,EAAcG,KACpCN,EAAMO,YAAcJ,EAAcI,YAClC5P,EAAQqP,MAAQA,CAClB,EACI1E,GAAsB,YACnBgC,IAA2BzC,IAC9BpN,EAAIoN,GAAS,UAAW,OAE5B,EACIW,GAAwB,YACrB8B,IAA2BzC,IAC9BpN,EAAIoN,GAAS,UAAW,GAE5B,EAGIoC,IACFpQ,SAASV,iBAAiB,SAAS,SAAU6L,GAC3C,GAAI0E,GAKF,OAJA1E,EAAIvT,iBACJuT,EAAIwI,iBAAmBxI,EAAIwI,kBAC3BxI,EAAIyI,0BAA4BzI,EAAIyI,2BACpC/D,IAAkB,GACX,CAEX,IAAG,GAGL,IAAIgE,GAAgC,SAAuC1I,GACzE,GAAI2C,GAAQ,CACV3C,EAAMA,EAAI2I,QAAU3I,EAAI2I,QAAQ,GAAK3I,EAErC,IAAI4I,EAAUvB,GAA4BrH,EAAIjU,QAASiU,EAAI9T,SAE3D,GAAI0c,EAAS,CAEX,IAAI3U,EAAQ,CAAC,EAEb,IAAK,IAAI/C,KAAK8O,EACRA,EAAI1N,eAAepB,KACrB+C,EAAM/C,GAAK8O,EAAI9O,IAInB+C,EAAMvI,OAASuI,EAAM6M,OAAS8H,EAC9B3U,EAAMxH,oBAAiB,EACvBwH,EAAMuU,qBAAkB,EAExBI,EAAQrM,IAASsM,YAAY5U,EAC/B,CACF,CACF,EAEI6U,GAAwB,SAA+B9I,GACrD2C,IACFA,GAAO5N,WAAWwH,IAASwM,iBAAiB/I,EAAItU,OAEpD,EAQA,SAASsN,GAAShF,EAAI2E,GACpB,IAAM3E,IAAMA,EAAGc,UAA4B,IAAhBd,EAAGc,SAC5B,KAAM,8CAA8C8K,OAAO,CAAC,EAAEoJ,SAASzW,KAAKyB,IAG9ExB,KAAKwB,GAAKA,EAEVxB,KAAKmG,QAAUA,EAAUvG,EAAS,CAAC,EAAGuG,GAEtC3E,EAAGuI,IAAW/J,KACd,IAAI4M,EAAW,CACb4I,MAAO,KACPiB,MAAM,EACNC,UAAU,EACVC,MAAO,KACPC,OAAQ,KACRnb,UAAW,WAAWob,KAAKrV,EAAGuF,UAAY,MAAQ,KAClD+P,cAAe,EAEfC,YAAY,EAEZC,sBAAuB,KAEvBC,mBAAmB,EACnBC,UAAW,WACT,OAAOjE,GAAiBzR,EAAIxB,KAAKmG,QACnC,EACAgR,WAAY,iBACZC,YAAa,kBACbC,UAAW,gBACXC,OAAQ,SACRnZ,OAAQ,KACRoZ,iBAAiB,EACjBjN,UAAW,EACXgC,OAAQ,KACRzS,QAAS,SAAiBD,EAAcuW,GACtCvW,EAAaC,QAAQ,OAAQsW,EAAOqH,YACtC,EACAC,YAAY,EACZC,gBAAgB,EAChBC,WAAY,UACZC,MAAO,EACPC,kBAAkB,EAClBC,qBAAsBpQ,OAAOvC,SAAWuC,OAAS/G,QAAQwE,SAASxE,OAAOoX,iBAAkB,KAAO,EAClGC,eAAe,EACfC,cAAe,oBACfC,gBAAgB,EAChBC,kBAAmB,EACnBC,eAAgB,CACd7O,EAAG,EACHC,EAAG,GAEL6O,gBAA4C,IAA5B7R,GAAS6R,gBAA4B,iBAAkB1X,SAAWM,EAClFgU,qBAAsB,GAIxB,IAAK,IAAIjd,KAFT8U,GAAcc,kBAAkB5N,KAAMwB,EAAIoL,GAEzBA,IACb5U,KAAQmO,KAAaA,EAAQnO,GAAQ4U,EAAS5U,IAMlD,IAAK,IAAI0J,KAHT0T,GAAcjP,GAGCnG,KACQ,MAAjB0B,EAAGyN,OAAO,IAAkC,oBAAbnP,KAAK0B,KACtC1B,KAAK0B,GAAM1B,KAAK0B,GAAIwO,KAAKlQ,OAK7BA,KAAKsY,iBAAkBnS,EAAQ6R,eAAwBpF,GAEnD5S,KAAKsY,kBAEPtY,KAAKmG,QAAQ2R,oBAAsB,GAIjC3R,EAAQkS,eACV9W,EAAGC,EAAI,cAAexB,KAAKuY,cAE3BhX,EAAGC,EAAI,YAAaxB,KAAKuY,aACzBhX,EAAGC,EAAI,aAAcxB,KAAKuY,cAGxBvY,KAAKsY,kBACP/W,EAAGC,EAAI,WAAYxB,MACnBuB,EAAGC,EAAI,YAAaxB,OAGtBmS,GAAU5T,KAAKyB,KAAKwB,IAEpB2E,EAAQwQ,OAASxQ,EAAQwQ,MAAM6B,KAAOxY,KAAKyW,KAAKtQ,EAAQwQ,MAAM6B,IAAIxY,OAAS,IAE3EJ,EAASI,KAAMkK,KACjB,CA+qCA,SAASuO,GAETjL,GACMA,EAAI5T,eACN4T,EAAI5T,aAAaM,WAAa,QAGhCsT,EAAIiC,YAAcjC,EAAIvT,gBACxB,CAEA,SAASye,GAAQhK,EAAQD,EAAM0B,EAAQiE,EAAU7F,EAAU8F,EAAYtF,EAAe4J,GACpF,IAAInL,EAGAoL,EAFArL,EAAWmB,EAAO3E,IAClB8O,EAAWtL,EAASpH,QAAQ2S,OA2BhC,OAxBInY,OAAO0O,aAAgBvO,GAAeC,GAMxCyM,EAAMnL,SAASiN,YAAY,SAC3B9B,EAAI+B,UAAU,QAAQ,GAAM,IAN5B/B,EAAM,IAAI6B,YAAY,OAAQ,CAC5BG,SAAS,EACTC,YAAY,IAOhBjC,EAAIkC,GAAKjB,EACTjB,EAAImC,KAAOjB,EACXlB,EAAI9G,QAAUyJ,EACd3C,EAAIuL,YAAc3E,EAClB5G,EAAIwL,QAAUzK,GAAYE,EAC1BjB,EAAIyL,YAAc5E,GAAc7P,EAAQiK,GACxCjB,EAAImL,gBAAkBA,EACtBnL,EAAIuB,cAAgBA,EACpBL,EAAON,cAAcZ,GAEjBqL,IACFD,EAASC,EAAS9Y,KAAKwN,EAAUC,EAAKuB,IAGjC6J,CACT,CAEA,SAASM,GAAkB1X,GACzBA,EAAG/F,WAAY,CACjB,CAEA,SAAS0d,KACP5G,IAAU,CACZ,CAEA,SAAS6G,GAAc5L,EAAK8G,EAAU/G,GACpC,IAAI9C,EAAOjG,EAAQyB,GAASsH,EAAS/L,GAAI,EAAG+L,EAASpH,SAAS,IAC1DkT,EAAS,GACb,OAAO/E,EAAW9G,EAAIjU,QAAUkR,EAAKjR,KAAO6f,GAAU7L,EAAI9T,QAAU+Q,EAAK9Q,KAAO6T,EAAIjU,QAAUkR,EAAK1F,MAAQyI,EAAI9T,QAAU+Q,EAAK9Q,IAAM0f,GAAU7L,EAAI9T,QAAU+Q,EAAK3F,QAAU0I,EAAIjU,QAAUkR,EAAKjR,IAChM,CAEA,SAAS8f,GAAa9L,EAAK8G,EAAU/G,GACnC,IAAI9C,EAAOjG,EAAQmC,GAAU4G,EAAS/L,GAAI+L,EAASpH,QAAQ1K,YACvD4d,EAAS,GACb,OAAO/E,EAAW9G,EAAIjU,QAAUkR,EAAK1F,MAAQsU,GAAU7L,EAAIjU,SAAWkR,EAAK1F,OAASyI,EAAI9T,QAAU+Q,EAAK3F,QAAU0I,EAAIjU,SAAWkR,EAAKjR,KAAOgU,EAAIjU,QAAUkR,EAAK1F,OAASyI,EAAI9T,QAAU+Q,EAAK9Q,KAAO6T,EAAIjU,SAAWkR,EAAK1F,OAASyI,EAAI9T,QAAU+Q,EAAK3F,OAASuU,CAC7P,CAEA,SAASE,GAAkB/L,EAAKtU,EAAQmb,EAAYC,EAAUwC,EAAeE,EAAuBD,EAAYyC,GAC9G,IAAIC,EAAcnF,EAAW9G,EAAI9T,QAAU8T,EAAIjU,QAC3CmgB,EAAepF,EAAWD,EAAWzc,OAASyc,EAAWjd,MACzDuiB,EAAWrF,EAAWD,EAAW1a,IAAM0a,EAAW7a,KAClDogB,EAAWtF,EAAWD,EAAWvP,OAASuP,EAAWtP,MACrD8U,GAAS,EAEb,IAAK9C,EAEH,GAAIyC,GAAgBzH,GAAqB2H,EAAe5C,GAQtD,IALK1E,KAA4C,IAAlBN,GAAsB2H,EAAcE,EAAWD,EAAe1C,EAAwB,EAAIyC,EAAcG,EAAWF,EAAe1C,EAAwB,KAEvL5E,IAAwB,GAGrBA,GAOHyH,GAAS,OALT,GAAsB,IAAlB/H,GAAsB2H,EAAcE,EAAW5H,GACjD0H,EAAcG,EAAW7H,GACzB,OAAQD,QAOZ,GAAI2H,EAAcE,EAAWD,GAAgB,EAAI5C,GAAiB,GAAK2C,EAAcG,EAAWF,GAAgB,EAAI5C,GAAiB,EACnI,OAAOgD,GAAoB5gB,GAOjC,OAFA2gB,EAASA,GAAU9C,EAEf8C,IAEEJ,EAAcE,EAAWD,EAAe1C,EAAwB,GAAKyC,EAAcG,EAAWF,EAAe1C,EAAwB,GAChIyC,EAAcE,EAAWD,EAAe,EAAI,GAAK,EAIrD,CACT,CASA,SAASI,GAAoB5gB,GAC3B,OAAIuD,GAAM0T,IAAU1T,GAAMvD,GACjB,GAEC,CAEZ,CASA,SAAS6gB,GAAYvY,GACnB,IAAIwY,EAAMxY,EAAGyC,QAAUzC,EAAGuB,UAAYvB,EAAGgH,IAAMhH,EAAGyY,KAAOzY,EAAGgW,YACxD9Y,EAAIsb,EAAIpb,OACRsb,EAAM,EAEV,MAAOxb,IACLwb,GAAOF,EAAIG,WAAWzb,GAGxB,OAAOwb,EAAI1D,SAAS,GACtB,CAEA,SAAS4D,GAAuBC,GAC9B7H,GAAkB5T,OAAS,EAC3B,IAAI0b,EAASD,EAAKlW,qBAAqB,SACnCoW,EAAMD,EAAO1b,OAEjB,MAAO2b,IAAO,CACZ,IAAI/Y,EAAK8Y,EAAOC,GAChB/Y,EAAGgZ,SAAWhI,GAAkBjU,KAAKiD,EACvC,CACF,CAEA,SAASiZ,GAAU/Y,GACjB,OAAOyH,WAAWzH,EAAI,EACxB,CAEA,SAASgZ,GAAgBC,GACvB,OAAOtR,aAAasR,EACtB,CA70CAnU,GAAShH,UAET,CACED,YAAaiH,GACb+P,iBAAkB,SAA0Brd,GACrC8G,KAAKwB,GAAGoZ,SAAS1hB,IAAWA,IAAW8G,KAAKwB,KAC/CqQ,GAAa,KAEjB,EACAgJ,cAAe,SAAuBrN,EAAKtU,GACzC,MAAyC,oBAA3B8G,KAAKmG,QAAQ+Q,UAA2BlX,KAAKmG,QAAQ+Q,UAAUnX,KAAKC,KAAMwN,EAAKtU,EAAQiX,IAAUnQ,KAAKmG,QAAQ+Q,SAC9H,EACAqB,YAAa,SAEb/K,GACE,GAAKA,EAAIiC,WAAT,CAEA,IAAIvG,EAAQlJ,KACRwB,EAAKxB,KAAKwB,GACV2E,EAAUnG,KAAKmG,QACfoR,EAAkBpR,EAAQoR,gBAC1BuD,EAAOtN,EAAIsN,KACXC,EAAQvN,EAAI2I,SAAW3I,EAAI2I,QAAQ,IAAM3I,EAAIwN,aAAmC,UAApBxN,EAAIwN,aAA2BxN,EAC3FtU,GAAU6hB,GAASvN,GAAKtU,OACxB+hB,EAAiBzN,EAAItU,OAAOgiB,aAAe1N,EAAI2N,MAAQ3N,EAAI2N,KAAK,IAAM3N,EAAI4N,cAAgB5N,EAAI4N,eAAe,KAAOliB,EACpHiF,EAASgI,EAAQhI,OAKrB,GAHAic,GAAuB5Y,IAGnB2O,MAIA,wBAAwB0G,KAAKiE,IAAwB,IAAftN,EAAI6N,QAAgBlV,EAAQuQ,YAKlEuE,EAAeK,oBAKdtb,KAAKsY,kBAAmBrX,IAAU/H,GAA2C,WAAjCA,EAAO+K,QAAQ+C,iBAIhE9N,EAASC,EAAQD,EAAQiN,EAAQ1K,UAAW+F,GAAI,KAE5CtI,IAAUA,EAAOqT,WAIjBgE,KAAerX,GAAnB,CASA,GAHAyV,GAAWlS,GAAMvD,GACjB2V,GAAoBpS,GAAMvD,EAAQiN,EAAQ1K,WAEpB,oBAAX0C,GACT,GAAIA,EAAO4B,KAAKC,KAAMwN,EAAKtU,EAAQ8G,MAcjC,OAbAoR,GAAe,CACb7D,SAAUrE,EACVoF,OAAQ2M,EACRjjB,KAAM,SACNuW,SAAUrV,EACVuV,KAAMjN,EACNkN,OAAQlN,IAGV6L,GAAY,SAAUnE,EAAO,CAC3BsE,IAAKA,SAEP+J,GAAmB/J,EAAIiC,YAAcjC,EAAIvT,uBAGtC,GAAIkE,IACTA,EAASA,EAAO6V,MAAM,KAAKe,MAAK,SAAUwG,GAGxC,GAFAA,EAAWpiB,EAAQ8hB,EAAgBM,EAASC,OAAQha,GAAI,GAEpD+Z,EAaF,OAZAnK,GAAe,CACb7D,SAAUrE,EACVoF,OAAQiN,EACRvjB,KAAM,SACNuW,SAAUrV,EACVwV,OAAQlN,EACRiN,KAAMjN,IAGR6L,GAAY,SAAUnE,EAAO,CAC3BsE,IAAKA,KAEA,CAEX,IAEIrP,GAEF,YADAoZ,GAAmB/J,EAAIiC,YAAcjC,EAAIvT,kBAKzCkM,EAAQyQ,SAAWzd,EAAQ8hB,EAAgB9U,EAAQyQ,OAAQpV,GAAI,IAKnExB,KAAKyb,kBAAkBjO,EAAKuN,EAAO7hB,EAvDnC,CA1C2B,CAkG7B,EACAuiB,kBAAmB,SAEnBjO,EAEAuN,EAEA7hB,GACE,IAIIwiB,EAJAxS,EAAQlJ,KACRwB,EAAK0H,EAAM1H,GACX2E,EAAU+C,EAAM/C,QAChBwV,EAAgBna,EAAGma,cAGvB,GAAIziB,IAAWiX,IAAUjX,EAAOqJ,aAAef,EAAI,CACjD,IAAI4S,EAAW5P,EAAQtL,GAwEvB,GAvEAoV,GAAS9M,EACT2O,GAASjX,EACTkX,GAAWD,GAAO5N,WAClB+N,GAASH,GAAOyL,YAChBrL,GAAarX,EACboY,GAAcnL,EAAQqP,MACtBhP,GAASE,QAAUyJ,GACnBoB,GAAS,CACPrY,OAAQiX,GACR5W,SAAUwhB,GAASvN,GAAKjU,QACxBG,SAAUqhB,GAASvN,GAAK9T,SAE1BiY,GAAkBJ,GAAOhY,QAAU6a,EAAS5a,KAC5CoY,GAAiBL,GAAO7X,QAAU0a,EAASza,IAC3CqG,KAAK6b,QAAUd,GAASvN,GAAKjU,QAC7ByG,KAAK8b,QAAUf,GAASvN,GAAK9T,QAC7ByW,GAAO7S,MAAM,eAAiB,MAE9Boe,EAAc,WACZrO,GAAY,aAAcnE,EAAO,CAC/BsE,IAAKA,IAGHhH,GAASiH,cACXvE,EAAM6S,WAOR7S,EAAM8S,6BAEDhb,GAAWkI,EAAMoP,kBACpBnI,GAAO1U,WAAY,GAIrByN,EAAM+S,kBAAkBzO,EAAKuN,GAG7B3J,GAAe,CACb7D,SAAUrE,EACVlR,KAAM,SACN+W,cAAevB,IAIjB5K,EAAYuN,GAAQhK,EAAQiR,aAAa,GAC3C,EAGAjR,EAAQmR,OAAOtD,MAAM,KAAKlV,SAAQ,SAAUyc,GAC1CvX,EAAKmM,GAAQoL,EAASC,OAAQtC,GAChC,IACA3X,EAAGoa,EAAe,WAAYzF,IAC9B3U,EAAGoa,EAAe,YAAazF,IAC/B3U,EAAGoa,EAAe,YAAazF,IAC/B3U,EAAGoa,EAAe,UAAWzS,EAAM6S,SACnCxa,EAAGoa,EAAe,WAAYzS,EAAM6S,SACpCxa,EAAGoa,EAAe,cAAezS,EAAM6S,SAEnC/a,GAAWhB,KAAKsY,kBAClBtY,KAAKmG,QAAQ2R,oBAAsB,EACnC3H,GAAO1U,WAAY,GAGrB4R,GAAY,aAAcrN,KAAM,CAC9BwN,IAAKA,KAGHrH,EAAQyR,OAAWzR,EAAQ0R,mBAAoBkD,GAAY/a,KAAKsY,kBAAqBvX,GAAQD,GAkB/F4a,QAlB6G,CAC7G,GAAIlV,GAASiH,cAGX,YAFAzN,KAAK+b,UAQPxa,EAAGoa,EAAe,UAAWzS,EAAMgT,qBACnC3a,EAAGoa,EAAe,WAAYzS,EAAMgT,qBACpC3a,EAAGoa,EAAe,cAAezS,EAAMgT,qBACvC3a,EAAGoa,EAAe,YAAazS,EAAMiT,8BACrC5a,EAAGoa,EAAe,YAAazS,EAAMiT,8BACrChW,EAAQkS,gBAAkB9W,EAAGoa,EAAe,cAAezS,EAAMiT,8BACjEjT,EAAMkT,gBAAkBjT,WAAWuS,EAAavV,EAAQyR,MAC1D,CAGF,CACF,EACAuE,6BAA8B,SAE9BpjB,GACE,IAAIgiB,EAAQhiB,EAAEod,QAAUpd,EAAEod,QAAQ,GAAKpd,EAEnC6P,KAAKgD,IAAIhD,KAAKyT,IAAItB,EAAMxhB,QAAUyG,KAAK6b,QAASjT,KAAKyT,IAAItB,EAAMrhB,QAAUsG,KAAK8b,UAAYlT,KAAK0T,MAAMtc,KAAKmG,QAAQ2R,qBAAuB9X,KAAKsY,iBAAmB3X,OAAOoX,kBAAoB,KAC9L/X,KAAKkc,qBAET,EACAA,oBAAqB,WACnB/L,IAAU+I,GAAkB/I,IAC5B9G,aAAarJ,KAAKoc,iBAElBpc,KAAKgc,2BACP,EACAA,0BAA2B,WACzB,IAAIL,EAAgB3b,KAAKwB,GAAGma,cAC5B/Z,EAAI+Z,EAAe,UAAW3b,KAAKkc,qBACnCta,EAAI+Z,EAAe,WAAY3b,KAAKkc,qBACpCta,EAAI+Z,EAAe,cAAe3b,KAAKkc,qBACvCta,EAAI+Z,EAAe,YAAa3b,KAAKmc,8BACrCva,EAAI+Z,EAAe,YAAa3b,KAAKmc,8BACrCva,EAAI+Z,EAAe,cAAe3b,KAAKmc,6BACzC,EACAF,kBAAmB,SAEnBzO,EAEAuN,GACEA,EAAQA,GAA4B,SAAnBvN,EAAIwN,aAA0BxN,GAE1CxN,KAAKsY,iBAAmByC,EACvB/a,KAAKmG,QAAQkS,eACf9W,EAAGc,SAAU,cAAerC,KAAKuc,cAEjChb,EAAGc,SADM0Y,EACI,YAEA,YAFa/a,KAAKuc,eAKjChb,EAAG4O,GAAQ,UAAWnQ,MACtBuB,EAAG+M,GAAQ,YAAatO,KAAKwc,eAG/B,IACMna,SAASoa,UAEXhC,IAAU,WACRpY,SAASoa,UAAUC,OACrB,IAEA/b,OAAOgc,eAAeC,iBAE1B,CAAE,MAAOC,GAAM,CACjB,EACAC,aAAc,SAAsBC,EAAUvP,GAI5C,GAFAyE,IAAsB,EAElB3D,IAAU6B,GAAQ,CACpB9C,GAAY,cAAerN,KAAM,CAC/BwN,IAAKA,IAGHxN,KAAKsY,iBACP/W,EAAGc,SAAU,WAAYiU,IAG3B,IAAInQ,EAAUnG,KAAKmG,SAElB4W,GAAYna,EAAYuN,GAAQhK,EAAQkR,WAAW,GACpDzU,EAAYuN,GAAQhK,EAAQgR,YAAY,GACxC3Q,GAASoK,OAAS5Q,KAClB+c,GAAY/c,KAAKgd,eAEjB5L,GAAe,CACb7D,SAAUvN,KACVhI,KAAM,QACN+W,cAAevB,GAEnB,MACExN,KAAKid,UAET,EACAC,iBAAkB,WAChB,GAAI1L,GAAU,CACZxR,KAAK6b,OAASrK,GAASjY,QACvByG,KAAK8b,OAAStK,GAAS9X,QAEvBoX,KAEA,IAAI5X,EAASmJ,SAAS8a,iBAAiB3L,GAASjY,QAASiY,GAAS9X,SAC9DkM,EAAS1M,EAEb,MAAOA,GAAUA,EAAOgiB,WAAY,CAElC,GADAhiB,EAASA,EAAOgiB,WAAWiC,iBAAiB3L,GAASjY,QAASiY,GAAS9X,SACnER,IAAW0M,EAAQ,MACvBA,EAAS1M,CACX,CAIA,GAFAiX,GAAO5N,WAAWwH,IAASwM,iBAAiBrd,GAExC0M,EACF,EAAG,CACD,GAAIA,EAAOmE,IAAU,CACnB,IAAIqT,OAAW,EAQf,GAPAA,EAAWxX,EAAOmE,IAASsM,YAAY,CACrC9c,QAASiY,GAASjY,QAClBG,QAAS8X,GAAS9X,QAClBR,OAAQA,EACRoV,OAAQ1I,IAGNwX,IAAapd,KAAKmG,QAAQuR,eAC5B,KAEJ,CAEAxe,EAAS0M,CACX,OAEOA,EAASA,EAAOrD,YAGzByO,IACF,CACF,EACAuL,aAAc,SAEd/O,GACE,GAAI+D,GAAQ,CACV,IAAIpL,EAAUnG,KAAKmG,QACfgS,EAAoBhS,EAAQgS,kBAC5BC,EAAiBjS,EAAQiS,eACzB2C,EAAQvN,EAAI2I,QAAU3I,EAAI2I,QAAQ,GAAK3I,EACvC6P,EAAchN,IAAW9M,EAAO8M,IAAS,GACzChL,EAASgL,IAAWgN,GAAeA,EAAY/X,EAC/CC,EAAS8K,IAAWgN,GAAeA,EAAY7X,EAC/C8X,EAAuB5K,IAA2BV,IAAuB9K,GAAwB8K,IACjGuL,GAAMxC,EAAMxhB,QAAUgY,GAAOhY,QAAU6e,EAAe7O,IAAMlE,GAAU,IAAMiY,EAAuBA,EAAqB,GAAKhL,GAAiC,GAAK,IAAMjN,GAAU,GACnLmY,GAAMzC,EAAMrhB,QAAU6X,GAAO7X,QAAU0e,EAAe5O,IAAMjE,GAAU,IAAM+X,EAAuBA,EAAqB,GAAKhL,GAAiC,GAAK,IAAM/M,GAAU,GAEvL,IAAKiB,GAASoK,SAAWqB,GAAqB,CAC5C,GAAIkG,GAAqBvP,KAAKgD,IAAIhD,KAAKyT,IAAItB,EAAMxhB,QAAUyG,KAAK6b,QAASjT,KAAKyT,IAAItB,EAAMrhB,QAAUsG,KAAK8b,SAAW3D,EAChH,OAGFnY,KAAKwc,aAAahP,GAAK,EACzB,CAEA,GAAI6C,GAAS,CACPgN,GACFA,EAAYtkB,GAAKwkB,GAAM9L,IAAU,GACjC4L,EAAYxS,GAAK2S,GAAM9L,IAAU,IAEjC2L,EAAc,CACZ/X,EAAG,EACHmY,EAAG,EACHC,EAAG,EACHlY,EAAG,EACHzM,EAAGwkB,EACH1S,EAAG2S,GAIP,IAAIG,EAAY,UAAUvQ,OAAOiQ,EAAY/X,EAAG,KAAK8H,OAAOiQ,EAAYI,EAAG,KAAKrQ,OAAOiQ,EAAYK,EAAG,KAAKtQ,OAAOiQ,EAAY7X,EAAG,KAAK4H,OAAOiQ,EAAYtkB,EAAG,KAAKqU,OAAOiQ,EAAYxS,EAAG,KACvL5H,EAAIoN,GAAS,kBAAmBsN,GAChC1a,EAAIoN,GAAS,eAAgBsN,GAC7B1a,EAAIoN,GAAS,cAAesN,GAC5B1a,EAAIoN,GAAS,YAAasN,GAC1BlM,GAAS8L,EACT7L,GAAS8L,EACThM,GAAWuJ,CACb,CAEAvN,EAAIiC,YAAcjC,EAAIvT,gBACxB,CACF,EACA+iB,aAAc,WAGZ,IAAK3M,GAAS,CACZ,IAAIzL,EAAY5E,KAAKmG,QAAQ+R,eAAiB7V,SAASgG,KAAOiG,GAC1D7D,EAAOjG,EAAQ2L,IAAQ,EAAMuC,IAAyB,EAAM9N,GAC5DuB,EAAUnG,KAAKmG,QAEnB,GAAIuM,GAAyB,CAE3BV,GAAsBpN,EAEtB,MAAgD,WAAzC3B,EAAI+O,GAAqB,aAAsE,SAA1C/O,EAAI+O,GAAqB,cAA2BA,KAAwB3P,SACtI2P,GAAsBA,GAAoBzP,WAGxCyP,KAAwB3P,SAASgG,MAAQ2J,KAAwB3P,SAASkC,iBACxEyN,KAAwB3P,WAAU2P,GAAsB3N,KAC5DoG,EAAK9Q,KAAOqY,GAAoBzK,UAChCkD,EAAKjR,MAAQwY,GAAoB1K,YAEjC0K,GAAsB3N,IAGxBiO,GAAmCpL,GAAwB8K,GAC7D,CAEA3B,GAAUF,GAAOrG,WAAU,GAC3BlH,EAAYyN,GAASlK,EAAQgR,YAAY,GACzCvU,EAAYyN,GAASlK,EAAQ8R,eAAe,GAC5CrV,EAAYyN,GAASlK,EAAQkR,WAAW,GACxCpU,EAAIoN,GAAS,aAAc,IAC3BpN,EAAIoN,GAAS,YAAa,IAC1BpN,EAAIoN,GAAS,aAAc,cAC3BpN,EAAIoN,GAAS,SAAU,GACvBpN,EAAIoN,GAAS,MAAO5F,EAAK9Q,KACzBsJ,EAAIoN,GAAS,OAAQ5F,EAAKjR,MAC1ByJ,EAAIoN,GAAS,QAAS5F,EAAKrT,OAC3B6L,EAAIoN,GAAS,SAAU5F,EAAK7S,QAC5BqL,EAAIoN,GAAS,UAAW,OACxBpN,EAAIoN,GAAS,WAAYqC,GAA0B,WAAa,SAChEzP,EAAIoN,GAAS,SAAU,UACvBpN,EAAIoN,GAAS,gBAAiB,QAC9B7J,GAASC,MAAQ4J,GACjBzL,EAAUgZ,YAAYvN,IAEtBpN,EAAIoN,GAAS,mBAAoBsB,GAAkBxM,SAASkL,GAAQ/S,MAAMlG,OAAS,IAAM,KAAOwa,GAAiBzM,SAASkL,GAAQ/S,MAAM1F,QAAU,IAAM,IAC1J,CACF,EACA4kB,aAAc,SAEdhP,EAEAuP,GACE,IAAI7T,EAAQlJ,KAERpG,EAAe4T,EAAI5T,aACnBuM,EAAU+C,EAAM/C,QACpBkH,GAAY,YAAarN,KAAM,CAC7BwN,IAAKA,IAGHhH,GAASiH,cACXzN,KAAK+b,WAKP1O,GAAY,aAAcrN,MAErBwG,GAASiH,gBACZe,GAAUvH,GAAMkJ,IAChB3B,GAAQ/S,WAAY,EACpB+S,GAAQlR,MAAM,eAAiB,GAE/B0C,KAAK6d,aAELjb,EAAY4L,GAASxO,KAAKmG,QAAQiR,aAAa,GAC/C5Q,GAASS,MAAQuH,IAInBtF,EAAM4U,QAAUrD,IAAU,WACxBpN,GAAY,QAASnE,GACjB1C,GAASiH,gBAERvE,EAAM/C,QAAQ8Q,mBACjB3I,GAAOyP,aAAavP,GAAS2B,IAG/BjH,EAAM2U,aAENzM,GAAe,CACb7D,SAAUrE,EACVlR,KAAM,UAEV,KACC+kB,GAAYna,EAAYuN,GAAQhK,EAAQkR,WAAW,GAEhD0F,GACF7K,IAAkB,EAClBhJ,EAAM8U,QAAUC,YAAY/U,EAAMgU,iBAAkB,MAGpDtb,EAAIS,SAAU,UAAW6G,EAAM6S,SAC/Bna,EAAIS,SAAU,WAAY6G,EAAM6S,SAChCna,EAAIS,SAAU,cAAe6G,EAAM6S,SAE/BniB,IACFA,EAAaskB,cAAgB,OAC7B/X,EAAQtM,SAAWsM,EAAQtM,QAAQkG,KAAKmJ,EAAOtP,EAAcuW,KAG/D5O,EAAGc,SAAU,OAAQ6G,GAErBjG,EAAIkN,GAAQ,YAAa,kBAG3B8B,IAAsB,EACtB/I,EAAMiV,aAAe1D,GAAUvR,EAAM4T,aAAa5M,KAAKhH,EAAO6T,EAAUvP,IACxEjM,EAAGc,SAAU,cAAe6G,GAC5BwH,IAAQ,EAEJzP,GACFgC,EAAIZ,SAASgG,KAAM,cAAe,QAEtC,EAEAgO,YAAa,SAEb7I,GACE,IAEI4G,EACAC,EACA+J,EAOA9J,EAXA9S,EAAKxB,KAAKwB,GACVtI,EAASsU,EAAItU,OAIbiN,EAAUnG,KAAKmG,QACfqP,EAAQrP,EAAQqP,MAChB7E,EAAiBnK,GAASoK,OAC1ByN,EAAU/M,KAAgBkE,EAC1B8I,EAAUnY,EAAQsQ,KAClB8H,EAAevP,IAAe2B,EAE9BzH,EAAQlJ,KACRwe,GAAiB,EAErB,IAAIjM,GAAJ,CAgHA,QAN2B,IAAvB/E,EAAIvT,gBACNuT,EAAIiC,YAAcjC,EAAIvT,iBAGxBf,EAASC,EAAQD,EAAQiN,EAAQ1K,UAAW+F,GAAI,GAChDid,EAAc,YACVjY,GAASiH,cAAe,OAAO+Q,EAEnC,GAAIrO,GAAOyK,SAASpN,EAAItU,SAAWA,EAAOqT,UAAYrT,EAAOgT,YAAchT,EAAOiT,YAAcjD,EAAMwV,wBAA0BxlB,EAC9H,OAAOylB,GAAU,GAKnB,GAFAzM,IAAkB,EAEdvB,IAAmBxK,EAAQuQ,WAAa2H,EAAUC,IAAYF,EAAShO,KAAa9B,IACtFU,KAAgBhP,OAASA,KAAK6P,YAAcyB,GAAYsE,UAAU5V,KAAM2Q,EAAgBR,GAAQ3C,KAASgI,EAAMK,SAAS7V,KAAM2Q,EAAgBR,GAAQ3C,IAAO,CAI7J,GAHA8G,EAA+C,aAApCtU,KAAK6a,cAAcrN,EAAKtU,GACnCkb,EAAW5P,EAAQ2L,IACnBsO,EAAc,iBACVjY,GAASiH,cAAe,OAAO+Q,EAEnC,GAAIJ,EAiBF,OAhBAhO,GAAW9B,GAEXjN,IAEArB,KAAK6d,aAELY,EAAc,UAETjY,GAASiH,gBACR6C,GACFhC,GAAOyP,aAAa5N,GAAQG,IAE5BhC,GAAOsP,YAAYzN,KAIhBwO,GAAU,GAGnB,IAAIC,EAAcjY,GAAUnF,EAAI2E,EAAQ1K,WAExC,IAAKmjB,GAAetF,GAAa9L,EAAK8G,EAAUtU,QAAU4e,EAAYrS,SAAU,CAG9E,GAAIqS,IAAgBzO,GAClB,OAAOwO,GAAU,GAYnB,GARIC,GAAepd,IAAOgM,EAAItU,SAC5BA,EAAS0lB,GAGP1lB,IACFmb,EAAa7P,EAAQtL,KAG0D,IAA7Ewf,GAAQpK,GAAQ9M,EAAI2O,GAAQiE,EAAUlb,EAAQmb,EAAY7G,IAAOtU,GAMnE,OALAmI,IACAG,EAAGoc,YAAYzN,IACfC,GAAW5O,EAEXqd,IACOF,GAAU,EAErB,MAAO,GAAIC,GAAexF,GAAc5L,EAAK8G,EAAUtU,MAAO,CAE5D,IAAI8e,EAAa7Y,GAASzE,EAAI,EAAG2E,GAAS,GAE1C,GAAI2Y,IAAe3O,GACjB,OAAOwO,GAAU,GAMnB,GAHAzlB,EAAS4lB,EACTzK,EAAa7P,EAAQtL,IAEyD,IAA1Ewf,GAAQpK,GAAQ9M,EAAI2O,GAAQiE,EAAUlb,EAAQmb,EAAY7G,GAAK,GAMjE,OALAnM,IACAG,EAAGuc,aAAa5N,GAAQ2O,GACxB1O,GAAW5O,EAEXqd,IACOF,GAAU,EAErB,MAAO,GAAIzlB,EAAOqJ,aAAef,EAAI,CACnC6S,EAAa7P,EAAQtL,GACrB,IACI6lB,EAcAC,EAfA9H,EAAY,EAEZ+H,EAAiB9O,GAAO5N,aAAef,EACvC0d,GAAmB/K,GAAmBhE,GAAO5D,UAAY4D,GAAO9E,QAAU+I,EAAUlb,EAAOqT,UAAYrT,EAAOmS,QAAUgJ,EAAYC,GACpI6K,EAAQ7K,EAAW,MAAQ,OAC3B8K,EAAkB3Z,EAAevM,EAAQ,MAAO,QAAUuM,EAAe0K,GAAQ,MAAO,OACxFkP,EAAeD,EAAkBA,EAAgB7X,eAAY,EAWjE,GATIsK,KAAe3Y,IACjB6lB,EAAwB1K,EAAW8K,GACnC/M,IAAwB,EACxBC,IAA0B6M,GAAmB/Y,EAAQ4Q,YAAckI,GAGrE/H,EAAYqC,GAAkB/L,EAAKtU,EAAQmb,EAAYC,EAAU4K,EAAkB,EAAI/Y,EAAQ2Q,cAAgD,MAAjC3Q,EAAQ6Q,sBAAgC7Q,EAAQ2Q,cAAgB3Q,EAAQ6Q,sBAAuB3E,GAAwBR,KAAe3Y,GAGlO,IAAdge,EAAiB,CAEnB,IAAIoI,EAAY7iB,GAAM0T,IAEtB,GACEmP,GAAapI,EACb8H,EAAU5O,GAAS9J,SAASgZ,SACrBN,IAAwC,SAA5B/b,EAAI+b,EAAS,YAAyBA,IAAY3O,IACzE,CAGA,GAAkB,IAAd6G,GAAmB8H,IAAY9lB,EACjC,OAAOylB,GAAU,GAGnB9M,GAAa3Y,EACb4Y,GAAgBoF,EAChB,IAAI0E,EAAc1iB,EAAOqmB,mBACrBC,GAAQ,EACZA,EAAsB,IAAdtI,EAER,IAAIuI,EAAa/G,GAAQpK,GAAQ9M,EAAI2O,GAAQiE,EAAUlb,EAAQmb,EAAY7G,EAAKgS,GAEhF,IAAmB,IAAfC,EA4BF,OA3BmB,IAAfA,IAAoC,IAAhBA,IACtBD,EAAuB,IAAfC,GAGVlN,IAAU,EACVpJ,WAAWgQ,GAAW,IACtB9X,IAEIme,IAAU5D,EACZpa,EAAGoc,YAAYzN,IAEfjX,EAAOqJ,WAAWwb,aAAa5N,GAAQqP,EAAQ5D,EAAc1iB,GAI3DkmB,GACF9V,GAAS8V,EAAiB,EAAGC,EAAeD,EAAgB7X,WAG9D6I,GAAWD,GAAO5N,gBAGYuN,IAA1BiP,GAAwC1M,KAC1CN,GAAqBnJ,KAAKyT,IAAI0C,EAAwBva,EAAQtL,GAAQimB,KAGxEN,IACOF,GAAU,EAErB,CAEA,GAAInd,EAAGoZ,SAASzK,IACd,OAAOwO,GAAU,EAErB,CAEA,OAAO,CA/QY,CAEnB,SAASF,EAAczmB,EAAM0nB,GAC3BrS,GAAYrV,EAAMkR,EAAOzK,EAAe,CACtC+O,IAAKA,EACL6Q,QAASA,EACTsB,KAAMrL,EAAW,WAAa,aAC9B8J,OAAQA,EACRhK,SAAUA,EACVC,WAAYA,EACZiK,QAASA,EACTC,aAAcA,EACdrlB,OAAQA,EACRylB,UAAWA,EACX7F,OAAQ,SAAgB5f,EAAQsmB,GAC9B,OAAO9G,GAAQpK,GAAQ9M,EAAI2O,GAAQiE,EAAUlb,EAAQsL,EAAQtL,GAASsU,EAAKgS,EAC7E,EACAX,QAASA,GACRa,GACL,CAGA,SAASre,IACPod,EAAc,4BAEdvV,EAAMmB,wBAEFnB,IAAUqV,GACZA,EAAalU,uBAEjB,CAGA,SAASsU,EAAUiB,GAuDjB,OAtDAnB,EAAc,oBAAqB,CACjCmB,UAAWA,IAGTA,IAEEvB,EACF1N,EAAekN,aAEflN,EAAekP,WAAW3W,GAGxBA,IAAUqV,IAEZ3b,EAAYuN,GAAQnB,GAAcA,GAAY7I,QAAQgR,WAAaxG,EAAexK,QAAQgR,YAAY,GACtGvU,EAAYuN,GAAQhK,EAAQgR,YAAY,IAGtCnI,KAAgB9F,GAASA,IAAU1C,GAASoK,OAC9C5B,GAAc9F,EACLA,IAAU1C,GAASoK,QAAU5B,KACtCA,GAAc,MAIZuP,IAAiBrV,IACnBA,EAAMwV,sBAAwBxlB,GAGhCgQ,EAAM+B,YAAW,WACfwT,EAAc,6BACdvV,EAAMwV,sBAAwB,IAChC,IAEIxV,IAAUqV,IACZA,EAAatT,aACbsT,EAAaG,sBAAwB,QAKrCxlB,IAAWiX,KAAWA,GAAO5D,UAAYrT,IAAWsI,IAAOtI,EAAOqT,YACpEsF,GAAa,MAIV1L,EAAQuR,gBAAmBlK,EAAIc,QAAUpV,IAAWmJ,WACvD8N,GAAO5N,WAAWwH,IAASwM,iBAAiB/I,EAAItU,SAG/C0mB,GAAa1J,GAA8B1I,KAG7CrH,EAAQuR,gBAAkBlK,EAAIwI,iBAAmBxI,EAAIwI,kBAC/CwI,GAAiB,CAC1B,CAGA,SAASK,IACPjQ,GAAWnS,GAAM0T,IACjBrB,GAAoBrS,GAAM0T,GAAQhK,EAAQ1K,WAE1C2V,GAAe,CACb7D,SAAUrE,EACVlR,KAAM,SACNyW,KAAMjN,EACNoN,SAAUA,GACVE,kBAAmBA,GACnBC,cAAevB,GAEnB,CAwKF,EACAkR,sBAAuB,KACvBoB,eAAgB,WACdle,EAAIS,SAAU,YAAarC,KAAKuc,cAChC3a,EAAIS,SAAU,YAAarC,KAAKuc,cAChC3a,EAAIS,SAAU,cAAerC,KAAKuc,cAClC3a,EAAIS,SAAU,WAAY6T,IAC1BtU,EAAIS,SAAU,YAAa6T,IAC3BtU,EAAIS,SAAU,YAAa6T,GAC7B,EACA6J,aAAc,WACZ,IAAIpE,EAAgB3b,KAAKwB,GAAGma,cAC5B/Z,EAAI+Z,EAAe,UAAW3b,KAAK+b,SACnCna,EAAI+Z,EAAe,WAAY3b,KAAK+b,SACpCna,EAAI+Z,EAAe,YAAa3b,KAAK+b,SACrCna,EAAI+Z,EAAe,cAAe3b,KAAK+b,SACvCna,EAAIS,SAAU,cAAerC,KAC/B,EACA+b,QAAS,SAETvO,GACE,IAAIhM,EAAKxB,KAAKwB,GACV2E,EAAUnG,KAAKmG,QAEnByI,GAAWnS,GAAM0T,IACjBrB,GAAoBrS,GAAM0T,GAAQhK,EAAQ1K,WAC1C4R,GAAY,OAAQrN,KAAM,CACxBwN,IAAKA,IAEP4C,GAAWD,IAAUA,GAAO5N,WAE5BqM,GAAWnS,GAAM0T,IACjBrB,GAAoBrS,GAAM0T,GAAQhK,EAAQ1K,WAEtC+K,GAASiH,gBAMbwE,IAAsB,EACtBI,IAAyB,EACzBD,IAAwB,EACxB4N,cAAchgB,KAAKge,SACnB3U,aAAarJ,KAAKoc,iBAElB1B,GAAgB1a,KAAK8d,SAErBpD,GAAgB1a,KAAKme,cAGjBne,KAAKsY,kBACP1W,EAAIS,SAAU,OAAQrC,MACtB4B,EAAIJ,EAAI,YAAaxB,KAAKwc,eAG5Bxc,KAAK8f,iBAEL9f,KAAK+f,eAED9e,GACFgC,EAAIZ,SAASgG,KAAM,cAAe,IAGpCpF,EAAIkN,GAAQ,YAAa,IAErB3C,IACEkD,KACFlD,EAAIiC,YAAcjC,EAAIvT,kBACrBkM,EAAQsR,YAAcjK,EAAIwI,mBAG7B3F,IAAWA,GAAQ9N,YAAc8N,GAAQ9N,WAAW0d,YAAY5P,KAE5D/B,KAAW8B,IAAYpB,IAA2C,UAA5BA,GAAYa,cAEpDrB,IAAWA,GAAQjM,YAAciM,GAAQjM,WAAW0d,YAAYzR,IAG9D2B,KACEnQ,KAAKsY,iBACP1W,EAAIuO,GAAQ,UAAWnQ,MAGzBkZ,GAAkB/I,IAElBA,GAAO7S,MAAM,eAAiB,GAG1BoT,KAAUuB,IACZrP,EAAYuN,GAAQnB,GAAcA,GAAY7I,QAAQgR,WAAanX,KAAKmG,QAAQgR,YAAY,GAG9FvU,EAAYuN,GAAQnQ,KAAKmG,QAAQiR,aAAa,GAE9ChG,GAAe,CACb7D,SAAUvN,KACVhI,KAAM,WACNyW,KAAM2B,GACNxB,SAAU,KACVE,kBAAmB,KACnBC,cAAevB,IAGbc,KAAW8B,IACTxB,IAAY,IAEdwC,GAAe,CACb9C,OAAQ8B,GACRpY,KAAM,MACNyW,KAAM2B,GACN1B,OAAQJ,GACRS,cAAevB,IAIjB4D,GAAe,CACb7D,SAAUvN,KACVhI,KAAM,SACNyW,KAAM2B,GACNrB,cAAevB,IAIjB4D,GAAe,CACb9C,OAAQ8B,GACRpY,KAAM,OACNyW,KAAM2B,GACN1B,OAAQJ,GACRS,cAAevB,IAGjB4D,GAAe,CACb7D,SAAUvN,KACVhI,KAAM,OACNyW,KAAM2B,GACNrB,cAAevB,KAInBwB,IAAeA,GAAYkR,QAEvBtR,KAAaD,IACXC,IAAY,IAEdwC,GAAe,CACb7D,SAAUvN,KACVhI,KAAM,SACNyW,KAAM2B,GACNrB,cAAevB,IAGjB4D,GAAe,CACb7D,SAAUvN,KACVhI,KAAM,OACNyW,KAAM2B,GACNrB,cAAevB,KAMnBhH,GAASoK,SAEK,MAAZhC,KAAkC,IAAdA,KACtBA,GAAWD,GACXG,GAAoBD,IAGtBuC,GAAe,CACb7D,SAAUvN,KACVhI,KAAM,MACNyW,KAAM2B,GACNrB,cAAevB,IAIjBxN,KAAKkgB,WA9ITlgB,KAAKid,UAoJT,EACAA,SAAU,WACR5P,GAAY,UAAWrN,MACvBsO,GAAS6B,GAASC,GAAWC,GAAUC,GAAS9B,GAAU+B,GAAaC,GAAce,GAASC,GAAWd,GAAQ9B,GAAWE,GAAoBH,GAAWE,GAAoBgD,GAAaC,GAAgB9C,GAAcsC,GAAc9K,GAASE,QAAUF,GAASC,MAAQD,GAASS,MAAQT,GAASoK,OAAS,KAC/S4B,GAAkB1T,SAAQ,SAAU0C,GAClCA,EAAGgZ,SAAU,CACf,IACAhI,GAAkB5T,OAAS6S,GAASC,GAAS,CAC/C,EACAyO,YAAa,SAEb3S,GACE,OAAQA,EAAIsN,MACV,IAAK,OACL,IAAK,UACH9a,KAAK+b,QAAQvO,GAEb,MAEF,IAAK,YACL,IAAK,WACC2C,KACFnQ,KAAKqW,YAAY7I,GAEjBiL,GAAgBjL,IAGlB,MAEF,IAAK,cACHA,EAAIvT,iBACJ,MAEN,EAMAmmB,QAAS,WAQP,IAPA,IACI5e,EADA6e,EAAQ,GAER/Z,EAAWtG,KAAKwB,GAAG8E,SACnB5H,EAAI,EACJ0F,EAAIkC,EAAS1H,OACbuH,EAAUnG,KAAKmG,QAEZzH,EAAI0F,EAAG1F,IACZ8C,EAAK8E,EAAS5H,GAEVvF,EAAQqI,EAAI2E,EAAQ1K,UAAWuE,KAAKwB,IAAI,IAC1C6e,EAAM9hB,KAAKiD,EAAG8e,aAAana,EAAQwR,aAAeoC,GAAYvY,IAIlE,OAAO6e,CACT,EAMA5J,KAAM,SAAc4J,EAAOE,GACzB,IAAIC,EAAQ,CAAC,EACTlS,EAAStO,KAAKwB,GAClBxB,KAAKogB,UAAUthB,SAAQ,SAAU6b,EAAIjc,GACnC,IAAI8C,EAAK8M,EAAOhI,SAAS5H,GAErBvF,EAAQqI,EAAIxB,KAAKmG,QAAQ1K,UAAW6S,GAAQ,KAC9CkS,EAAM7F,GAAMnZ,EAEhB,GAAGxB,MACHugB,GAAgBvgB,KAAKqK,wBACrBgW,EAAMvhB,SAAQ,SAAU6b,GAClB6F,EAAM7F,KACRrM,EAAO2R,YAAYO,EAAM7F,IACzBrM,EAAOsP,YAAY4C,EAAM7F,IAE7B,IACA4F,GAAgBvgB,KAAKiL,YACvB,EAKAiV,KAAM,WACJ,IAAIvJ,EAAQ3W,KAAKmG,QAAQwQ,MACzBA,GAASA,EAAM8J,KAAO9J,EAAM8J,IAAIzgB,KAClC,EAQA7G,QAAS,SAAmBqI,EAAIO,GAC9B,OAAO5I,EAAQqI,EAAIO,GAAY/B,KAAKmG,QAAQ1K,UAAWuE,KAAKwB,IAAI,EAClE,EAQAyL,OAAQ,SAAgBjV,EAAMyH,GAC5B,IAAI0G,EAAUnG,KAAKmG,QAEnB,QAAc,IAAV1G,EACF,OAAO0G,EAAQnO,GAEf,IAAIkW,EAAgBpB,GAAciB,aAAa/N,KAAMhI,EAAMyH,GAGzD0G,EAAQnO,GADmB,qBAAlBkW,EACOA,EAEAzO,EAGL,UAATzH,GACFod,GAAcjP,EAGpB,EAKAua,QAAS,WACPrT,GAAY,UAAWrN,MACvB,IAAIwB,EAAKxB,KAAKwB,GACdA,EAAGuI,IAAW,KACdnI,EAAIJ,EAAI,YAAaxB,KAAKuY,aAC1B3W,EAAIJ,EAAI,aAAcxB,KAAKuY,aAC3B3W,EAAIJ,EAAI,cAAexB,KAAKuY,aAExBvY,KAAKsY,kBACP1W,EAAIJ,EAAI,WAAYxB,MACpB4B,EAAIJ,EAAI,YAAaxB,OAIvB2gB,MAAMnhB,UAAUV,QAAQiB,KAAKyB,EAAGof,iBAAiB,gBAAgB,SAAUpf,GACzEA,EAAGqf,gBAAgB,YACrB,IAEA7gB,KAAK+b,UAEL/b,KAAKgc,4BAEL7J,GAAUnH,OAAOmH,GAAU/R,QAAQJ,KAAKwB,IAAK,GAC7CxB,KAAKwB,GAAKA,EAAK,IACjB,EACAqc,WAAY,WACV,IAAKrN,GAAa,CAEhB,GADAnD,GAAY,YAAarN,MACrBwG,GAASiH,cAAe,OAC5BxK,EAAIuL,GAAS,UAAW,QAEpBxO,KAAKmG,QAAQ8Q,mBAAqBzI,GAAQjM,YAC5CiM,GAAQjM,WAAW0d,YAAYzR,IAGjCgC,IAAc,CAChB,CACF,EACAqP,WAAY,SAAoB7Q,GAC9B,GAAgC,UAA5BA,EAAYa,aAMhB,GAAIW,GAAa,CAEf,GADAnD,GAAY,YAAarN,MACrBwG,GAASiH,cAAe,OAExB0C,GAAO5N,YAAc+L,IAAWtO,KAAKmG,QAAQqP,MAAMO,YAE5CzF,GACThC,GAAOyP,aAAavP,GAAS8B,IAE7BhC,GAAOsP,YAAYpP,IAJnBF,GAAOyP,aAAavP,GAAS2B,IAO3BnQ,KAAKmG,QAAQqP,MAAMO,aACrB/V,KAAK2L,QAAQwE,GAAQ3B,IAGvBvL,EAAIuL,GAAS,UAAW,IACxBgC,IAAc,CAChB,OAvBExQ,KAAK6d,YAwBT,GAsKEpL,IACFlR,EAAGc,SAAU,aAAa,SAAUmL,IAC7BhH,GAASoK,QAAUqB,KAAwBzE,EAAIiC,YAClDjC,EAAIvT,gBAER,IAIFuM,GAASsa,MAAQ,CACfvf,GAAIA,EACJK,IAAKA,EACLqB,IAAKA,EACLe,KAAMA,EACN+c,GAAI,SAAYvf,EAAIO,GAClB,QAAS5I,EAAQqI,EAAIO,EAAUP,GAAI,EACrC,EACA8G,OAAQA,GACRQ,SAAUA,GACV3P,QAASA,EACTyJ,YAAaA,EACbqE,MAAOA,GACPxK,MAAOA,GACPukB,SAAUvG,GACVwG,eAAgBvG,GAChBwG,gBAAiBjO,GACjBhN,SAAUA,IAQZO,GAASgS,IAAM,SAAU2I,GACvB,OAAOA,EAAQpX,GACjB,EAOAvD,GAASuG,MAAQ,WACf,IAAK,IAAIqU,EAAOziB,UAAUC,OAAQ+N,EAAU,IAAIgU,MAAMS,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAClF1U,EAAQ0U,GAAQ1iB,UAAU0iB,GAGxB1U,EAAQ,GAAGpN,cAAgBohB,QAAOhU,EAAUA,EAAQ,IACxDA,EAAQ7N,SAAQ,SAAUkO,GACxB,IAAKA,EAAOxN,YAAcwN,EAAOxN,UAAUD,YACzC,KAAM,gEAAgE6N,OAAO,CAAC,EAAEoJ,SAASzW,KAAKiN,IAG5FA,EAAO8T,QAAOta,GAASsa,MAAQriB,EAAeA,EAAe,CAAC,EAAG+H,GAASsa,OAAQ9T,EAAO8T,QAC7FhU,GAAcC,MAAMC,EACtB,GACF,EAQAxG,GAAS8a,OAAS,SAAU9f,EAAI2E,GAC9B,OAAO,IAAIK,GAAShF,EAAI2E,EAC1B,EAGAK,GAAShG,QAAUA,EAEnB,IACI+gB,GACAC,GAEAC,GACAC,GACAC,GACAC,GAPAC,GAAc,GAGdC,IAAY,EAMhB,SAASC,KACP,SAASC,IASP,IAAK,IAAItgB,KART1B,KAAK4M,SAAW,CACdqV,QAAQ,EACRC,yBAAyB,EACzBC,kBAAmB,GACnBC,YAAa,GACbC,cAAc,GAGDriB,KACQ,MAAjB0B,EAAGyN,OAAO,IAAkC,oBAAbnP,KAAK0B,KACtC1B,KAAK0B,GAAM1B,KAAK0B,GAAIwO,KAAKlQ,MAG/B,CAyFA,OAvFAgiB,EAAWxiB,UAAY,CACrBiR,YAAa,SAAqBpC,GAChC,IAAIU,EAAgBV,EAAKU,cAErB/O,KAAKuN,SAAS+K,gBAChB/W,EAAGc,SAAU,WAAYrC,KAAKsiB,mBAE1BtiB,KAAKmG,QAAQkS,eACf9W,EAAGc,SAAU,cAAerC,KAAKuiB,2BACxBxT,EAAcoH,QACvB5U,EAAGc,SAAU,YAAarC,KAAKuiB,2BAE/BhhB,EAAGc,SAAU,YAAarC,KAAKuiB,0BAGrC,EACAC,kBAAmB,SAA2BC,GAC5C,IAAI1T,EAAgB0T,EAAM1T,cAGrB/O,KAAKmG,QAAQuc,gBAAmB3T,EAAcT,QACjDtO,KAAKsiB,kBAAkBvT,EAE3B,EACA4T,KAAM,WACA3iB,KAAKuN,SAAS+K,gBAChB1W,EAAIS,SAAU,WAAYrC,KAAKsiB,oBAE/B1gB,EAAIS,SAAU,cAAerC,KAAKuiB,2BAClC3gB,EAAIS,SAAU,YAAarC,KAAKuiB,2BAChC3gB,EAAIS,SAAU,YAAarC,KAAKuiB,4BAGlCK,KACAC,KACAzZ,IACF,EACA0Z,QAAS,WACPnB,GAAaH,GAAeD,GAAWO,GAAYF,GAA6BH,GAAkBC,GAAkB,KACpHG,GAAYjjB,OAAS,CACvB,EACA2jB,0BAA2B,SAAmC/U,GAC5DxN,KAAKsiB,kBAAkB9U,GAAK,EAC9B,EACA8U,kBAAmB,SAA2B9U,EAAKuP,GACjD,IAAI7T,EAAQlJ,KAERuJ,GAAKiE,EAAI2I,QAAU3I,EAAI2I,QAAQ,GAAK3I,GAAKjU,QACzCiQ,GAAKgE,EAAI2I,QAAU3I,EAAI2I,QAAQ,GAAK3I,GAAK9T,QACzCkO,EAAOvF,SAAS8a,iBAAiB5T,EAAGC,GAMxC,GALAmY,GAAanU,EAKTuP,GAAY/c,KAAKmG,QAAQ+b,yBAA2BnhB,GAAQD,GAAcG,EAAQ,CACpF8hB,GAAWvV,EAAKxN,KAAKmG,QAASyB,EAAMmV,GAEpC,IAAIiG,EAAiBnd,GAA2B+B,GAAM,IAElDka,IAAeF,IAA8BrY,IAAMkY,IAAmBjY,IAAMkY,KAC9EE,IAA8BgB,KAE9BhB,GAA6B3D,aAAY,WACvC,IAAIgF,EAAUpd,GAA2BxD,SAAS8a,iBAAiB5T,EAAGC,IAAI,GAEtEyZ,IAAYD,IACdA,EAAiBC,EACjBJ,MAGFE,GAAWvV,EAAKtE,EAAM/C,QAAS8c,EAASlG,EAC1C,GAAG,IACH0E,GAAkBlY,EAClBmY,GAAkBlY,EAEtB,KAAO,CAEL,IAAKxJ,KAAKmG,QAAQkc,cAAgBxc,GAA2B+B,GAAM,KAAUvD,IAE3E,YADAwe,KAIFE,GAAWvV,EAAKxN,KAAKmG,QAASN,GAA2B+B,GAAM,IAAQ,EACzE,CACF,GAEKhI,EAASoiB,EAAY,CAC1B7U,WAAY,SACZN,qBAAqB,GAEzB,CAEA,SAASgW,KACPhB,GAAY/iB,SAAQ,SAAUikB,GAC5B/C,cAAc+C,EAAWG,IAC3B,IACArB,GAAc,EAChB,CAEA,SAASe,KACP5C,cAAc4B,GAChB,CAEA,IAAImB,GAAaja,IAAS,SAAU0E,EAAKrH,EAASmI,EAAQ6U,GAExD,GAAKhd,EAAQ8b,OAAb,CACA,IAMImB,EANA7Z,GAAKiE,EAAI2I,QAAU3I,EAAI2I,QAAQ,GAAK3I,GAAKjU,QACzCiQ,GAAKgE,EAAI2I,QAAU3I,EAAI2I,QAAQ,GAAK3I,GAAK9T,QACzC2pB,EAAOld,EAAQgc,kBACfmB,EAAQnd,EAAQic,YAChB/a,EAAchD,IACdkf,GAAqB,EAGrB/B,KAAiBlT,IACnBkT,GAAelT,EACfuU,KACAtB,GAAWpb,EAAQ8b,OACnBmB,EAAiBjd,EAAQqd,UAER,IAAbjC,KACFA,GAAW1b,GAA2ByI,GAAQ,KAIlD,IAAImV,EAAY,EACZC,EAAgBnC,GAEpB,EAAG,CACD,IAAI/f,EAAKkiB,EACLjZ,EAAOjG,EAAQhD,GACf7H,EAAM8Q,EAAK9Q,IACXmL,EAAS2F,EAAK3F,OACdtL,EAAOiR,EAAKjR,KACZuL,EAAQ0F,EAAK1F,MACb3N,EAAQqT,EAAKrT,MACbQ,EAAS6S,EAAK7S,OACd+rB,OAAa,EACbC,OAAa,EACb7b,EAAcvG,EAAGuG,YACjBE,EAAezG,EAAGyG,aAClBiL,EAAQjQ,EAAIzB,GACZqiB,EAAariB,EAAG8F,WAChBwc,EAAatiB,EAAG+F,UAEhB/F,IAAO6F,GACTsc,EAAavsB,EAAQ2Q,IAAoC,SAApBmL,EAAM/K,WAA4C,WAApB+K,EAAM/K,WAA8C,YAApB+K,EAAM/K,WACzGyb,EAAahsB,EAASqQ,IAAqC,SAApBiL,EAAM9K,WAA4C,WAApB8K,EAAM9K,WAA8C,YAApB8K,EAAM9K,aAE3Gub,EAAavsB,EAAQ2Q,IAAoC,SAApBmL,EAAM/K,WAA4C,WAApB+K,EAAM/K,WACzEyb,EAAahsB,EAASqQ,IAAqC,SAApBiL,EAAM9K,WAA4C,WAApB8K,EAAM9K,YAG7E,IAAI2b,EAAKJ,IAAe/a,KAAKyT,IAAItX,EAAQwE,IAAM8Z,GAAQQ,EAAazsB,EAAQ2Q,IAAgBa,KAAKyT,IAAI7iB,EAAO+P,IAAM8Z,KAAUQ,GACxHG,EAAKJ,IAAehb,KAAKyT,IAAIvX,EAAS0E,IAAM6Z,GAAQS,EAAalsB,EAASqQ,IAAiBW,KAAKyT,IAAI1iB,EAAM6P,IAAM6Z,KAAUS,GAE9H,IAAKjC,GAAY4B,GACf,IAAK,IAAI/kB,EAAI,EAAGA,GAAK+kB,EAAW/kB,IACzBmjB,GAAYnjB,KACfmjB,GAAYnjB,GAAK,CAAC,GAKpBmjB,GAAY4B,GAAWM,IAAMA,GAAMlC,GAAY4B,GAAWO,IAAMA,GAAMnC,GAAY4B,GAAWjiB,KAAOA,IACtGqgB,GAAY4B,GAAWjiB,GAAKA,EAC5BqgB,GAAY4B,GAAWM,GAAKA,EAC5BlC,GAAY4B,GAAWO,GAAKA,EAC5BhE,cAAc6B,GAAY4B,GAAWP,KAE3B,GAANa,GAAiB,GAANC,IACbT,GAAqB,EAGrB1B,GAAY4B,GAAWP,IAAMjF,YAAY,WAEnCkF,GAA6B,IAAfnjB,KAAKikB,OACrBzd,GAASoK,OAAO2L,aAAaoF,IAI/B,IAAIuC,EAAgBrC,GAAY7hB,KAAKikB,OAAOD,GAAKnC,GAAY7hB,KAAKikB,OAAOD,GAAKV,EAAQ,EAClFa,EAAgBtC,GAAY7hB,KAAKikB,OAAOF,GAAKlC,GAAY7hB,KAAKikB,OAAOF,GAAKT,EAAQ,EAExD,oBAAnBF,GACoI,aAAzIA,EAAerjB,KAAKyG,GAASE,QAAQnE,WAAWwH,IAAUoa,EAAeD,EAAe1W,EAAKmU,GAAYE,GAAY7hB,KAAKikB,OAAOziB,KAKvI8H,GAASuY,GAAY7hB,KAAKikB,OAAOziB,GAAI2iB,EAAeD,EACtD,EAAEhU,KAAK,CACL+T,MAAOR,IACL,MAIRA,GACF,OAAStd,EAAQkc,cAAgBqB,IAAkBrc,IAAgBqc,EAAgB7d,GAA2B6d,GAAe,KAE7H5B,GAAYyB,CA/Fe,CAgG7B,GAAG,IAECZ,GAAO,SAActU,GACvB,IAAIU,EAAgBV,EAAKU,cACrBC,EAAcX,EAAKW,YACnBmB,EAAS9B,EAAK8B,OACdQ,EAAiBtC,EAAKsC,eACtBQ,EAAwB9C,EAAK8C,sBAC7BN,EAAqBxC,EAAKwC,mBAC1BE,EAAuB1C,EAAK0C,qBAChC,GAAKhC,EAAL,CACA,IAAIqV,EAAapV,GAAe2B,EAChCE,IACA,IAAIkK,EAAQhM,EAAcsV,gBAAkBtV,EAAcsV,eAAezlB,OAASmQ,EAAcsV,eAAe,GAAKtV,EAChH7V,EAASmJ,SAAS8a,iBAAiBpC,EAAMxhB,QAASwhB,EAAMrhB,SAC5DqX,IAEIqT,IAAeA,EAAW5iB,GAAGoZ,SAAS1hB,KACxCiY,EAAsB,SACtBnR,KAAKskB,QAAQ,CACXnU,OAAQA,EACRnB,YAAaA,IAXS,CAc5B,EAEA,SAASuV,KAAU,CAsCnB,SAASC,KAAU,CAqBnB,SAASC,KACL,MAAsB,qBAAX9jB,OACAA,OAAO+jB,QAEXC,EAAAA,EAAOD,OAClB,CA9DAH,GAAO/kB,UAAY,CACjBolB,WAAY,KACZC,UAAW,SAAmBpC,GAC5B,IAAI5T,EAAoB4T,EAAM5T,kBAC9B7O,KAAK4kB,WAAa/V,CACpB,EACAyV,QAAS,SAAiBQ,GACxB,IAAI3U,EAAS2U,EAAM3U,OACfnB,EAAc8V,EAAM9V,YACxBhP,KAAKuN,SAASlD,wBAEV2E,GACFA,EAAY3E,wBAGd,IAAIuR,EAAc3V,GAASjG,KAAKuN,SAAS/L,GAAIxB,KAAK4kB,WAAY5kB,KAAKmG,SAE/DyV,EACF5b,KAAKuN,SAAS/L,GAAGuc,aAAa5N,EAAQyL,GAEtC5b,KAAKuN,SAAS/L,GAAGoc,YAAYzN,GAG/BnQ,KAAKuN,SAAStC,aAEV+D,GACFA,EAAY/D,YAEhB,EACA0X,KAAMA,IAGR/iB,EAAS2kB,GAAQ,CACfpX,WAAY,kBAKdqX,GAAOhlB,UAAY,CACjB8kB,QAAS,SAAiBS,GACxB,IAAI5U,EAAS4U,EAAM5U,OACfnB,EAAc+V,EAAM/V,YACpBgW,EAAiBhW,GAAehP,KAAKuN,SACzCyX,EAAe3a,wBACf8F,EAAO5N,YAAc4N,EAAO5N,WAAW0d,YAAY9P,GACnD6U,EAAe/Z,YACjB,EACA0X,KAAMA,IAGR/iB,EAAS4kB,GAAQ,CACfrX,WAAY,kBAGd3G,GAASuG,MAAM,IAAIgV,IACnBvb,GAASuG,MAAMyX,GAAQD,IAQvB,MAAMG,GAAUD,KAChB,SAASQ,GAAOvjB,GACZ,MAAMwjB,EAAQlnB,OAAOsjB,OAAO,MAC5B,OAAO,SAAkBtH,GACrB,MAAMmL,EAAMD,EAAMlL,GAClB,OAAOmL,IAAQD,EAAMlL,GAAOtY,EAAGsY,GACnC,CACJ,CACA,MAAMoL,GAAQ,SACRC,GAAWJ,IAAQjL,GAAQA,EAAIhX,QAAQoiB,IAAO,CAACznB,EAAG+f,IAAOA,EAAIA,EAAE1W,cAAgB,OACrF,SAASse,GAAWC,GACW,OAAvBA,EAAKC,eACLD,EAAKC,cAAcvF,YAAYsF,EAEvC,CACA,SAASE,GAAaC,EAAYH,EAAMI,GACpC,MAAMC,EAAuB,IAAbD,EACVD,EAAWpf,SAAS,GACpBof,EAAWpf,SAASqf,EAAW,GAAG/J,YACxC8J,EAAW3H,aAAawH,EAAMK,EAClC,CAEA,SAASC,GAAeC,EAAQ3E,GAC5B,OAAOnjB,OAAO+nB,OAAOD,GAAQ1lB,QAAQ+gB,EACzC,CACA,SAAS6E,GAAeC,EAAO3f,EAAU4f,EAAcC,GACnD,IAAKF,EACD,MAAO,GAEX,MAAMG,EAAepoB,OAAO+nB,OAAOE,GAC7BI,EAAc/f,EAAS1H,OAASunB,EAChCG,EAAa,IAAIhgB,GAAUigB,KAAI,CAACC,EAAKjM,IAAQA,GAAO8L,EAAcD,EAAaxnB,OAASwnB,EAAahmB,QAAQomB,KACnH,OAAOF,CACX,CACA,SAASG,GAAKC,EAASC,GAEnB3mB,KAAK4mB,WAAU,IAAM5mB,KAAK6mB,MAAMH,EAAQI,cAAeH,IAC3D,CACA,SAASI,GAAgBL,GAErB,OAAOC,IAEmB,OAAlB3mB,KAAKgnB,UAELhnB,KAAK,SAAW0mB,GAASC,GAG7BF,GAAK1mB,KAAKC,KAAM0mB,EAASC,EAAQ,CAEzC,CACA,SAASM,GAAiBjvB,GACtB,MAAO,CAAC,mBAAoB,mBAAmBkvB,SAASlvB,EAC5D,CACA,SAASkuB,GAAaD,GAClB,IAAKA,GAA0B,IAAjBA,EAAMrnB,OAChB,OAAO,EAGX,OAAO,KAAEkc,IAAUmL,EACnB,QAAKnL,GAIEmM,GAAiBnM,EAAK9iB,KACjC,CACA,SAASmvB,GAAuBC,EAAQC,GACpC,OAAKA,EAGE,IAAKA,EAAcpvB,SAAUovB,EAAcC,OAFvCF,CAGf,CACA,MAAMG,GAAiB,CAAC,QAAS,MAAO,SAAU,SAAU,OACtDC,GAAe,CAAC,SAAU,WAAY,OAAQ,SAAU,SACxDC,GAAqB,CAAC,UAAWF,MAAmBC,IAAcjB,KAAI/Y,GAAO,KAAOA,IAE1F,IAAIka,GAAkB,KACtB,MAAMzvB,GAAQ,CACVkO,QAASnI,OACTkG,KAAM,CACF4W,KAAM6F,MACNgH,UAAU,EACV3qB,QAAS,MAEb4qB,mBAAoB,CAChB9M,KAAM+M,QACN7qB,SAAS,GAEbiK,MAAO,CACH6T,KAAMgN,SACN9qB,QAAU+qB,GACCA,GAGf5vB,IAAK,CACD2iB,KAAMkN,OACNhrB,QAAS,OAEbirB,KAAM,CACFnN,KAAMgN,SACN9qB,QAAS,MAEbqqB,cAAe,CACXvM,KAAM9c,OACN2pB,UAAU,EACV3qB,QAAS,MAEbkrB,UAAW,CACPpN,KAAMkN,OACNhrB,QAAS,MAEbmrB,WAAY,CACRrN,KAAM6F,MACNgH,UAAU,EACV3qB,QAAS,OAGXorB,IAAmBC,EAAAA,EAAAA,IAAgB,CACrCrwB,KAAM,mBACNswB,cAAc,EACdC,MAAO,CACH,oBACA,OACA,YACGhB,GAAehB,KAAIiC,GAAKA,EAAE1B,mBAC1BU,GAAajB,KAAIiC,GAAKA,EAAE1B,iBAE/B7uB,SACAgY,IAAAA,GACI,MAAO,CACHwY,gBAAgB,EAChBC,6BAA6B,EAC7BC,aAAc,EACdxC,aAAc,EACdyC,UAAW,CAAC,EACZC,eAAgB,GAChBC,QAAS,CAAC,EAElB,EACAC,MAAAA,GACI,MAAM9C,EAAQjmB,KAAKjE,OAAOiB,QAAUgD,KAAKjE,OAAOiB,UAAY,KACtDsqB,EAAQH,GAAuBnnB,KAAKonB,OAAQpnB,KAAKqnB,eACvD,OAAKpB,GAELjmB,KAAKyoB,eAAiBvC,GAAaD,IAC5B+C,EAAAA,EAAAA,GAAEhpB,KAAKipB,SAAU3B,EAAOrB,KAFpB+C,EAAAA,EAAAA,GAAEhpB,KAAKipB,SAAU3B,EAAO,GAGvC,EACA4B,OAAAA,GACsB,OAAdlpB,KAAKkE,MAAqC,OAApBlE,KAAKmoB,YAC3BzD,GAAQyE,MAAM,qDAEtB,EACAC,OAAAA,GACI,MAAMC,EAAe,CAAC,EACtB9B,GAAezoB,SAAQ0nB,IACnB6C,EAAa,KAAO7C,GAAOO,GAAgBhnB,KAAKC,KAAMwmB,EAAI,IAE9DgB,GAAa1oB,SAAQ0nB,IACjB6C,EAAa,KAAO7C,GAAOC,GAAKvW,KAAKlQ,KAAMwmB,EAAI,IAEnD,MAAM8C,EAAatrB,OAAOD,KAAKiC,KAAKonB,QAAQmC,QAAO,CAACC,EAAKttB,KACrDstB,EAAInE,GAASnpB,IAAQ8D,KAAKonB,OAAOlrB,GAC1BstB,IACR,CAAC,GACErjB,EAAUnI,OAAO6B,OAAO,CAAC,EAAGypB,EAAYD,EAAc,CACxDvQ,OAAQA,CAACtL,EAAKuB,IACH/O,KAAKypB,WAAWjc,EAAKuB,OAGlC,cAAe5I,KAAaA,EAAQ1K,UAAY,MAClD,MAAMiuB,EAAyC,IAAtB1pB,KAAK2pB,IAAIrnB,SAAiBtC,KAAK2pB,IAAM3pB,KAAK2pB,IAAInE,cACvExlB,KAAK4oB,UAAY,IAAIpiB,GAASkjB,EAAkBvjB,GAChDujB,EAAiBE,wBAA0B5pB,KAC3CA,KAAKgmB,gBACT,EACA6D,aAAAA,GACI,SAC2B/Z,IAAnB9P,KAAK4oB,WACL5oB,KAAK4oB,UAAUlI,SACvB,CACA,MAAOyI,GAAS,CACpB,EACAW,SAAU,CACN9C,QAAAA,GACI,OAAOhnB,KAAKkE,KAAOlE,KAAKkE,KAAOlE,KAAKmoB,UACxC,GAEJ4B,MAAO,CACH3C,OAAQ,CACJ4C,OAAAA,CAAQC,GACJjqB,KAAKkqB,cAAcD,EACvB,EACAE,MAAM,GAEVnD,QAAAA,GACIhnB,KAAKgmB,gBACT,GAEJoE,QAAS,CACLnB,MAAAA,GACI,OAAOjpB,KAAKkoB,WAAYmC,EAAAA,EAAAA,IAAiBrqB,KAAKkoB,WAAaloB,KAAK7H,GACpE,EACA+xB,aAAAA,CAAcD,GACV,IAAK,IAAIK,KAAYL,EAAgB,CACjC,MAAMxqB,EAAQ4lB,GAASiF,IACoB,IAAvC7C,GAAmBrnB,QAAQX,IAC3BO,KAAK4oB,UAAU3b,OAAOxN,EAAOwqB,EAAeK,GAEpD,CACJ,EACAC,gBAAAA,GACI,OAAOvqB,KAAK2pB,IAAIrjB,QACpB,EACA0f,cAAAA,GACIhmB,KAAK4mB,WAAU,KACX5mB,KAAK6oB,eAAiB7C,GAAehmB,KAAKuqB,mBAAoBvqB,KAAK2pB,IAAIrjB,SAAUtG,KAAKyoB,eAAgBzoB,KAAKmmB,aAAa,GAEhI,EACAqE,eAAAA,CAAgBC,GACZ,MAAMhuB,EAAQopB,GAAe7lB,KAAKuqB,oBAAsB,GAAIE,GAC5D,IAAe,IAAXhuB,EAGA,OAAO,KAGX,MAAM0kB,EAAUnhB,KAAKgnB,SAASvqB,GAC9B,MAAO,CAAEA,QAAO0kB,UACpB,EACAuJ,WAAAA,CAAYld,GACRxN,KAAK4mB,WAAU,KACX5mB,KAAK6mB,MAAM,SAAUrZ,EAAI,GAEjC,EACAmd,SAAAA,CAAUC,GACN,GAAI5qB,KAAKkE,KAEL,YADA0mB,EAAO5qB,KAAKkE,MAGhB,MAAM2mB,EAAU,IAAI7qB,KAAKmoB,YACzByC,EAAOC,GACP7qB,KAAK6mB,MAAM,oBAAqBgE,EACpC,EACAC,UAAAA,GACI,MAAMA,EAAc5mB,GAASA,EAAK8G,UAAUrM,WAC5CqB,KAAK2qB,UAAUG,EACnB,EACAC,cAAAA,CAAepc,EAAUC,GACrB,MAAMmc,EAAkB7mB,GAASA,EAAK8G,OAAO4D,EAAU,EAAG1K,EAAK8G,OAAO2D,EAAU,GAAG,IACnF3O,KAAK2qB,UAAUI,EACnB,EACAC,UAAAA,CAAWC,GACP,MAAMC,EAAUlrB,KAAK6oB,eACfsC,EAAgBD,EAAQtsB,OAC9B,OAAOqsB,EAAWE,EAAgB,EAAIA,EAAgBD,EAAQD,EAClE,EACAG,YAAAA,GACI,OAAOprB,KAAKjE,OAAOiB,QAEXgD,KAAKjE,OAAOiB,UAAU,GAAGquB,kBAC3B,IACV,EACAC,mBAAAA,CAAoB7uB,GAChB,IAAKuD,KAAK4nB,qBAAuB5nB,KAAKyoB,eAClC,OAEJ,IAAI8C,EAAQvrB,KAAKuqB,mBACjBgB,EAAM9uB,GAAOwT,KAAO,KACpB,MAAMub,EAAsBxrB,KAAKorB,eACjCI,EAAoBllB,SAAW,GAC/BklB,EAAoBC,UAAO3b,CAC/B,EACA4b,WAAAA,CAAYle,GACRxN,KAAKgmB,iBACLhmB,KAAK8oB,QAAU9oB,KAAKwqB,gBAAgBhd,EAAIhR,MACnCwD,KAAK8oB,UAEVtb,EAAIhR,KAAKmvB,gBAAkB3rB,KAAKiH,MAAMjH,KAAK8oB,QAAQ3H,SACnDuG,GAAkBla,EAAIhR,KAC1B,EACAovB,SAAAA,CAAUpe,GACN,MAAM2T,EAAU3T,EAAIhR,KAAKmvB,gBACzB,QAAgB7b,IAAZqR,EACA,OAEJmE,GAAW9X,EAAIhR,MACf,MAAMoS,EAAW5O,KAAKgrB,WAAWxd,EAAIoB,UAErC5O,KAAK8qB,WAAWlc,EAAU,EAAGuS,GAC7BnhB,KAAKgmB,iBACL,MAAM6F,EAAQ,CAAE1K,UAASvS,YACzB5O,KAAK0qB,YAAY,CAAEmB,SACvB,EACAC,YAAAA,CAAate,GAET,GADAiY,GAAazlB,KAAK2pB,IAAKnc,EAAIhR,KAAMgR,EAAImB,UAChB,UAAjBnB,EAAIoC,SAEJ,YADA0V,GAAW9X,EAAIvG,OAGnB,IAAKjH,KAAK8oB,QACN,OACJ,MAAMna,EAAW3O,KAAK8oB,QAAQrsB,MAE9BuD,KAAK8qB,WAAWnc,EAAU,GAC1B,MAAMod,EAAU,CAAE5K,QAASnhB,KAAK8oB,QAAQ3H,QAASxS,YACjD3O,KAAKsrB,oBAAoB3c,GACzB3O,KAAK0qB,YAAY,CAAEqB,WACvB,EACAC,YAAAA,CAAaxe,GACT8X,GAAW9X,EAAIhR,MACfipB,GAAajY,EAAImC,KAAMnC,EAAIhR,KAAMgR,EAAImB,UAErC,MAAMA,EAAW3O,KAAK8oB,QAAQrsB,MACxBmS,EAAW5O,KAAKgrB,WAAWxd,EAAIoB,UACrC5O,KAAK+qB,eAAepc,EAAUC,GAE9B,MAAM8B,EAAQ,CAAEyQ,QAASnhB,KAAK8oB,QAAQ3H,QAASxS,WAAUC,YACzD5O,KAAK0qB,YAAY,CAAEha,SACvB,EACAub,cAAAA,CAAeze,EAAK0e,GAChB1e,EAAI1N,eAAeosB,KACd1e,EAAI0e,IAAiBlsB,KAAK2oB,aACnC,EACAc,UAAAA,CAAWjc,EAAKuB,GACZ,MAAM+J,EAAS9Y,KAAKioB,KACpB,IAAKnP,IAAW9Y,KAAKgnB,SACjB,OAAO,EAEX,MAAMmF,EAAiBnsB,KAAKosB,+BAA+B5e,GACrD6e,EAAiBrsB,KAAK8oB,QACtBwD,EAActsB,KAAKusB,mBAAmBJ,EAAgB3e,GAC5DxP,OAAO6B,OAAOwsB,EAAgB,CAAEC,gBAChC,MAAME,EAAUxuB,OAAO6B,OAAO,CAAC,EAAG2N,EAAK,CACnC2e,iBACAE,mBAEJ,OAAOvT,EAAO0T,EAASzd,EAC3B,EACA0d,SAAAA,GACIzsB,KAAKgmB,iBACL0B,GAAkB,IACtB,EACAgF,qBAAAA,CAAsBC,GAClB,OAAOA,EAAW/C,uBACtB,EACAwC,8BAAAA,EAA+B,GAAE1c,EAAE,QAAEsJ,IACjC,MAAMkP,EAAYloB,KAAK0sB,sBAAsBhd,GAC7C,IAAKwY,EACD,MAAO,CAAEA,aAEb,MAAMhkB,EAAOgkB,EAAUlB,SACjB8B,EAAU,CAAE5kB,OAAMgkB,aACxB,GAAIxY,IAAOsJ,GAAW9U,GAAQgkB,EAAUsC,gBAAiB,CACrD,MAAMoC,EAAc1E,EAAUsC,gBAAgBxR,GAC9C,GAAI4T,EACA,OAAO5uB,OAAO6B,OAAO+sB,EAAa9D,EAE1C,CACA,OAAOA,CACX,EACAyD,kBAAAA,CAAmBJ,EAAgB3e,GAC/B,MAAMqf,EAAc,IAAIrf,EAAIkC,GAAGpJ,UAAUnI,QAAOqD,GAA8B,SAAxBA,EAAGlE,MAAM,aAC/D,GAA2B,IAAvBuvB,EAAYjuB,OACZ,OAAO,EACX,MAAMkuB,EAAkBD,EAAYzsB,QAAQoN,EAAIwL,SAC1C+T,EAAeZ,EAAejE,UAAU8C,WAAW8B,GACnDE,GAA0D,IAA1CH,EAAYzsB,QAAQsnB,IAC1C,OAAOsF,IAAkBxf,EAAImL,gBACvBoU,EACAA,EAAe,CACzB,KC9zGF9wB,GAAa,CAAC,WAOpB,QAA4BpB,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,YACRE,KAAAA,CAAMC,GCcR,MAAMrC,GAASC,EAAAA,EAAAA,KAETo0B,EAAetS,IACjB/hB,EAAO+B,OAAO,2BAA4BggB,EAAG,EAG3CuS,EAAoBA,CAACvS,EAAYze,EAAaixB,EAA4B1rB,KAC5EA,GAASA,EAAMuU,kBAEfiX,EAAYtS,GACZ/hB,EAAO+B,OAAO,2BAA4B,CACtCyyB,UAAWlxB,EACXmxB,YAAaF,EACbG,WAAY,UACd,EAGAC,GAAiBzD,EAAAA,EAAAA,IAAS,CAC5BtR,GAAAA,GACI,OAAO5f,EAAOiK,MAAM2qB,YAAYC,UACpC,EACAhN,GAAAA,CAAItd,GACAvK,EAAO+B,OAAO,sBAAuB,CAAE+yB,QAASvqB,GACpD,IDTJ,MAAO,CAAC/H,EAAUC,KAChB,MAAMsyB,GAA2BvxB,EAAAA,EAAAA,IAAkB,iBAC7CwxB,GAAwBxxB,EAAAA,EAAAA,IAAkB,cAEhD,OAAQd,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,KAAajB,EAAAA,EAAAA,IAAOusB,IAAmB,CAC3DD,WAAYoF,EAAe9tB,MAC3B,sBAAuBpE,EAAO,KAAOA,EAAO,GAAMO,GAAkB2xB,EAAgB9tB,MAAQ7D,GAC5Fgb,OAAQ,UACRpb,MAAO,cACN,CACDwB,SAASC,EAAAA,EAAAA,KAAS,IAAM,GACrB3B,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBe,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,KAAYV,EAAAA,EAAAA,IAAOjD,GAAQiK,MAAM2qB,YAAYC,YAAY,CAACjxB,EAAMC,MAC9GnB,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,KAAM,CAC9CC,OAAOoB,EAAAA,EAAAA,IAAgB,CAAC,YAAaJ,EAAKme,MAAO9e,EAAAA,EAAAA,IAAOjD,GAAQiK,MAAM2qB,YAAYK,iBAAmB,SAAW,KAChH3xB,IAAKO,EACLf,QAAUE,GAAiBqxB,EAAYzwB,EAAKme,KAC3C,EACDzd,EAAAA,EAAAA,IAAaywB,EAA0B,CACrCv1B,KAAMoE,EAAKsxB,SAAW,cAAgB,uBACtCC,IAAKvxB,EAAKsxB,SAAW,KAAO,KAC5BpyB,QAAU+F,GAAUyrB,EAAkB1wB,EAAKme,GAAK,YAAane,EAAKsxB,SAAUrsB,IAC3E,KAAM,EAAG,CAAC,OAAQ,MAAO,aAC5BvE,EAAAA,EAAAA,IAAaywB,EAA0B,CACrCv1B,KAAMoE,EAAKwxB,SAAW,iBAAmB,eACzCD,IAAKvxB,EAAKwxB,SAAW,KAAO,KAC5BtyB,QAAUE,GAAiBsxB,EAAkB1wB,EAAKme,GAAK,YAAane,EAAKwxB,SAAUpyB,IAClF,KAAM,EAAG,CAAC,OAAQ,MAAO,aAC5BsB,EAAAA,EAAAA,IAAa0wB,EAAuB,CAClCnuB,MAAOjD,EAAKyxB,UACZ,iBAAmBxsB,GAAUyrB,EAAkB1wB,EAAKme,GAAK,YAAalZ,GACtEjG,MAAO,QACN,KAAM,EAAG,CAAC,QAAS,oBACtB0B,EAAAA,EAAAA,IAAaywB,EAA0B,CACrCv1B,KAAM,eACN81B,UAAW,QACX1yB,MAAO,oBACPuyB,IAAK,UAEN,GAAI9xB,OACL,SAEN0B,EAAG,GACF,EAAG,CAAC,cAAc,CAEvB,IE/EA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCCA,IAA4B9C,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,cACRE,KAAAA,CAAMC,GCcR,MAAMkzB,GAAYC,EAAAA,EAAAA,IAAI,GDVtB,MAAO,CAAChzB,EAAUC,KAChB,MAAMgzB,GAA8BjyB,EAAAA,EAAAA,IAAkB,oBAChDkyB,GAAwBlyB,EAAAA,EAAAA,IAAkB,cAC1CmyB,GAA0BnyB,EAAAA,EAAAA,IAAkB,gBAC5CoyB,GAAoBpyB,EAAAA,EAAAA,IAAkB,UAE5C,OAAQd,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAa0xB,EAAmB,CACpDhzB,MAAO,WACP2yB,UAAWA,EAAU1uB,MACrB,qBAAsBpE,EAAO,KAAOA,EAAO,GAAMO,GAAkBuyB,EAAW1uB,MAAQ7D,GACtF6yB,aAAc,IACb,CACDzxB,SAASC,EAAAA,EAAAA,KAAS,IAAM,GACrB3B,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAawxB,EAAuB,CAAEpyB,IAAK,GAAK,CAC7DwyB,KAAKzxB,EAAAA,EAAAA,KAAS,IAAM,EAClBC,EAAAA,EAAAA,IAAamxB,IACbM,EAAAA,EAAAA,IAAiB,UAEnB3xB,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAa0xB,MAEfjxB,EAAG,OAEJrC,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAawxB,EAAuB,CAAEpyB,IAAK,GAAK,CAC7DwyB,KAAKzxB,EAAAA,EAAAA,KAAS,IAAM,EAClBC,EAAAA,EAAAA,IAAaqxB,IACbI,EAAAA,EAAAA,IAAiB,UAEnB3xB,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAa2xB,OAEflxB,EAAG,QAGPA,EAAG,GACF,EAAG,CAAC,aAAa,CAEtB,IE9CA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,wBCCA,MAAMmxB,GAAqBC,GACfC,GAAoC,kBAANA,EAAiBA,EAAID,EAAWrnB,OAAOsgB,OAAOgH,GAAGhsB,QAAQ+rB,EAAU,KAEvGE,GAAqBD,GAChBA,EAAExT,OAIP0T,GAAwBH,IAC1B,MAAMI,EAAmBH,GAAcA,EAAID,EACrCK,EAAyBJ,GAAMtnB,OAAOsgB,OAAOgH,GAAGhsB,QAAQ+rB,EAAU,KAExE,MAAO,CACHI,kBACAC,wBACH,EAIQC,GAA6B,CACtC7mB,IAAK,CACDilB,WAAY,aACZ31B,MAAO,SAGFw3B,GAA8B,CACvCp3B,WAAY,CACRu1B,WAAY,UACZ31B,MAAO,KACPy3B,WAAY,CACRC,YAAa,SAEjBC,cAAeR,IAEnB32B,UAAW,CACPm1B,WAAY,aACZ31B,MAAO,OACPy3B,WAAY,CACRC,YAAa,SAEjBE,YAAa,CACTC,MAAQluB,IAEJA,EAAMvI,OAAOuG,MAAQgC,EAAMvI,OAAOuG,MAAM+b,MAAM,GAGtDiU,cAAeR,IAEnB,YAAa,CACTxB,WAAY,iBACZ31B,MAAO,KACPy3B,WAAY,CACR3jB,IAAK,GACLgkB,IAAK,GACLC,UAAWX,GAAqB,MAAMC,gBACtCW,OAAQZ,GAAqB,MAAME,uBAEvCK,cAAeX,GAAkB,OAErC,aAAc,CACVrB,WAAY,gBACZ31B,MAAO,OACPy3B,WAAY,CACRppB,QAAS,CACL,CACIrO,MAAO,MAAO2H,MAAO,QAEzB,CACI3H,MAAO,KAAM2H,MAAO,UAExB,CACI3H,MAAO,MAAO2H,MAAO,UAG7BswB,WAAY,WAGpB,cAAe,CACXtC,WAAY,gBACZ31B,MAAO,KACPy3B,WAAY,CACRppB,QAAS6pB,GAAmB,aAAc,CACtC,CACIl4B,MAAO,UAAW2H,MAAO,WAE7B,CACI3H,MAAO,SAAU2H,MAAO,UAE5B,CACI3H,MAAO,OAAQ2H,MAAO,QAE1B,CACI3H,MAAO,SAAU2H,MAAO,cAMxC,cAAe,CACXguB,WAAY,gBACZ31B,MAAO,OACPy3B,WAAY,CACRppB,QAAS6pB,GAAmB,aAAc,CACtC,CAAEl4B,MAAO,KAAM2H,MAAO,qBACtB,CAAE3H,MAAO,KAAM2H,MAAO,sBACtB,CAAE3H,MAAO,KAAM2H,MAAO,qBACtB,CAAE3H,MAAO,KAAM2H,MAAO,2BACtB,CAAE3H,MAAO,QAAS2H,MAAO,yBACzB,CAAE3H,MAAO,aAAc2H,MAAO,mBAC9B,CAAE3H,MAAO,cAAe2H,MAAO,4BAC/B,CAAE3H,MAAO,kBAAmB2H,MAAO,gCAI/CwwB,MAAO,CACHxC,WAAY,eACZ31B,MAAO,QAEX,cAAe,CACX21B,WAAY,CAAC,WAAY,YACzB31B,MAAO,CAAC,OAAQ,QAChBo4B,YAAa,CACTC,mBAAmB,EACnBC,iBAAmBC,IACM,SAAjBA,IACAA,EAAe,eAEnB,MAAMC,EAAaD,EAAarc,MAAM,KAChCuc,EAAS,CAACD,EAAW,GAAK,IAAMA,EAAW,GAAIA,EAAW,IAChE,OAAOC,CAAM,GAGrBhB,WAAY,CACR,CACI3jB,IAAK,GACL4kB,KAAM,EACN,gBAAkB/wB,GAAU,GAAGA,OAEnC,CACImM,IAAK,GACL4kB,KAAM,EACN,gBAAkB/wB,GAAU,GAAGA,OAEnC,CAAC,GAELgwB,cAAe,CACVT,GACoB,kBAANA,EACA,GAAGA,OAAOA,MAEVtnB,OAAOsnB,EAAEhb,MAAM,MAAM,IAGpC8a,GAAkB,MACjBE,GAAMA,KAGNyB,GAAgC,CACzCr5B,MAAO,CACHq2B,WAAY,iBACZ31B,MAAO,KACPy3B,WAAY,CACRM,UAAWX,GAAqB,MAAMC,gBACtCW,OAAQZ,GAAqB,MAAME,sBACnCQ,IAAK,KAETH,cAAeX,GAAkB,OAErCl3B,OAAQ,CACJ61B,WAAY,iBACZ31B,MAAO,KACPy3B,WAAY,CACRM,UAAWX,GAAqB,MAAMC,gBACtCW,OAAQZ,GAAqB,MAAME,uBAEvCK,cAAeX,GAAkB,OAErCn1B,IAAK,CACD8zB,WAAY,iBACZ31B,MAAO,OACPy3B,WAAY,CACR3jB,IAAK,IACLgkB,IAAK,EACLC,UAAWX,GAAqB,MAAMC,gBACtCW,OAAQZ,GAAqB,MAAME,uBAEvCK,cAAeX,GAAkB,OAErCt1B,KAAM,CACFi0B,WAAY,iBACZ31B,MAAO,OACPy3B,WAAY,CACR3jB,IAAK,IACLgkB,IAAK,EACLC,UAAWX,GAAqB,MAAMC,gBACtCW,OAAQZ,GAAqB,MAAME,uBAEvCK,cAAeX,GAAkB,OAGrC4B,QAAS,CACLjD,WAAY,WACZ31B,MAAO,MACPy3B,WAAY,CACR3jB,IAAK,EACL4kB,KAAM,GACN,gBAAkB/wB,GAAqB,IAARA,EAAH,KAEhCgwB,cAAgBT,GAAc,EAAIA,GAEtC,eAAgB,CACZvB,WAAY,WACZ31B,MAAO,OACPy3B,WAAY,CACR3jB,IAAK,GACL4kB,KAAM,EACN,gBAAkB/wB,GAAU,GAAGA,OAEnCgwB,cAAeX,GAAkB,OAErC,gBAAiB,CACbrB,WAAY,WACZ31B,MAAO,OACPy3B,WAAY,CACR3jB,IAAK,GACL4kB,KAAM,EACN,gBAAkB/wB,GAAU,GAAGA,OAEnCgwB,cAAeX,GAAkB,OAErC,cAAe,CACXrB,WAAY,WACZ31B,MAAO,OACPy3B,WAAY,CACR3jB,IAAK,GACL4kB,KAAM,EACN,gBAAkB/wB,GAAU,GAAGA,OAEnCgwB,cAAeX,GAAkB,OAErC,iBAAkB,CACdrB,WAAY,WACZ31B,MAAO,OACPy3B,WAAY,CACR3jB,IAAK,GACL4kB,KAAM,EACN,gBAAkB/wB,GAAU,GAAGA,OAEnCgwB,cAAeX,GAAkB,OAErC,mBAAoB,CAChBrB,WAAY,eACZ31B,MAAO,QAEX,mBAAoB,CAChB21B,WAAY,aACZ31B,MAAO,OACPy3B,WAAY,CACRoB,cAAc,IAGtB,gBAAiB,CACblD,WAAY,iBACZ31B,MAAO,OACPy3B,WAAY,CACR3jB,IAAK,GACLgkB,IAAK,EACLC,UAAWX,GAAqB,MAAMC,gBACtCW,OAAQZ,GAAqB,MAAME,uBAEvCK,cAAeX,GAAkB,OAErC,eAAgB,CACZrB,WAAY,eACZ31B,MAAO,QAEX,eAAgB,CACZ21B,WAAY,gBACZ31B,MAAO,OACPy3B,WAAY,CACRppB,QAAS,CACL,CACIrO,MAAO,IAAK2H,MAAO,QAEvB,CACI3H,MAAO,KAAM2H,MAAO,SAExB,CACI3H,MAAO,KAAM2H,MAAO,UAExB,CACI3H,MAAO,MAAO2H,MAAO,UAEzB,CACI3H,MAAO,OAAQ2H,MAAO,aAKtC,eAAgB,CACZguB,WAAY,iBACZ31B,MAAO,OACPy3B,WAAY,CACR3jB,IAAK,GACLgkB,IAAK,EACLC,UAAWX,GAAqB,MAAMC,gBACtCW,OAAQZ,GAAqB,MAAME,uBAEvCK,cAAeX,GAAkB,OAErC,aAAc,CACVrB,WAAY,CAAC,WAAY,WAAY,gBACrC31B,MAAO,CAAC,OAAQ,OAAQ,QACxBo4B,YAAa,CACTC,mBAAmB,EACnBC,iBAAmBC,IACf,MAAMC,EAAaD,EAAarc,MAAM,KAChCuc,EAAS,CAACD,EAAW,GAAK,IAAMA,EAAW,GAAIA,EAAW,GAAIA,EAAW,IAC/E,OAAOC,CAAM,GAGrBhB,WAAY,CACR,CACI3jB,IAAK,GACL4kB,KAAM,EACN,gBAAkB/wB,GAAU,GAAGA,OAEnC,CACImM,IAAK,GACL4kB,KAAM,EACN,gBAAkB/wB,GAAU,GAAGA,OAEnC,CAAC,GAELgwB,cAAe,CACVT,GACoB,kBAANA,EACA,GAAGA,OAAOA,MAEVtnB,OAAOsnB,EAAEhb,MAAM,MAAM,IAGpC8a,GAAkB,MACjBE,GAAMA,IAEf4B,MAAO,CACHnD,WAAY,iBACZ31B,MAAO,KACPy3B,WAAY,CACR3jB,IAAK,IACLgkB,IAAK,GACLY,KAAM,GACNX,UAAWX,GAAqB,KAAKC,gBACrCW,OAAQZ,GAAqB,KAAKE,uBAEtCK,cAAgBT,GACRA,EAAI,GACGpmB,KAAKC,MAAM,IAAMmmB,GAEhBA,EAAI,KAIxB6B,OAAQ,CACJpD,WAAY,iBACZ31B,MAAO,KACPy3B,WAAY,CACR3jB,IAAK,IACLgkB,KAAM,IACNY,KAAM,GACNX,UAAWX,GAAqB,KAAKC,gBACrCW,OAAQZ,GAAqB,KAAKE,uBAEtCK,cAAeX,GAAkB,SAK5BgC,GAA6B,IAAKxB,MAAiBD,MAAgBoB,IAM1EM,GAAyE,CAE3E,CACI/4B,KAAM,OACN+F,KAAM,CAAC,YAAa,aAAc,YAAa,aAAc,cAAe,cAAe,QAAS,gBAExG,CACI/F,KAAM,OACN+F,KAAM,CAAC,QAEX,CACI/F,KAAM,QACN+F,KAAM,CAAC,MAAO,OAAQ,QAAS,SAAU,eAAgB,gBAAiB,cAAe,mBAE7F,CACI/F,KAAM,SACN+F,KAAM,CAAC,UAAW,eAEtB,CACI/F,KAAM,QACN+F,KAAM,CAAC,gBAAiB,eAAgB,eAAgB,eAAgB,mBAAoB,qBAEhG,CACI/F,KAAM,OACN+F,KAAM,CAAC,QAEX,CACI/F,KAAM,OACN+F,KAAM,CAAC,QAAS,SAAU,mBAAoB,sBAKhD,SAAUizB,GAAc/4B,GAE1B,MAAMg5B,EAAoBjzB,OAAOD,KAAK9F,GAGhCi5B,EAAsC,GAC5CH,GAAmBjyB,SAAStC,IACxB00B,EAAc3yB,KAAK,CACfzG,MAAO0E,EAAKxE,KACZm5B,OAAOC,EAAAA,GAAAA,GAAKN,MAAgBt0B,EAAKuB,OACnC,IAGN,IAAIszB,GAAWC,EAAAA,GAAAA,GAAUJ,GAmBzB,OAlBAG,EAASvyB,SAAStC,IACd,IAAK,MAAMN,KAAOM,EAAK20B,MACnB,GAAKF,EAAkB/J,SAAShrB,GAGzB,CACH,MAAMq1B,EAAUN,EAAkBjtB,MAAKtF,GAAKA,IAAMxC,IAElDM,EAAK20B,MAAMj1B,GAA6BuD,MAAQxH,EAAMs5B,E,aAJ/C/0B,EAAK20B,MAAMj1B,E,IAU9Bm1B,EAAWA,EAASlzB,QAAQ3B,GACkB,IAAnCwB,OAAOD,KAAKvB,EAAK20B,OAAOvyB,SAG5ByyB,CACX,CAGA,SAASrB,GAAmBwB,EAAkBC,GAC1C,OAAOA,GAAelL,KAAKtZ,IAChB,CAEHnV,OAAKoF,EAAAA,EAAAA,IAAA,cAAe,CAAE,CAACs0B,GAAkBvkB,EAAOxN,QAAO,CAAIwN,EAAOnV,QAClE2H,MAAOwN,EAAOxN,SAG1B,CCrdc,SAAUiyB,GAAWhwB,EAAyBqK,GACxD,IAAI4lB,EAAuB,KAE3B,OAAO,YAAaC,GACZD,GACAtoB,aAAasoB,GAEjBA,EAAQxoB,YAAW,KAEfzH,EAAGlD,MAAMwB,KAAM4xB,EAAI,GACpB7lB,EACP,CACJ,CCVA,MACM9P,GAAa,CACjBC,IAAK,EACLV,MAAO,cAEHq2B,GAAa,CAAEr2B,MAAO,cACtBs2B,GAAa,CAAEt2B,MAAO,kBACtBu2B,GAAa,CAAEv2B,MAAO,cACtBw2B,GAAa,CAAEx2B,MAAO,kBAQ5B,QAA4BX,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,cACR7C,MAAO,CACLg6B,WAAY,CAAC,EACb3E,WAAY,CAAC,GAEftyB,KAAAA,CAAMC,GCaR,MAAMC,EAASD,EAKTrC,GAASC,EAAAA,EAAAA,KAGTq5B,EAAcA,CAAClD,EAAoBmD,IAE9BA,EAAYA,EAAUnD,GAAKA,EAGhC0C,EAAaU,IAAS,CAACC,EAA6BC,KAGtD15B,EAAO+B,OAAO,2BAA4B,CACtCyyB,UAAWkF,EACXjF,YAAagF,EACb/E,WAAYpyB,EAAOoyB,aAGvB10B,EAAO+B,OAAO,4BAA6B,GAAG,GAC/C,KAGG43B,EAASA,CAACC,EAA4BF,EAAiBH,EAAiC/B,EAAwBqC,KASlH,IAAIC,EAEJ,GARK95B,EAAOiK,MAAM2qB,YAAYmF,YAC1B/5B,EAAO+B,OAAO,4BAAmD,SAAtBO,EAAOoyB,WAC5C10B,EAAOiK,MAAM2qB,YAAYoF,KAAK36B,MAAMq6B,GACpC15B,EAAOi6B,QAAQ,8BAA8B56B,MAAMq6B,IAKzDlC,EAAkB,CAGlB,MAAM0C,EAAsC,SAAtB53B,EAAOoyB,WACvB10B,EAAOiK,MAAM2qB,YAAYoF,KAAK36B,MAAMq6B,GACpC15B,EAAOi6B,QAAQ,8BAA8B56B,MAAMq6B,GACnDS,EAAmB3C,EAAiB0C,GAC1CC,EAAiBN,GAAqBN,EAAWK,GACjDE,EAAmBK,EAAiBrd,KAAK,I,CAI7C,MAAM2X,EAAcqF,IAAqBP,EAAYA,EAAUK,GAAaA,GAE5E55B,EAAO+B,OAAO,2BAA4B,CACtCyyB,UAAWkF,EACXjF,cACAC,WAAYpyB,EAAOoyB,WACnB0F,SAAgC,SAAtB93B,EAAOoyB,WAAwB,GAAK10B,EAAOiK,MAAM2qB,YAAYK,iBACvEoF,UAAU,IAIdvB,EAAWrE,EAAaiF,EAASH,EAAU,EDV/C,MAAO,CAAC/2B,EAAUC,MACRC,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBe,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYnB,EAAK62B,YAAY,CAACiB,EAASh3B,MAC5FZ,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO,CAC/CC,MAAO,cACPU,IAAKA,GACJ,CACDg3B,IACK53B,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoBe,EAAAA,GAAW,CAAEJ,IAAK,GAAK,CACtDg3B,EAAQhD,cAUL50B,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBe,EAAAA,GAAW,CAAEJ,IAAK,IAAKK,EAAAA,EAAAA,IAAY22B,GAASzF,WAAW7uB,QAASu0B,KAC7F73B,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO,CAC/CC,MAAO,oCACPU,IAAKi3B,GACJ,EACDz2B,EAAAA,EAAAA,IAAoB,MAAOq1B,IAAYp1B,EAAAA,EAAAA,IAAiBu2B,EAAQp7B,MAAMq7B,EAAM,IAAM,IAAK,IACvFz2B,EAAAA,EAAAA,IAAoB,MAAOs1B,GAAY,GACpC12B,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,KAAaM,EAAAA,EAAAA,IAAyB81B,EAAQzF,WAAW0F,EAAM,KAAK91B,EAAAA,EAAAA,IAAY,CAAEE,SAAS,GAAQ21B,EAAQ3D,YAAc2D,EAAQ3D,WAAW4D,EAAM,GAAKD,EAAQ3D,WAAW4D,EAAM,QAAKrjB,EAAW,CAC7MrQ,MAAOyyB,EACEgB,EAAQhD,YAAYE,iBAAiB8C,EAAQzzB,OAAS0zB,EAAM,GAAID,EAAQzD,cAAc0D,EAAM,IACrG,iBAAmBv3B,GAAiB22B,EAAO32B,EAAQM,EAAeg3B,EAAQzD,cAAc0D,EAAM,GAAID,EAAQhD,aAAegD,EAAQhD,YAAYE,iBAAkB+C,EAAM,KACnK,KAAM,GAAI,CAAC,QAAS,2BAG1B,QAvBH73B,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAOU,GAAY,EACpDS,EAAAA,EAAAA,IAAoB,MAAOm1B,IAAYl1B,EAAAA,EAAAA,IAAiBu2B,GAASp7B,OAAS,IAAK,IAC/E4E,EAAAA,EAAAA,IAAoB,MAAOo1B,GAAY,GACpCx2B,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,KAAaM,EAAAA,EAAAA,IAAyB81B,EAAQzF,aAAapwB,EAAAA,EAAAA,IAAY,CAAEE,SAAS,GAAQ21B,EAAQ3D,YAAY6D,EAAAA,EAAAA,IAAYF,EAAQxD,YAAcwD,EAAQxD,YAAc,CAAC,GAAI,CACxLjwB,MAAOyyB,EAAYgB,EAAQzzB,MAAQyzB,EAAQzD,eAC3C,iBAAmB7zB,GAAiB22B,EAAO32B,EAAQM,EAAeg3B,EAAQzD,iBACxE,KAAM,GAAI,CAAC,QAAS,0BAkB/B,MACHhyB,EAAAA,EAAAA,IAAoB,IAAI,QAE5B,KAEN,IExHA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCCA,IAA4B5C,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,cACRE,KAAAA,CAAMC,GCMR,MAAMrC,GAASC,EAAAA,EAAAA,KACTw6B,GAAoBjF,EAAAA,EAAAA,IAAI,CAAC,IAGzBkF,GAAgBxJ,EAAAA,EAAAA,KAAS,IACpBlxB,EAAOi6B,QAAQ,8BAChB7B,GAAcp4B,EAAOi6B,QAAQ,8BAA8B56B,OAC3D,KAGJs7B,GAAmBzJ,EAAAA,EAAAA,KAAS,KAC9B,MAAMyG,EAAS+C,EAAc7zB,MAAMtB,QAAQ3B,GACjB,SAAfA,EAAK1E,QAEhB,OAAOy4B,GAAU,EAAE,IDAvB,MAAO,CAACn1B,EAAUC,KAChB,MAAMm4B,GAA8Bp3B,EAAAA,EAAAA,IAAkB,oBAChDq3B,GAAwBr3B,EAAAA,EAAAA,IAAkB,cAEhD,OAAQd,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAa22B,EAAuB,CACxDC,UAAW,GACXl4B,MAAO,WACP2yB,UAAWkF,EAAkB5zB,MAC7B,qBAAsBpE,EAAO,KAAOA,EAAO,GAAMO,GAAkBy3B,EAAmB5zB,MAAQ7D,IAC7F,CACDoB,SAASC,EAAAA,EAAAA,KAAS,IAAM,GACrB3B,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBe,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYg3B,EAAiB9zB,OAAO,CAACk0B,EAAel3B,MAClGnB,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAa02B,EAA6B,CAC9Dt3B,IAAKO,EACLm3B,OAAQD,EAAc77B,OACrB,CACDkF,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAa22B,GAAY,CACvB5B,WAAY0B,EAAcxC,MAC1B7D,WAAY,eACX,KAAM,EAAG,CAAC,kBAEf3vB,EAAG,GACF,KAAM,CAAC,cACR,SAENA,EAAG,GACF,EAAG,CAAC,aAAa,CAEtB,IEtDA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCDA,IAA4B9C,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,gBACRE,KAAAA,CAAMC,GCQR,MAAMrC,GAASC,EAAAA,EAAAA,KAETg1B,GAAmB/D,EAAAA,EAAAA,KAAS,IACvBlxB,EAAOi6B,QAAQ,gCDF1B,MAAO,CAACz3B,EAAUC,KAChB,MAAMy4B,GAAqB13B,EAAAA,EAAAA,IAAkB,WAE7C,OAASyxB,EAAiBpuB,MAKrBouB,EAAiBpuB,MAAMuuB,WACrB1yB,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAag3B,EAAoB,CAC9C53B,IAAK,EACL63B,YAAa,aAEdz4B,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAak3B,GAAY,CAAE93B,IAAK,OAThDZ,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAag3B,EAAoB,CAC9C53B,IAAK,EACL63B,YAAa,UAOuC,CAE5D,IE9BA,MAAM,GAAc,GAEpB,UCKA,IAA4Bl5B,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,eACRE,KAAAA,CAAMC,GCeR,MAAMkzB,GAAYC,EAAAA,EAAAA,IAAI,GAChBx1B,GAASC,EAAAA,EAAAA,KAETo7B,GAAoBnK,EAAAA,EAAAA,KAAS,IACxBkH,GAAcp4B,EAAOiK,MAAM2qB,YAAYoF,KAAK36B,SDVvD,MAAO,CAACmD,EAAUC,KAChB,MAAM64B,GAA8B93B,EAAAA,EAAAA,IAAkB,oBAChDkyB,GAAwBlyB,EAAAA,EAAAA,IAAkB,cAC1C+3B,GAA6B/3B,EAAAA,EAAAA,IAAkB,mBAC/CoyB,GAAoBpyB,EAAAA,EAAAA,IAAkB,UAE5C,OAAQd,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAa0xB,EAAmB,CACpDhzB,MAAO,WACP2yB,UAAWA,EAAU1uB,MACrB,qBAAsBpE,EAAO,KAAOA,EAAO,GAAMO,GAAkBuyB,EAAW1uB,MAAQ7D,GACtF6yB,aAAc,IACb,CACDzxB,SAASC,EAAAA,EAAAA,KAAS,IAAM,GACrB3B,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAawxB,EAAuB,CAAEpyB,IAAK,GAAK,CAC7DwyB,KAAKzxB,EAAAA,EAAAA,KAAS,IAAM,EAClBC,EAAAA,EAAAA,IAAag3B,IACbvF,EAAAA,EAAAA,IAAiB,UAEnB3xB,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAak3B,OAEfz2B,EAAG,OAEJrC,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAawxB,EAAuB,CAAEpyB,IAAK,GAAK,CAC7DwyB,KAAKzxB,EAAAA,EAAAA,KAAS,IAAM,EAClBC,EAAAA,EAAAA,IAAai3B,IACbxF,EAAAA,EAAAA,IAAiB,YAEnB3xB,SAASC,EAAAA,EAAAA,KAAS,IAAM,GACrB3B,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBe,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAY03B,EAAkBx0B,OAAO,CAACk0B,EAAel3B,MACnGnB,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO,CAAEW,IAAKO,GAAS,CACtC,SAAxBk3B,EAAc77B,QACVwD,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAa+2B,GAAY,CACtC33B,IAAK,EACL+1B,WAAY0B,EAAcxC,MAC1B7D,WAAY,QACX,KAAM,EAAG,CAAC,iBACb7vB,EAAAA,EAAAA,IAAoB,IAAI,QAE5B,SAENE,EAAG,QAGPA,EAAG,GACF,EAAG,CAAC,aAAa,CAEtB,IE9DA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCHc,YAAW02B,EAA2BC,EAAgCC,GAEhF,MAAMC,EAAiB,SAAUC,GAE7B,MAAMC,EAAkCD,EAAUv7B,OAClDm7B,EAAYI,GACZ,MAAME,EAAc,SAAUC,GAC1BN,EAAcM,EAAWF,EAC7B,EACAryB,SAASV,iBAAiB,YAAagzB,GACvC,MAAME,EAAY,SAAUC,GACxBzyB,SAASR,oBAAoB,YAAa8yB,GAC1CJ,EAAUO,EAASJ,GACnBryB,SAASR,oBAAoB,UAAWgzB,EAC5C,EACAxyB,SAASV,iBAAiB,UAAWkzB,EACzC,EAEA,MAAO,CACHL,iBAER,C,wCCtBIO,GAAkB,sBA8CtB,SAASjsB,GAASksB,EAAMC,EAAM9uB,GAC5B,IAAI+uB,GAAU,EACVC,GAAW,EAEf,GAAmB,mBAARH,EACT,MAAM,IAAII,UAAUL,IAMtB,OAJIM,EAAAA,GAAAA,GAASlvB,KACX+uB,EAAU,YAAa/uB,IAAYA,EAAQ+uB,QAAUA,EACrDC,EAAW,aAAchvB,IAAYA,EAAQgvB,SAAWA,IAEnD/C,EAAAA,GAAAA,GAAS4C,EAAMC,EAAM,CAC1B,QAAWC,EACX,QAAWD,EACX,SAAYE,GAEhB,CAEA,U,YCtBC/wB,GAOA,MAAO,CAINkxB,IANDlxB,EAAMA,GAAO,IAAImxB,IAchBh0B,GAAA,SAA6Bi0B,EAAWz8B,GACvC,IAAM2F,EAAmD0F,EAAKoU,IAAIgd,GAC9D92B,EACHA,EAASH,KAAKxF,GAEdqL,EAAKqc,IAAI+U,EAAM,CAACz8B,GAAA,EAWlB6I,IAAA,SAA8B4zB,EAAWz8B,GACxC,IAAM2F,EAAmD0F,EAAKoU,IAAIgd,GAC9D92B,IACC3F,EACH2F,EAASsM,OAAOtM,EAAS0B,QAAQrH,KAAa,EAAG,GAEjDqL,EAAKqc,IAAI+U,EAAM,MAelB/O,KAAA,SAA+B+O,EAAWz8B,GACzC,IAAI2F,EAAW0F,EAAKoU,IAAIgd,GACpB92B,GACFA,EACC6L,QACAgc,KAAI,SAACniB,GACLA,EAAQrL,EAAA,KAIX2F,EAAW0F,EAAKoU,IAAI,OAElB9Z,EACC6L,QACAgc,KAAI,SAACniB,GACLA,EAAQoxB,EAAMz8B,EAAA,MCnHpB,MAAM08B,GAAWC,KACjB,UCAA,MACMz5B,IAA0B05B,EAAAA,EAAAA,IAAmB,mVAAoW,GACjZC,GAAa,CACjB35B,IAmBF,QAA4BpB,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,eACR7C,MAAO,CACL+6B,SAAU,CAAC,EACX6C,SAAU,CAAE/a,KAAM+M,UAEpBU,MAAO,CAAC,eAAgB,oBAAqB,aAC7CvtB,KAAAA,CAAMC,GAAgBwrB,KAAMqP,ICA9B,MAAM56B,EAASD,EAUT4rB,EAAQiP,EAMRC,EAAeA,KACjBlP,EAAM,eAAgB3rB,EAAO83B,SAAS,EAIpCgD,EAAqBA,KACvB,MAAMC,EAAa,IAAIV,IACjBW,EAAe7zB,SAAS8zB,cAAc,eACtCC,EAAmBF,EAAa78B,wBAEhCg9B,EAAS,CACXzG,IAAKwG,EAAiB58B,KACtBoS,IAAKwqB,EAAiB58B,KAAO48B,EAAiBh/B,OAE5Ck/B,EAAS,CACX1G,IAAKwG,EAAiBz8B,IACtBiS,IAAKwqB,EAAiBz8B,IAAMy8B,EAAiBx+B,QAIjD,OAFAq+B,EAAWxV,IAAI,IAAK4V,GACpBJ,EAAWxV,IAAI,IAAK6V,GACbL,CAAU,EAIfM,GAAWC,EAAAA,EAAAA,IAAS,CACtBC,cAAc,EACdC,MAAO,CACHC,EAAG,EACHC,EAAG,GAEPC,IAAK,CACDF,EAAG,EACHC,EAAG,KAGLE,EAAoBA,CAACC,GAAU,KACjC,MAAMC,EAAYT,EAASM,IAAIF,EAAIJ,EAASG,MAAMC,EAC5CM,EAAYV,EAASM,IAAID,EAAIL,EAASG,MAAME,EAClD,OAAOG,EACD,CACEC,UAAWpuB,KAAKyT,IAAI2a,GACpBC,UAAWruB,KAAKyT,IAAI4a,IAEtB,CACED,YACAC,YACH,EAGHC,EAAUpuB,IAAUggB,IACtBqO,GAAAA,GAAQ9lB,KAAKyX,EAAQ,GACtB,KAIGsO,EAAsBC,IAExB,MAAMC,EAAYA,IAAIruB,KAElB4d,EAAM,aAAc0Q,IAChB,IACI,GAAIA,EAAOvJ,SACP,MAAM,IAAIwJ,MAAM,MAGpB,MAAM/1B,EAAQwH,EAAK,GACnB,GAAI+sB,IAAqBxd,IAAI,KAAKoX,IAAMnuB,EAAMlI,SAC1Cy8B,IAAqBxd,IAAI,KAAK5M,IAAMnK,EAAMlI,SAC1Cy8B,IAAqBxd,IAAI,KAAKoX,IAAMnuB,EAAM/H,SAC1Cs8B,IAAqBxd,IAAI,KAAK5M,IAAMnK,EAAM/H,QAG1C,YADAw9B,EAAQ,WAIZG,KAAYpuB,E,CACd,MAAOkgB,GACLzE,QAAQ+S,IAAI,QAAStO,GACrB+N,EAAQ,Q,IAEd,EAGN,OAAOI,CAAS,EAIdjD,EAAc,SAAUI,GAC1BA,EAAUx6B,iBACV87B,IACAQ,EAASG,MAAMC,EAAIlC,EAAUl7B,QAC7Bg9B,EAASG,MAAME,EAAInC,EAAU/6B,OACjC,EACM46B,EAAgB8C,GAAmB,SAAUxC,EAAuBF,GAEtE6B,EAASE,cAAe,EAExBF,EAASM,IAAIF,EAAI/B,EAAUr7B,QAC3Bg9B,EAASM,IAAID,EAAIhC,EAAUl7B,QAE3B,MAAMg+B,EAAkBZ,IAElBa,EAAejD,EAAav7B,QAAQ,iBACtCw+B,IAEAA,EAAYr6B,MAAM9D,KAAQm+B,EAAYxwB,WAAauwB,EAAgBV,UAAa,KAChFW,EAAYr6B,MAAM3D,IAAOg+B,EAAYvwB,UAAYswB,EAAgBT,UAAa,MAOlFxB,GAAShP,KAAK,aAAc,CACxBmR,cAAeD,EACflB,cAAc,EACdiB,gBAAiBA,IAIrBrD,EAAYO,EAChB,IACML,EAAY,SAAUO,EAAqBJ,GAE7C,IAAK6B,EAASE,aACV,OAEJ,MAAMkB,EAAejD,EAAav7B,QAAQ,iBAE1C0tB,EAAM,oBAAqB,CAAEgR,IAAK,CAAC,OAAQ,OAAQC,MAAO,CAACH,EAAYr6B,MAAM9D,KAAMm+B,EAAYr6B,MAAM3D,OAErG48B,EAASE,cAAe,EACxBhB,GAAShP,KAAK,aAAc,CACxBmR,cAAeD,EACflB,cAAc,GAEtB,GAGQjC,eAAgBuD,GAAoBC,GAAmB3D,EAAaC,EAAeC,GAGrF0D,EAAgB,SAAUxD,GAC5BA,EAAUx6B,iBAEV87B,IACAQ,EAASG,MAAMC,EAAIlC,EAAUl7B,QAC7Bg9B,EAASG,MAAME,EAAInC,EAAU/6B,QAE7BmtB,EAAM,aAAc0Q,IACW,IAAvBA,EAAOt/B,MAAM24B,OACb/J,EAAM,oBAAqB,CAAEgR,IAAK,QAASC,MAAO,IAE1B,SAAxBP,EAAOt/B,MAAM44B,QACbhK,EAAM,oBAAqB,CAAEgR,IAAK,SAAUC,MAAO,Q,GAG/D,EACMI,EAAkBd,GAAmB,SAAUxC,EAAuBF,GACxE6B,EAASE,cAAe,EACxBF,EAASM,IAAIF,EAAI/B,EAAUr7B,QAC3Bg9B,EAASM,IAAID,EAAIhC,EAAUl7B,QAC3B,MAAM,UAAEs9B,EAAS,UAAEC,GAAcH,IAG3BqB,EAAYzD,EACZiD,EAAcQ,EAAUh/B,QAAQ,iBAChCi/B,EAAaD,EAAUh/B,QAAQ,kBAAkBk/B,kBAMjDC,EAAiBF,EAAW/+B,wBAClC,QAAQ,GACJ,KAAK8+B,EAAUr1B,UAAU8X,SAAS,UAC9Bwd,EAAW96B,MAAMlG,MAASkhC,EAAelhC,MAAQ4/B,EAAa,KAC9DoB,EAAW96B,MAAM1F,OAAU0gC,EAAe1gC,OAASq/B,EAAa,KAChEU,EAAYr6B,MAAM3D,IAAOg+B,EAAYvwB,UAAY6vB,EAAa,KAC9DU,EAAYr6B,MAAM9D,KAAQm+B,EAAYxwB,WAAa6vB,EAAa,KAChE,MACJ,KAAKmB,EAAUr1B,UAAU8X,SAAS,UAC9Bwd,EAAW96B,MAAMlG,MAASkhC,EAAelhC,MAAQ4/B,EAAa,KAE9DoB,EAAW96B,MAAM1F,OAAU0gC,EAAe1gC,OAASq/B,EAAa,KAEhEU,EAAYr6B,MAAM3D,IAAOg+B,EAAYvwB,UAAY6vB,EAAa,KAC9D,MACJ,KAAKkB,EAAUr1B,UAAU8X,SAAS,UAC9Bwd,EAAW96B,MAAMlG,MAASkhC,EAAelhC,MAAQ4/B,EAAa,KAC9DoB,EAAW96B,MAAM1F,OAAU0gC,EAAe1gC,OAASq/B,EAAa,KAChEU,EAAYr6B,MAAM9D,KAAQm+B,EAAYxwB,WAAa6vB,EAAa,KAChE,MACJ,KAAKmB,EAAUr1B,UAAU8X,SAAS,UAC9Bwd,EAAW96B,MAAMlG,MAASkhC,EAAelhC,MAAQ4/B,EAAa,KAC9DoB,EAAW96B,MAAM1F,OAAU0gC,EAAe1gC,OAASq/B,EAAa,KAChE,MAGJ,KAAKkB,EAAUr1B,UAAU8X,SAAS,UAC9Bwd,EAAW96B,MAAM1F,OAAU0gC,EAAe1gC,OAASq/B,EAAa,KAChEU,EAAYr6B,MAAM3D,IAAOg+B,EAAYvwB,UAAY6vB,EAAa,KAC9D,MAGJ,KAAKkB,EAAUr1B,UAAU8X,SAAS,UAC9Bwd,EAAW96B,MAAMlG,MAASkhC,EAAelhC,MAAQ4/B,EAAa,KAC9D,MAGJ,KAAKmB,EAAUr1B,UAAU8X,SAAS,UAC9Bwd,EAAW96B,MAAM1F,OAAU0gC,EAAe1gC,OAASq/B,EAAa,KAChE,MAGJ,KAAKkB,EAAUr1B,UAAU8X,SAAS,UAC9Bwd,EAAW96B,MAAMlG,MAASkhC,EAAelhC,MAAQ4/B,EAAa,KAC9DW,EAAYr6B,MAAM9D,KAAQm+B,EAAYxwB,WAAa6vB,EAAa,KAChE,MAER3C,EAAYO,EAChB,IACM2D,EAAc,SAAUzD,EAAqBJ,GAE/C,MAAMyD,EAAYzD,EACZiD,EAAcQ,EAAUh/B,QAAQ,iBAChCi/B,EAAaD,EAAUh/B,QAAQ,kBAAkBk/B,kBACjDC,EAAiBF,EAAW/+B,yBAM5B,MAAEjC,EAAK,OAAEQ,GAAW0gC,GACpB,UAAElxB,EAAS,WAAED,GAAewwB,EAKlC,QAAQ,GACJ,KAAKQ,EAAUr1B,UAAU8X,SAAS,UAC9BiM,EAAM,oBAAqB,CAAEgR,IAAK,CAAC,QAAS,SAAU,MAAO,QAASC,MAAO,CAAC1gC,EAAQ,KAAMQ,EAAS,KAAMwP,EAAY,KAAMD,EAAa,QAC1I,MACJ,KAAKgxB,EAAUr1B,UAAU8X,SAAS,UAC9BiM,EAAM,oBAAqB,CAAEgR,IAAK,CAAC,QAAS,SAAU,OAAQC,MAAO,CAAC1gC,EAAQ,KAAMQ,EAAS,KAAMwP,EAAY,QAC/G,MACJ,KAAK+wB,EAAUr1B,UAAU8X,SAAS,UAC9BiM,EAAM,oBAAqB,CAAEgR,IAAK,CAAC,QAAS,SAAU,QAASC,MAAO,CAAC1gC,EAAQ,KAAMQ,EAAS,KAAMuP,EAAa,QACjH,MACJ,KAAKgxB,EAAUr1B,UAAU8X,SAAS,UAC9BiM,EAAM,oBAAqB,CAAEgR,IAAK,CAAC,QAAS,UAAWC,MAAO,CAAC1gC,EAAQ,KAAMQ,EAAS,QACtF,MAEJ,KAAKugC,EAAUr1B,UAAU8X,SAAS,UAC9BiM,EAAM,oBAAqB,CAAEgR,IAAK,CAAC,SAAU,OAAQC,MAAO,CAAClgC,EAAS,KAAMwP,EAAY,QACxF,MACJ,KAAK+wB,EAAUr1B,UAAU8X,SAAS,UAC9BiM,EAAM,oBAAqB,CAAEgR,IAAK,QAASC,MAAO1gC,EAAQ,OAC1D,MACJ,KAAK+gC,EAAUr1B,UAAU8X,SAAS,UAC9BiM,EAAM,oBAAqB,CAAEgR,IAAK,SAAUC,MAAOlgC,EAAS,OAC5D,MACJ,KAAKugC,EAAUr1B,UAAU8X,SAAS,UAC9BiM,EAAM,oBAAqB,CAAEgR,IAAK,CAAC,QAAS,QAASC,MAAO,CAAC1gC,EAAQ,KAAM+P,EAAa,QACxF,MAEZ,GACQqtB,eAAgBgE,GAAsBR,GAAmBC,EAAeC,EAAiBK,GAE3FE,GAAajC,EAAAA,EAAAA,IAAS,CACxBkC,OAAQ,CACJ/B,EAAG,EACHC,EAAG,GAEP+B,YAAa,EACbC,UAAW,IAGTC,EAAgBA,CAACpE,EAAuBqE,KAG1C,IAAIC,EAFJtE,EAAUx6B,iBAIN8+B,EADAD,EACaA,EAAe3/B,QAAQ,iBAEtBs7B,EAAUv7B,OAAuBC,QAAQ,iBAE3D,MAAM6/B,EAAiBD,EAAW1/B,wBAClCo/B,EAAWC,OAAO/B,EAAIqC,EAAex/B,KAA8B,EAAvBw/B,EAAe5hC,MAAY,EACvEqhC,EAAWC,OAAO9B,EAAIoC,EAAer/B,IAA8B,EAAxBq/B,EAAephC,OAAa,EAGvE6gC,EAAWE,YAAc/vB,KAAKqwB,MAAMxE,EAAU/6B,QAAU++B,EAAWC,OAAO9B,EAAGnC,EAAUl7B,QAAUk/B,EAAWC,OAAO/B,IAAM,IAAM/tB,KAAKswB,GAAG,EAErIC,EAAkBA,CAACvE,EAAuBF,KAC5CE,EAAU36B,iBACVw+B,EAAWG,UAAYhwB,KAAKqwB,MAAMrE,EAAUl7B,QAAU++B,EAAWC,OAAO9B,EAAGhC,EAAUr7B,QAAUk/B,EAAWC,OAAO/B,IAAM,IAAM/tB,KAAKswB,IAClI,MAAMH,EAAarE,EAAYv7B,QAAQ,iBACvC4/B,EAAWz7B,MAAMuzB,OAASnpB,OAAO0xB,WAAWL,EAAWz7B,MAAMuzB,QAAU4H,EAAWG,UAAYH,EAAWE,aAAe,MACxHE,EAAcjE,EAAWF,EAAY,EAEnC2E,EAAcA,CAACvE,EAAqBJ,KACtC,MAAMqE,EAAarE,EAAYv7B,QAAQ,iBAEvC0tB,EAAM,oBAAqB,CAAEgR,IAAK,SAAUC,MAAOiB,EAAWz7B,MAAMuzB,QAAS,GAEzE2D,eAAgB8E,GAAsBtB,GAAmBa,EAAeM,EAAiBE,GDPjG,MAAO,CAACj+B,EAAUC,KAChB,MAAMc,GAAqBC,EAAAA,EAAAA,IAAkB,WAE7C,OAAQd,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO,CAC/CC,OAAOoB,EAAAA,EAAAA,IAAgB,CAAC,eAAgB,CAAEgU,OAAQxV,EAAKy6B,YACvD0D,YAAal+B,EAAO,KAAOA,EAAO,GAEtC,IAAI4N,KAAUpN,EAAAA,EAAAA,IAAOk8B,KAAoBl8B,EAAAA,EAAAA,IAAOk8B,EAAPl8B,IAA2BoN,KAC/D,EACDnN,EAAAA,EAAAA,IAAYV,EAAKW,OAAQ,YACzBW,EAAAA,EAAAA,IAAoB,MAAO,CACzBlB,MAAO,eACP+9B,YAAal+B,EAAO,KAAOA,EAAO,IAAKm+B,EAAAA,EAAAA,KAE7C,IAAIvwB,KAAUpN,EAAAA,EAAAA,IAAO28B,KAAsB38B,EAAAA,EAAAA,IAAO28B,EAAP38B,IAA6BoN,IAAQ,CAAC,WAC1E2sB,GAAY,KACfl5B,EAAAA,EAAAA,IAAoB,MAAO,CACzBlB,MAAO,cACP+9B,YAAal+B,EAAO,KAAOA,EAAO,IAAKm+B,EAAAA,EAAAA,KAE7C,IAAIvwB,KAAUpN,EAAAA,EAAAA,IAAOy9B,KAAsBz9B,EAAAA,EAAAA,IAAOy9B,EAAPz9B,IAA6BoN,IAAQ,CAAC,WAC1E,EACD/L,EAAAA,EAAAA,IAAaf,EAAoB,CAC/BnE,KAAM,gBACNyhC,KAAM,aAEP,KACF,GAAG,CAER,IElXA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,UCPSj+B,MAAM,OAAOmf,GAAG,a,IADzBgb,EAAAA,EAAAA,IAAA,8xB,IAEQ9D,I,mCADJt2B,EAAAA,EAAAA,IAiBM,MAjBNU,GADJ61B,G,CCCA,MAAM4H,GAAS,CAAC,EAKV,IAA2B,OAAgBA,GAAQ,CAAC,CAAC,SAAS3Q,IAAQ,CAAC,YAAY,qBAEzF,UCLA,MACM9sB,GAAa,CAAET,MAAO,aACtBq2B,GAAa,CAAC,MC+Bd8H,GAAO,GDGb,QAA4B9+B,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,YACRE,KAAAA,CAAMC,GCfR,MAAMrC,GAASC,EAAAA,EAAAA,KAET+gC,GAAQpD,EAAAA,EAAAA,IAAS,CACnBqD,IAAI,EACJC,IAAI,EACJC,IAAI,EACJC,IAAI,EACJC,IAAI,EACJC,IAAI,IAaFC,GAAqB3D,EAAAA,EAAAA,IAAmB,CAC1CqD,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,IAGFE,GAAa5D,EAAAA,EAAAA,IAAS,CACxBqD,IAAI,EACJC,IAAI,EACJC,IAAI,EACJC,IAAI,EACJC,IAAI,EACJC,IAAI,IAEFG,GAAa7D,EAAAA,EAAAA,IAAS,CACxB78B,IAAK,EACLH,KAAM,IAaJk+B,GAAkBtJ,EAAAA,EAAAA,IAAqB,CACzC4I,UAAW,EACXC,UAAW,IAIfxB,GAASl0B,GAAG,cAAeg2B,IAGvB,GAAIA,EAAOd,aAAc,CACrB,MAAMmB,EAAgBL,EAAOK,cAC7B0C,EAAc1C,GACd2C,EAAkB3C,GAClB4C,IACA9C,EAAgBj4B,MAAQ83B,EAAOG,e,MAG/B,IAAK,MAAMx7B,KAAO09B,EACdA,EAAM19B,IAAO,C,IAKzB,MAAMo+B,EAAiB1C,IACnB,MAAM6C,EAAY7C,EAAcz+B,QAAQ,eAClCuhC,EAAgBD,EAAUphC,wBAChCghC,EAAW1gC,IAAM+gC,EAAc/gC,IAC/B0gC,EAAW7gC,KAAOkhC,EAAclhC,IAAI,EAElC+gC,EAAqB3C,IAEvB,MAAM+C,EAAoB/C,EAAcv+B,wBACxC8gC,EAAmBN,GAAKjC,EAAcxwB,UACtC+yB,EAAmBL,GAAKlC,EAAcxwB,UAAuC,EAA3BuzB,EAAkB/iC,OAAa,EACjFuiC,EAAmBJ,GAAKnC,EAAcxwB,UAAYuzB,EAAkB/iC,OACpEuiC,EAAmBH,GAAKpC,EAAczwB,WACtCgzB,EAAmBF,GAAKrC,EAAczwB,WAAuC,EAA1BwzB,EAAkBvjC,MAAY,EACjF+iC,EAAmBD,GAAKtC,EAAczwB,WAAawzB,EAAkBvjC,KAAK,EAOxEojC,EAA2BI,UAE7B,MAAMnN,EAAa70B,EAAOiK,MAAM2qB,YAAYC,WACtCoN,EAAkC,GACxCpN,EAAW3uB,SAASopB,IAChB,GAAIA,EAAUvN,KAAO/hB,EAAOiK,MAAM2qB,YAAYK,iBAC1C,OAEJ,MAAMiN,EAAYz4B,SAAS04B,eAAe7S,EAAUvN,IAC9CqgB,EAAmBF,EAAU3hC,QAAQ,iBACrC8hC,EAAuBD,EAAiB3hC,wBAExC6hC,EAAiB,CACnBrB,GAAImB,EAAiB5zB,UACrB0yB,GAAIkB,EAAiB5zB,UAA0C,EAA9B6zB,EAAqBrjC,OAAa,EACnEmiC,GAAIiB,EAAiB5zB,UAAY6zB,EAAqBrjC,OACtDoiC,GAAIgB,EAAiB7zB,WACrB8yB,GAAIe,EAAiB7zB,WAA0C,EAA7B8zB,EAAqB7jC,MAAY,EACnE8iC,GAAIc,EAAiB7zB,WAAa8zB,EAAqB7jC,OAE3DyjC,EAAct8B,KAAK,CACfoc,GAAIuN,EAAUvN,GACdwgB,SAAUD,GACZ,IAGNE,EAAYP,EAAc,EAGxBO,EAAeP,IAEjB,IAAK,MAAM3+B,KAAOi+B,EAAoB,CAKlC,IAAIkB,EAAsB,GAC1BR,EAAc/7B,SAASw8B,IACnB,IAAIvV,EAEAA,EADA7pB,EAAIgrB,SAAS,KACJlpB,OAAO+nB,OAAOuV,EAAWH,UAAU5wB,MAAM,EAAG,GAE5CvM,OAAO+nB,OAAOuV,EAAWH,UAAU5wB,MAAM,GAEtD8wB,EAAY,IAAIA,KAActV,EAAO,IAIzC,MAAMwV,EAAiBF,EAAUr3B,MAAMvE,IAE3Bm6B,EAAM19B,IAAS0M,KAAKyT,IAAI8d,EAAmBj+B,GAAOuD,IAAUk6B,KAEpE4B,GAEA3B,EAAM19B,IAAO,EAGbs/B,EAASt/B,EAAKq/B,IAGd3B,EAAM19B,IAAO,C,GAKnBs/B,EAAWZ,MAAO1+B,EAAau/B,KACjC,MAAMC,EAAsB9iC,EAAOi6B,QAAQ,+BACrC8I,EAA0BD,EAAoBriC,wBAC9CuiC,EAA6BF,EAAoBviC,QAAQ,iBAE3DihC,EAAWl+B,KACPA,EAAIgrB,SAAS,OAASwQ,EAAgBj4B,MAAMw3B,UAAY,IACxD2E,EAA2Bt+B,MAAM3D,IAAM8hC,EAAc,KACrDI,EAAO3/B,IAEPA,EAAIgrB,SAAS,OAASwQ,EAAgBj4B,MAAMw3B,UAAY,IACxD2E,EAA2Bt+B,MAAM3D,IAAM8hC,EAAcE,EAAwB/jC,OAAS,KACtFikC,EAAO3/B,IAEPA,EAAIgrB,SAAS,OAASwQ,EAAgBj4B,MAAMu3B,UAAY,IACxD4E,EAA2Bt+B,MAAM9D,KAAOiiC,EAAc,KACtDI,EAAO3/B,IAEPA,EAAIgrB,SAAS,OAASwQ,EAAgBj4B,MAAMw3B,UAAY,IACxD2E,EAA2Bt+B,MAAM9D,KAAOiiC,EAAcE,EAAwBvkC,MAAQ,KACtFykC,EAAO3/B,I,EAKb2/B,EAAU3/B,IACZk+B,EAAWl+B,IAAO,EAClBiN,YAAW,KACPixB,EAAWl+B,IAAO,CAAI,GACvB,IAAI,EDJX,MAAO,CAACd,EAAUC,MACRC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAOU,GAAY,GAC1DX,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBe,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYq9B,GAAO,CAACn6B,EAAOvD,KAC1E4/B,EAAAA,EAAAA,MAAiBxgC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO,CAC/DW,IAAKA,EACLV,OAAOoB,EAAAA,EAAAA,IAAgB,CAAC,OAAQV,EAAIgrB,SAAS,KAAO,QAAU,UAC9DvM,GAAIze,EACJoB,OAAOI,EAAAA,EAAAA,IAAgBxB,EAAIgrB,SAAS,KAAO,CAAEvtB,IAAKwgC,EAAmBj+B,GAAO,KAAM1C,KAAM,GAAM,CAAEG,IAAK,EAAGH,KAAM2gC,EAAmBj+B,GAAO,QACvI,KAAM,GAAI21B,KAAc,CACzB,CAACkK,EAAAA,GAAQt8B,OAET,QAGR,IE7NA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCaA,IAA4B5E,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,gBACRE,KAAAA,CAAMC,GCcR,MAAMrC,GAASC,EAAAA,EAAAA,KACTmjC,GAAc5N,EAAAA,EAAAA,OACd,WAAEp0B,EAAU,OAAEG,GAAWxB,IAKzBsjC,GAAmBnS,EAAAA,EAAAA,KAAS,IACvBlxB,EAAOiK,MAAM2qB,YAAYC,aAI9ByO,GAAYpS,EAAAA,EAAAA,KAAS,KAChB,IACAlxB,EAAOiK,MAAM2qB,YAAYoF,KAAK36B,MACjC,mBAAoBW,EAAOiK,MAAM2qB,YAAYoF,KAAK36B,MAAM,oBAClD,OAAOW,EAAOiK,MAAM2qB,YAAYoF,KAAK36B,MAAM,uBAC3C,OAKRkkC,EAAyBC,IACpBhL,EAAAA,GAAAA,GAAKgL,EAAiBC,EAAAA,IAG3BtG,EAAgBpb,IAClB/hB,EAAO+B,OAAO,2BAA4BggB,EAAG,EAE3C2hB,EAAa56B,IACfA,EAAG9I,EAAOi6B,QAAQ,8BAA8B,EAO9C0J,EAAoBA,EAAG1E,MAAKC,YAC9Bl/B,EAAO+B,OAAO,2BAA4B,CACtCyyB,UAAWyK,EACXxK,YAAayK,EACbxK,WAAY,eACd,EDZN,MAAO,CAAClyB,EAAUC,MACRC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO,CAC/CC,MAAO,aACP8B,OAAOI,EAAAA,EAAAA,IAAgBw+B,EAAUz8B,OACjC+8B,WAAYnhC,EAAO,KAAOA,EAAO,GAErC,IAAI4N,KAAUpN,EAAAA,EAAAA,IAAO7B,KAAe6B,EAAAA,EAAAA,IAAO7B,EAAP6B,IAAsBoN,IACtDwzB,OAAQphC,EAAO,KAAOA,EAAO,GAEjC,IAAI4N,KAAUpN,EAAAA,EAAAA,IAAO1B,KAAW0B,EAAAA,EAAAA,IAAO1B,EAAP0B,IAAkBoN,KAC7C,EACApN,EAAAA,EAAAA,IAAOjD,GAAQiK,MAAM2qB,YAAYkP,eAC7BphC,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAa6/B,GAAU,CAAEzgC,IAAK,MAC7CuB,EAAAA,EAAAA,IAAoB,IAAI,IAC5BP,EAAAA,EAAAA,IAAa0/B,MACZthC,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBe,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAY0/B,EAAiBx8B,OAAO,CAACjD,EAAMC,MACzFnB,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAa+/B,GAAa,CAC9Ct/B,SAAS,EACTu/B,QAAS,cACT1O,IAAK4N,EACL9/B,IAAKM,EAAKme,GACVqY,SAAUx2B,EAAKme,GACfoiB,eAAgBhH,EAChBiH,oBAAqBT,EACrBU,YAAaX,EACbzG,SAAUr5B,EAAKme,KAAM9e,EAAAA,EAAAA,IAAOjD,GAAQiK,MAAM2qB,YAAYK,mBAAqBrxB,EAAKsxB,SAChFxwB,OAAOI,EAAAA,EAAAA,IAAgB,IAAKy+B,EAAsB3/B,EAAKvE,OAAQ,UAAWwE,KACzE,CACDO,SAASC,EAAAA,EAAAA,KAAS,IAAM,CACpBT,EAAKsxB,UAOHrwB,EAAAA,EAAAA,IAAoB,IAAI,KANvBnC,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,KAAaM,EAAAA,EAAAA,IAAyBZ,EAAKxE,OAAOqF,EAAAA,EAAAA,IAAY,CAC3EnB,IAAK,EACLqB,SAAS,GACR,IAAKf,EAAKvE,MAAOuF,YAAahB,EAAKnE,OAAS,CAC7CsiB,GAAIne,EAAKme,KACP,KAAM,GAAI,CAAC,WAGrBhd,EAAG,GACF,KAAM,CAAC,WAAY,WAAY,aAChC,OACH,IAEL,IExGA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE;;;;;;;;;;;;ACIA,MAAMu/B,GAA4B,qBAAdt8B,WAA4BA,UAAUH,UAAUqmB,cAAc1mB,QAAQ,WAAa,EAGvG,SAAS+8B,GAASt/B,EAAQ4D,EAAO27B,EAAQC,GACnCx/B,EAAO8D,iBACT9D,EAAO8D,iBAAiBF,EAAO27B,EAAQC,GAC9Bx/B,EAAOy/B,aAChBz/B,EAAOy/B,YAAY,KAAKlwB,OAAO3L,GAAQ27B,EAE3C,CACA,SAASG,GAAY1/B,EAAQ4D,EAAO27B,EAAQC,GACtCx/B,EAAOgE,oBACThE,EAAOgE,oBAAoBJ,EAAO27B,EAAQC,GACjCx/B,EAAO2/B,aAChB3/B,EAAO2/B,YAAY,KAAKpwB,OAAO3L,GAAQ27B,EAE3C,CAGA,SAASK,GAAQC,EAAUxhC,GACzB,MAAMyhC,EAAOzhC,EAAIqO,MAAM,EAAGrO,EAAI0C,OAAS,GACvC,IAAK,IAAIF,EAAI,EAAGA,EAAIi/B,EAAK/+B,OAAQF,IAAKi/B,EAAKj/B,GAAKg/B,EAASC,EAAKj/B,GAAGooB,eACjE,OAAO6W,CACT,CAGA,SAASC,GAAQ1hC,GACI,kBAARA,IAAkBA,EAAM,IACnCA,EAAMA,EAAI8G,QAAQ,MAAO,IACzB,MAAMjF,EAAO7B,EAAI8X,MAAM,KACvB,IAAIvX,EAAQsB,EAAK8/B,YAAY,IAG7B,KAAOphC,GAAS,GACdsB,EAAKtB,EAAQ,IAAM,IACnBsB,EAAKiN,OAAOvO,EAAO,GACnBA,EAAQsB,EAAK8/B,YAAY,IAE3B,OAAO9/B,CACT,CAGA,SAAS+/B,GAAaC,EAAIC,GACxB,MAAMC,EAAOF,EAAGn/B,QAAUo/B,EAAGp/B,OAASm/B,EAAKC,EACrCE,EAAOH,EAAGn/B,QAAUo/B,EAAGp/B,OAASo/B,EAAKD,EAC3C,IAAII,GAAU,EACd,IAAK,IAAIz/B,EAAI,EAAGA,EAAIu/B,EAAKr/B,OAAQF,KACA,IAA3Bw/B,EAAK99B,QAAQ69B,EAAKv/B,MAAYy/B,GAAU,GAE9C,OAAOA,CACT,CAGA,MAAMC,GAAU,CACdC,UAAW,EACX,IAAK,EACL3P,IAAK,EACLxa,MAAO,GACPoqB,MAAO,GACP,IAAK,GACLC,OAAQ,GACRC,IAAK,GACLC,OAAQ,GACRC,MAAO,GACPllC,KAAM,GACNmlC,GAAI,GACJ55B,MAAO,GACP65B,KAAM,GACNC,IAAK,GACLC,OAAQ,GACRC,IAAK,GACLC,OAAQ,GACRC,KAAM,GACNpI,IAAK,GACLqI,OAAQ,GACRC,SAAU,GACVC,SAAU,GACVC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,aAAc,IACdC,QAAS,IACTC,UAAW,IACXC,aAAc,IACdC,YAAa,IACbC,WAAY,IACZ,IAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAKlD,GAAO,IAAM,IAClB,IAAKA,GAAO,GAAK,IACjB,IAAKA,GAAO,GAAK,IACjB,IAAM,IACN,IAAK,IACL,IAAK,IACL,KAAM,KAIFmD,GAAY,CAEhB,IAAK,GACLC,MAAO,GAEP,IAAK,GACLC,IAAK,GACLtzB,OAAQ,GAER,IAAK,GACLuzB,KAAM,GACNC,QAAS,GAET,IAAK,GACLC,IAAK,GACLC,QAAS,IAELC,GAAc,CAClB,GAAI,WACJ,GAAI,SACJ,GAAI,UACJ,GAAI,UACJC,SAAU,GACVC,QAAS,GACTC,OAAQ,GACRC,QAAS,IAELC,GAAQ,CACZ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,GAEAC,GAAY,CAAC,EAGnB,IAAK,IAAIC,GAAI,EAAGA,GAAI,GAAIA,KACtB/C,GAAQ,IAAIhxB,OAAO+zB,KAAM,IAAMA,GAGjC,IAAIC,GAAY,GACZC,GAAkB,KAClBC,GAAS,MACb,MAAMC,GAAkB,IAAIhM,IAGtBiM,GAAOj4B,GAAK60B,GAAQ70B,EAAEud,gBAAkBuZ,GAAU92B,EAAEud,gBAAkBvd,EAAEvC,cAAcmT,WAAW,GACjGsnB,GAASl4B,GAAKvL,OAAOD,KAAKqgC,IAASp6B,MAAKm9B,GAAK/C,GAAQ+C,KAAO53B,IAC5Dm4B,GAAcn4B,GAAKvL,OAAOD,KAAKsiC,IAAWr8B,MAAKm9B,GAAKd,GAAUc,KAAO53B,IAG3E,SAASo4B,GAASC,GAChBN,GAASM,GAAS,KACpB,CAEA,SAASC,KACP,OAAOP,IAAU,KACnB,CAEA,SAASQ,KACP,OAAOV,GAAU72B,MAAM,EACzB,CACA,SAASw3B,KACP,OAAOX,GAAU7a,KAAI7I,GAAK+jB,GAAO/jB,IAAMgkB,GAAYhkB,IAAMsK,OAAOga,aAAatkB,IAC/E,CACA,SAASukB,KACP,MAAM1R,EAAS,GAiBf,OAhBAvyB,OAAOD,KAAKmjC,IAAWpiC,SAAQqiC,IAC7BD,GAAUC,GAAGriC,SAAQuP,IACnB,IAAI,IACFnS,EAAG,MACH0lC,EAAK,KACLjE,EAAI,SACJuE,GACE7zB,EACJkiB,EAAOhyB,KAAK,CACVqjC,QACAM,WACAvE,OACA5/B,KAAM7B,EAAI8X,MAAM,KAAKuS,KAAIyI,GAAKwS,GAAKxS,MACnC,GACF,IAEGuB,CACT,CAIA,SAASpyB,GAAOsD,GACd,MAAMvI,EAASuI,EAAMvI,QAAUuI,EAAM0gC,YAC/B,QACJl+B,GACE/K,EACJ,IAAIkpC,GAAO,EACX,MAAMC,EAAsB,UAAZp+B,IAAwB,CAAC,WAAY,QAAS,QAAS,SAAU,OAAQ,QAAS,SAAU,SAASijB,SAAShuB,EAAO4hB,MAKrI,OAHI5hB,EAAOoiB,oBAAsB+mB,GAAuB,aAAZp+B,GAAsC,WAAZA,KAA0B/K,EAAOopC,YACrGF,GAAO,GAEFA,CACT,CAGA,SAASG,GAAUC,GAIjB,MAHuB,kBAAZA,IACTA,EAAUhB,GAAKgB,KAEsB,IAAhCpB,GAAUhhC,QAAQoiC,EAC3B,CAGA,SAASC,GAAYb,EAAOc,GAC1B,IAAIC,EACAjkC,EAGCkjC,IAAOA,EAAQC,MACpB,IAAK,MAAM3lC,KAAOglC,GAChB,GAAIljC,OAAOwB,UAAUM,eAAeC,KAAKmhC,GAAWhlC,GAElD,IADAymC,EAAWzB,GAAUhlC,GAChBwC,EAAI,EAAGA,EAAIikC,EAAS/jC,QACvB,GAAI+jC,EAASjkC,GAAGkjC,QAAUA,EAAO,CAC/B,MAAMgB,EAAcD,EAAS33B,OAAOtM,EAAG,GACvCkkC,EAAY9jC,SAAQ2jB,IAClB,IAAI,QACFtB,GACEsB,EACJ,OAAOogB,GAAe1hB,EAAQ,GAElC,MACEziB,IAOJmjC,OAAeD,GAAOD,GAASe,GAAY,MACjD,CAGA,SAASI,GAAcrhC,GACrB,IAAIvF,EAAMuF,EAAM+gC,SAAW/gC,EAAMshC,OAASthC,EAAMuhC,SAChD,MAAMtkC,EAAI0iC,GAAUhhC,QAAQlE,GAa5B,GAVIwC,GAAK,GACP0iC,GAAUp2B,OAAOtM,EAAG,GAGlB+C,EAAMvF,KAAmC,SAA5BuF,EAAMvF,IAAI4qB,eACzBsa,GAAUp2B,OAAO,EAAGo2B,GAAUxiC,QAIpB,KAAR1C,GAAsB,MAARA,IAAaA,EAAM,IACjCA,KAAO+kC,GAAO,CAChBA,GAAM/kC,IAAO,EAGb,IAAK,MAAMilC,KAAKd,GAAeA,GAAUc,KAAOjlC,IAAK+mC,GAAQ9B,IAAK,EACpE,CACF,CACA,SAAS+B,GAAOC,GAEd,GAAwB,qBAAbA,EACTnlC,OAAOD,KAAKmjC,IAAWpiC,SAAQ5C,IAC7BykB,MAAMyiB,QAAQlC,GAAUhlC,KAASglC,GAAUhlC,GAAK4C,SAAQuS,GAAQgyB,GAAWhyB,YACpE6vB,GAAUhlC,EAAI,IAEvB2mC,GAAe,WACV,GAAIliB,MAAMyiB,QAAQD,GAEvBA,EAASrkC,SAAQuS,IACXA,EAAKnV,KAAKmnC,GAAWhyB,EAAK,SAE3B,GAAwB,kBAAb8xB,EAEZA,EAASjnC,KAAKmnC,GAAWF,QACxB,GAAwB,kBAAbA,EAAuB,CACvC,IAAK,IAAI/hB,EAAOziB,UAAUC,OAAQqK,EAAO,IAAI0X,MAAMS,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAClGpY,EAAKoY,EAAO,GAAK1iB,UAAU0iB,GAI7B,IAAKugB,EAAOxE,GAAUn0B,EACD,oBAAV24B,IACTxE,EAASwE,EACTA,EAAQ,IAEVyB,GAAW,CACTnnC,IAAKinC,EACLvB,QACAxE,SACAkG,SAAU,KAEd,CACF,CAGA,MAAMD,GAAave,IACjB,IAAI,IACF5oB,EAAG,MACH0lC,EAAK,OACLxE,EAAM,SACNkG,EAAW,KACTxe,EACJ,MAAMye,EAAe3F,GAAQ1hC,GAC7BqnC,EAAazkC,SAAQ0kC,IACnB,MAAMC,EAAaD,EAAUxvB,MAAMsvB,GAC7BI,EAAMD,EAAW7kC,OACjB+kC,EAAUF,EAAWC,EAAM,GAC3BlB,EAAsB,MAAZmB,EAAkB,IAAMnC,GAAKmC,GAC7C,IAAKzC,GAAUsB,GAAU,OAEpBZ,IAAOA,EAAQC,MACpB,MAAMlE,EAAO+F,EAAM,EAAIjG,GAAQ4C,GAAWoD,GAAc,GAClDG,EAAiB,GACvB1C,GAAUsB,GAAWtB,GAAUsB,GAASrkC,QAAO0lC,IAE7C,MAAMC,GAAmB1G,GAASyG,EAAOzG,SAAWA,EAC9C2G,EAAWD,GAAoBD,EAAOjC,QAAUA,GAAS9D,GAAa+F,EAAOlG,KAAMA,GAEzF,OADIoG,GAAUH,EAAerlC,KAAKslC,EAAO1iB,UACjC4iB,CAAQ,IAElBH,EAAe9kC,SAAQqiB,GAAW0hB,GAAe1hB,IAAS,GAC1D,EAIJ,SAAS6iB,GAAaviC,EAAOuoB,EAAS4X,EAAOzgB,GAC3C,GAAI6I,EAAQ7I,UAAYA,EACtB,OAEF,IAAI8iB,EAGJ,GAAIja,EAAQ4X,QAAUA,GAA2B,QAAlB5X,EAAQ4X,MAAiB,CAEtDqC,EAAiBja,EAAQ2T,KAAK/+B,OAAS,EACvC,IAAK,MAAM4K,KAAKy3B,GACVjjC,OAAOwB,UAAUM,eAAeC,KAAKkhC,GAAOz3B,MACzCy3B,GAAMz3B,IAAMwgB,EAAQ2T,KAAKv9B,SAASoJ,IAAM,GAAKy3B,GAAMz3B,KAAoC,IAA9BwgB,EAAQ2T,KAAKv9B,SAASoJ,MAClFy6B,GAAiB,IAMK,IAAxBja,EAAQ2T,KAAK/+B,QAAiBqiC,GAAM,KAAQA,GAAM,KAAQA,GAAM,KAAQA,GAAM,OAAOgD,GAAuC,MAArBja,EAAQkY,WACjHlY,EAAQjsB,KAAO,GACfisB,EAAQjsB,KAAOisB,EAAQjsB,KAAKqP,OAAOg0B,KACI,IAAnCpX,EAAQoT,OAAO37B,EAAOuoB,KACpBvoB,EAAMxH,eAAgBwH,EAAMxH,iBAAsBwH,EAAMyiC,aAAc,EACtEziC,EAAMuU,iBAAiBvU,EAAMuU,kBAC7BvU,EAAM0iC,eAAc1iC,EAAM0iC,cAAe,IAGnD,CACF,CAGA,SAASC,GAAS3iC,EAAO0f,GACvB,MAAMkjB,EAAWnD,GAAU,KAC3B,IAAIhlC,EAAMuF,EAAM+gC,SAAW/gC,EAAMshC,OAASthC,EAAMuhC,SAGhD,IAAKC,GAAQ9kC,OAAO4B,KAAKC,KAAMyB,GAAQ,OAqCvC,GAjCY,KAARvF,GAAsB,MAARA,IAAaA,EAAM,KAQL,IAA5BklC,GAAUhhC,QAAQlE,IAAuB,MAARA,GAAaklC,GAAU7iC,KAAKrC,GAKjE,CAAC,UAAW,SAAU,WAAY,WAAW4C,SAAQwlC,IACnD,MAAMC,EAAS3D,GAAY0D,GACvB7iC,EAAM6iC,KAA2C,IAA/BlD,GAAUhhC,QAAQmkC,GACtCnD,GAAU7iC,KAAKgmC,IACL9iC,EAAM6iC,IAAYlD,GAAUhhC,QAAQmkC,IAAW,EACzDnD,GAAUp2B,OAAOo2B,GAAUhhC,QAAQmkC,GAAS,GACvB,YAAZD,GAAyB7iC,EAAM6iC,IAAiC,IAArBlD,GAAUxiC,SAKxD6C,EAAMq/B,SAAWr/B,EAAMo/B,UAAYp/B,EAAMs/B,SAC7CK,GAAYA,GAAU72B,MAAM62B,GAAUhhC,QAAQmkC,KAElD,IAMEroC,KAAO+kC,GAAO,CAChBA,GAAM/kC,IAAO,EAGb,IAAK,MAAMilC,KAAKd,GACVA,GAAUc,KAAOjlC,IAAK+mC,GAAQ9B,IAAK,GAEzC,IAAKkD,EAAU,MACjB,CAGA,IAAK,MAAMtrC,KAAKkoC,GACVjjC,OAAOwB,UAAUM,eAAeC,KAAKkhC,GAAOloC,KAC9CkoC,GAAMloC,GAAK0I,EAAMm/B,GAAY7nC,KAS7B0I,EAAM+iC,oBAAsB/iC,EAAMs/B,QAAWt/B,EAAMq/B,UAAYr/B,EAAM+iC,iBAAiB,eACzD,IAA3BpD,GAAUhhC,QAAQ,KACpBghC,GAAU7iC,KAAK,KAEc,IAA3B6iC,GAAUhhC,QAAQ,KACpBghC,GAAU7iC,KAAK,IAEjB0iC,GAAM,KAAM,EACZA,GAAM,KAAM,GAId,MAAMW,EAAQC,KAEd,GAAIwC,EACF,IAAK,IAAI3lC,EAAI,EAAGA,EAAI2lC,EAASzlC,OAAQF,IAC/B2lC,EAAS3lC,GAAGkjC,QAAUA,IAAyB,YAAfngC,EAAMqZ,MAAsBupB,EAAS3lC,GAAG+lC,SAA0B,UAAfhjC,EAAMqZ,MAAoBupB,EAAS3lC,GAAGgmC,QAC3HV,GAAaviC,EAAO4iC,EAAS3lC,GAAIkjC,EAAOzgB,GAK9C,KAAMjlB,KAAOglC,IAAY,OACzB,MAAMyD,EAAazD,GAAUhlC,GACvB0oC,EAASD,EAAW/lC,OAC1B,IAAK,IAAIF,EAAI,EAAGA,EAAIkmC,EAAQlmC,IAC1B,IAAmB,YAAf+C,EAAMqZ,MAAsB6pB,EAAWjmC,GAAG+lC,SAA0B,UAAfhjC,EAAMqZ,MAAoB6pB,EAAWjmC,GAAGgmC,QAC3FC,EAAWjmC,GAAGxC,IAAK,CACrB,MAAM2nC,EAASc,EAAWjmC,IACpB,SACJ4kC,GACEO,EACEgB,EAAchB,EAAO3nC,IAAI8X,MAAMsvB,GAC/BwB,EAAmB,GACzB,IAAK,IAAIx/B,EAAI,EAAGA,EAAIu/B,EAAYjmC,OAAQ0G,IACtCw/B,EAAiBvmC,KAAKijC,GAAKqD,EAAYv/B,KAErCw/B,EAAiBruB,OAAOf,KAAK,MAAQ0rB,GAAU3qB,OAAOf,KAAK,KAE7DsuB,GAAaviC,EAAOoiC,EAAQjC,EAAOzgB,EAEvC,CAGN,CACA,SAAS8hB,GAAQ/mC,EAAK+Q,EAAQmwB,GAC5BgE,GAAY,GACZ,MAAMrjC,EAAO6/B,GAAQ1hC,GACrB,IAAIyhC,EAAO,GACPiE,EAAQ,MACRzgB,EAAU9e,SACV3D,EAAI,EACJgmC,GAAQ,EACRD,GAAU,EACVnB,EAAW,IACXjiC,GAAU,EACV0jC,GAAS,EAqBb,SAlBej1B,IAAXstB,GAA0C,oBAAXnwB,IACjCmwB,EAASnwB,GAEoC,oBAA3CjP,OAAOwB,UAAUgX,SAASzW,KAAKkN,KAC7BA,EAAO20B,QAAOA,EAAQ30B,EAAO20B,OAC7B30B,EAAOkU,UAASA,EAAUlU,EAAOkU,SACjClU,EAAOy3B,QAAOA,EAAQz3B,EAAOy3B,YACV50B,IAAnB7C,EAAOw3B,UAAuBA,EAAUx3B,EAAOw3B,cAC5B30B,IAAnB7C,EAAO5L,UAAuBA,EAAU4L,EAAO5L,SACpB,kBAApB4L,EAAOq2B,WAAuBA,EAAWr2B,EAAOq2B,WACrC,IAAlBr2B,EAAO83B,SAAiBA,GAAS,IAEjB,kBAAX93B,IAAqB20B,EAAQ30B,GAGpC83B,GAAQ7B,GAAOhnC,EAAK0lC,GAGjBljC,EAAIX,EAAKa,OAAQF,IACtBxC,EAAM6B,EAAKW,GAAGsV,MAAMsvB,GACpB3F,EAAO,GAGHzhC,EAAI0C,OAAS,IAAG++B,EAAOF,GAAQ4C,GAAWnkC,IAG9CA,EAAMA,EAAIA,EAAI0C,OAAS,GACvB1C,EAAc,MAARA,EAAc,IAAMslC,GAAKtlC,GAGzBA,KAAOglC,KAAYA,GAAUhlC,GAAO,IAC1CglC,GAAUhlC,GAAKqC,KAAK,CAClBmmC,QACAD,UACA7C,QACAjE,OACAuE,SAAUnkC,EAAKW,GACf0+B,SACAlhC,IAAK6B,EAAKW,GACV4kC,WACAniB,YAIJ,GAAuB,qBAAZA,GAA2BxgB,OAAQ,CAC5C,IAAK4gC,GAAgByD,IAAI7jB,GAAU,CACjC,MAAM8jB,EAAkB,WACtB,IAAIxjC,EAAQ9C,UAAUC,OAAS,QAAsBkR,IAAjBnR,UAAU,GAAmBA,UAAU,GAAKgC,OAAOc,MACvF,OAAO2iC,GAAS3iC,EAAO0f,EACzB,EACM+jB,EAAe,WACnB,IAAIzjC,EAAQ9C,UAAUC,OAAS,QAAsBkR,IAAjBnR,UAAU,GAAmBA,UAAU,GAAKgC,OAAOc,MACvF2iC,GAAS3iC,EAAO0f,GAChB2hB,GAAcrhC,EAChB,EACA8/B,GAAgB9gB,IAAIU,EAAS,CAC3B8jB,kBACAC,eACA7jC,YAEF87B,GAAShc,EAAS,UAAW8jB,EAAiB5jC,GAC9C87B,GAAShc,EAAS,QAAS+jB,EAAc7jC,EAC3C,CACA,IAAKggC,GAAiB,CACpB,MAAM8D,EAAWA,KACf/D,GAAY,EAAE,EAEhBC,GAAkB,CAChB8D,WACA9jC,WAEF87B,GAASx8B,OAAQ,QAASwkC,EAAU9jC,EACtC,CACF,CACF,CACA,SAAS+jC,GAAQlD,GACf,IAAIN,EAAQjjC,UAAUC,OAAS,QAAsBkR,IAAjBnR,UAAU,GAAmBA,UAAU,GAAK,MAChFX,OAAOD,KAAKmjC,IAAWpiC,SAAQ5C,IAC7B,MAAMmpC,EAAWnE,GAAUhlC,GAAKiC,QAAO3B,GAAQA,EAAKolC,QAAUA,GAASplC,EAAK0lC,WAAaA,IACzFmD,EAASvmC,SAAQmR,IACXA,GAAQA,EAAKmtB,QACfntB,EAAKmtB,QACP,GACA,GAEN,CAGA,SAASyF,GAAe1hB,GACtB,MAAM4E,EAAS/nB,OAAO+nB,OAAOmb,IAAWoE,OAClCC,EAAYxf,EAAOyf,WAAUzgB,IACjC,IACE5D,QAAS3f,GACPujB,EACJ,OAAOvjB,IAAO2f,CAAO,IAEvB,GAAIokB,EAAY,EAAG,CACjB,MAAM,gBACJN,EAAe,aACfC,EAAY,QACZ7jC,GACEkgC,GAAgB/oB,IAAI2I,IAAY,CAAC,EACjC8jB,GAAmBC,IACrB3H,GAAYpc,EAAS,QAAS+jB,EAAc7jC,GAC5Ck8B,GAAYpc,EAAS,UAAW8jB,EAAiB5jC,GACjDkgC,GAAgBzC,OAAO3d,GAE3B,CACA,GAAI4E,EAAOnnB,QAAU,GAAK2iC,GAAgBkE,MAAQ,EAAG,CAEnD,MAAMC,EAAY1nC,OAAOD,KAAKwjC,IAkB9B,GAjBAmE,EAAU5mC,SAAQ0C,IAChB,MAAM,gBACJyjC,EAAe,aACfC,EAAY,QACZ7jC,GACEkgC,GAAgB/oB,IAAIhX,IAAO,CAAC,EAC5ByjC,GAAmBC,IACrB3H,GAAY/7B,EAAI,QAAS0jC,EAAc7jC,GACvCk8B,GAAY/7B,EAAI,UAAWyjC,EAAiB5jC,GAC5CkgC,GAAgBzC,OAAOt9B,GACzB,IAGF+/B,GAAgBrtB,QAEhBlW,OAAOD,KAAKmjC,IAAWpiC,SAAQ5C,UAAcglC,GAAUhlC,KAEnDmlC,GAAiB,CACnB,MAAM,SACJ8D,EAAQ,QACR9jC,GACEggC,GACJ9D,GAAY58B,OAAQ,QAASwkC,EAAU9jC,GACvCggC,GAAkB,IACpB,CACF,CACF,CACA,MAAMsE,GAAO,CACX5D,uBACAJ,YACAE,YACAY,eACAX,sBACAG,kBACAM,aACApkC,UACAinC,WACAlC,UACA0C,OAAQxH,GACRV,SAAU2C,GACVO,gBAEF,IAAK,MAAMt7B,MAAKqgC,GACV3nC,OAAOwB,UAAUM,eAAeC,KAAK4lC,GAAMrgC,MAC7C29B,GAAQ39B,IAAKqgC,GAAKrgC,KAGtB,GAAsB,qBAAX3E,OAAwB,CACjC,MAAMklC,EAAWllC,OAAOsiC,QACxBA,GAAQ6C,WAAa3b,IACfA,GAAQxpB,OAAOsiC,UAAYA,KAC7BtiC,OAAOsiC,QAAU4C,GAEZ5C,IAETtiC,OAAOsiC,QAAUA,EACnB,CClpBc,SAAU8C,GAAWhoC,EAAcioC,EAAsBC,IACnEC,EAAAA,EAAAA,KAAU,KACNjD,GAAQllC,EAAM,IAAKkoC,GAAWD,EAAS,KAE3CG,EAAAA,EAAAA,KAAY,KACRlD,GAAQC,OAAOnlC,EAAK,GAE5B,CCdA,MAAMqoC,GAAQ1kC,IACV,MAAM41B,EAAYA,CAAC+O,EAA8BC,KAC7CD,EAAcpsC,iBACdyH,EAAG2kC,EAAeC,EAAa,EAEnC,OAAOhP,CAAS,EAIN,SAAUiP,KACpB,MAAM3tC,GAASC,EAAAA,EAAAA,KAETk9B,GAAejM,EAAAA,EAAAA,KAA6B,IACvClxB,EAAOi6B,QAAQ,iCAEpB2T,GAAiB1c,EAAAA,EAAAA,KAAS,IACrBlxB,EAAOiK,MAAM2qB,YAAYK,mBAGpC,IAAI4Y,EAAe,EACnB,MAAM/U,EAAaU,IAAUhF,IAEzB,MAAMsZ,EAAsB3Q,EAAat2B,OAAOtG,QAAQ,iBAExDP,EAAO+B,OAAO,2BAA4B,CACtCyyB,YACAC,YAAaqZ,EAAoBppC,MAAM8vB,IACzC,GACH,KAGH2Y,GAAW,mBAAoBK,IAAK,KAChCxtC,EAAO+B,OAAO,2BAA4B,CAAC,EAAE,KAEjDorC,GAAW,MAAOK,IAAK,KACnBxtC,EAAO+B,OAAO,2BAA4B,GAAG,KAIjDorC,GAAW,SAAUK,IAAK,KAClBI,EAAe/mC,OACf7G,EAAO+B,OAAO,4B,KAGtBorC,GAAW,SAAUK,IAAK,KACtBxtC,EAAO+B,OAAO,6BAA6B,KAI/CorC,GAAW,gEAAiEK,IAAK,CAAC3kC,EAAsBuoB,KACpG,GAAmB,YAAfvoB,EAAMqZ,KAAoB,CAE1B,MAAM4rB,EAAsB3Q,EAAat2B,OAAOtG,QAAQ,iBAClDwtC,EAAa3c,GAAS9tB,IAAIgrB,SAAS,OAAS8C,GAAS9tB,IAAIgrB,SAAS,QAClE0f,EAAW5c,GAAS9tB,IAAIgrB,SAAS,SAAWuf,IAAiBA,EAE7DrZ,EAAYuZ,EAAa,MAAQ,OACjCE,EAAoB7c,GAAS9tB,IAAIgrB,SAAS,UAAY8C,GAAS9tB,IAAIgrB,SAAS,QAAW0f,GAAYA,EACnGE,EAAgBH,EAAa,YAAc,aAGjDD,EAAoBppC,MAAM8vB,GAAcsZ,EAAoBI,GAAiBD,EAAoB,KAGjGnV,EAAWtE,E,CAGI,UAAf3rB,EAAMqZ,OACN2rB,EAAe,E,IAEnB,CAAE/B,OAAO,IAGbqB,GAAW,SAAUK,IAAK,KACtBxtC,EAAOwrC,SAAS,mBAAmB,KAEvC2B,GAAW,eAAgBK,IAAK,KAC5BxtC,EAAOwrC,SAAS,mBAAmB,IAE3C,C,gBC1Ec,YAAW2C,EAA0BhlC,GAE/C,MAAMilC,EAAoB3kC,SAASwQ,cAAc,OAE3Co0B,GAAQje,EAAAA,EAAAA,GAAEke,GAAAA,WAAa,CAAEH,WAAUhlC,cACzCgnB,EAAAA,EAAAA,IAAOke,EAAOD,IAoBdd,EAAAA,EAAAA,KAAU,KACN,MAAMiB,EAAS9kC,SAAS8zB,cAAc,QACtCgR,EAAOvpB,YAAYopB,EAAkB,KAEzCb,EAAAA,EAAAA,KAAY,KAER9jC,SAASgG,KAAK4X,YAAY+mB,EAAkB,GAEpD,C,iEC1CA,MAAMI,GAAgBhjC,KAAYijC,EAAAA,EAAAA,IAAa,mBAAmBjjC,EAAEA,KAAIkjC,EAAAA,EAAAA,MAAcljC,GAChFnI,GAAa,CAAET,MAAO,iCACtBq2B,GAAa,CAAC,OACdC,GAA2BsV,IAAa,KAAmB1qC,EAAAA,EAAAA,IAAoB,MAAO,CAAElB,MAAO,cAAgB,MAAO,KACtHu2B,GAAa,CAAEv2B,MAAO,kCAiB5B,QAA4BX,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,QACRE,KAAAA,CAAMC,GC2BRsrC,KAEA,MAAM3tC,GAASC,EAAAA,EAAAA,KACT0uC,GAASC,EAAAA,GAAAA,MAGTC,GAAkBrZ,EAAAA,EAAAA,KAAI,GAEtBsZ,GAAY5d,EAAAA,EAAAA,KAAS,IAChBlxB,EAAOiK,MAAM2qB,YAAYoF,KAAK36B,MAAMb,QAGzC2vC,GAAW3Y,EAAAA,EAAAA,IAAoB,CACjC,CACIp2B,KAAM,OACN+1B,IAAK,cACLrsB,GAAIA,KACA9I,EAAO+B,OAAO,4BAA4B,GAGlD,CACI3C,KAAM,OACN+1B,IAAK,cACLrsB,GAAIA,KACA9I,EAAO+B,OAAO,6BAA6B,GAGnD,CACI3C,KAAM,OACN+1B,IAAK,qBACLrsB,GAAIA,KACA9I,EAAO+B,OAAO,2BAA4B,CAAC,EAAE,GAGrD,CACI3C,KAAM,OACN+1B,IAAK,MACLrsB,GAAIA,KACA9I,EAAO+B,OAAO,2BAA4B,GAAG,KAIzDgtC,GAAYZ,EAAStnC,MAAO,iBAG5B,MAAMmoC,GAAgBxZ,EAAAA,EAAAA,IAAI,MACpByZ,GAAuBC,EAAAA,GAAAA,KAAqBF,GAC5CG,GAAe3Z,EAAAA,EAAAA,KAAI,GAEnB4Z,EAAcA,KAChB,MAAM9R,EAAe7zB,SAAS8zB,cAAc,eACxCD,IACAA,EAAa3uB,UAAY,E,GAGjCwiB,EAAAA,EAAAA,IAAM8d,GAAuB1kC,IACzB4kC,EAAatoC,OAAS0D,CAAG,IAI7B,MAAM8kC,EAAoBlvC,IACtB,MAAMG,EAASH,EAAEG,OAEZA,EAAOC,QAAQ,cAAiBD,EAAOC,QAAQ,eAAkBD,EAAOC,QAAQ,kBACjFP,EAAOiK,MAAM2qB,YAAYK,kBAAoBj1B,EAAO+B,OAAO,2BAA4B,G,EDR/F,OCYAurC,EAAAA,EAAAA,KAAU,KACNuB,EAAgBhoC,OAAQ,EACxB,MAAM8wB,EAAS33B,EAAOwrC,SAAS,uBAAwBmD,EAAOhQ,OAAO5c,IACrE4V,EAAO2X,MAAK,SAETC,OAAM,KACLhR,GAAAA,GAAQhO,MAAM,oBAAoB,IACnCif,SAAQ,KACPX,EAAgBhoC,OAAQ,CAAK,GAC/B,IDrBC,CAACrE,EAAUC,KAChB,MAAMgB,GAAmBD,EAAAA,EAAAA,IAAkB,SACrCisC,GAA6BjsC,EAAAA,EAAAA,IAAkB,mBAC/CksC,GAAoBlsC,EAAAA,EAAAA,IAAkB,UACtCmsC,GAAmBnsC,EAAAA,EAAAA,IAAkB,SAE3C,OAAQd,EAAAA,EAAAA,OAAcwB,EAAAA,EAAAA,IAAayrC,EAAkB,CACnDjrC,MAAO,CAAC,OAAS,QACjB5B,QAASusC,GACR,CACDjrC,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAab,EAAkB,CAC7BU,KAAM,EACNyrC,GAAI,EACJC,GAAI,EACJC,IAAK,GACJ,CACD1rC,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBP,EAAAA,EAAAA,IAAoB,MAAOT,GAAY,EACrCiB,EAAAA,EAAAA,IAAayrC,SAGjBhrC,EAAG,KAELT,EAAAA,EAAAA,IAAab,EAAkB,CAC7BU,KAAM,EACNyrC,GAAI,EACJC,GAAI,EACJC,IAAK,KAEPxrC,EAAAA,EAAAA,IAAab,EAAkB,CAC7Bb,MAAO,8BACPuB,KAAM,GACNyrC,GAAI,GACJC,GAAI,GACJC,IAAK,IACJ,CACD1rC,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAaorC,EAAmB,CAC9BM,SAAUnB,EAAgBhoC,MAC1BgmC,KAAM,QACN1X,IAAK,OACJ,CACD/wB,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBP,EAAAA,EAAAA,IAAoB,MAAO,CACzBlB,MAAO,wBACP4yB,IAAK,sBACL9wB,OAAOI,EAAAA,EAAAA,IAAgB,CACnBtG,MAAOswC,EAAUjoC,MAAQioC,EAAUjoC,MAAQ,QAC3CiE,UAAW,UAAS7H,EAAAA,EAAAA,IAAOjD,GAAQiK,MAAM2qB,YAAYqb,iBAExD,EACDnsC,EAAAA,EAAAA,IAAoB,MAAO,CACzBogC,QAAS,gBACT1O,IAAKwZ,EACLpsC,MAAO,eACN,CACAksC,EAAUjoC,OAAU0F,SAASuiC,EAAUjoC,OAAS,MAC5CnE,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO,CACxCW,IAAK,EACLsM,KAAK3M,EAAAA,EAAAA,IAAOitC,IACZvI,IAAK,IACJ,KAAM,EAAG1O,MACZp0B,EAAAA,EAAAA,IAAoB,IAAI,IAC3B,KACHq0B,IACAgK,EAAAA,EAAAA,KAAgBp/B,EAAAA,EAAAA,IAAoB,MAAO,CACzClB,MAAO,aACPE,QAASssC,GACR,EACD9qC,EAAAA,EAAAA,IAAamrC,IACZ,KAAM,CACP,CAACtM,EAAAA,GAAQgM,EAAatoC,UAExBvC,EAAAA,EAAAA,IAAa6rC,KACZ,MAELprC,EAAG,GACF,EAAG,CAAC,gBAETA,EAAG,KAELT,EAAAA,EAAAA,IAAab,EAAkB,CAC7BU,KAAM,EACNyrC,GAAI,EACJC,GAAI,EACJC,IAAK,KAEPxrC,EAAAA,EAAAA,IAAab,EAAkB,CAC7BU,KAAM,EACNyrC,GAAI,EACJC,GAAI,EACJC,IAAK,GACJ,CACD1rC,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBP,EAAAA,EAAAA,IAAoB,MAAOq1B,GAAY,EACrC70B,EAAAA,EAAAA,IAAa8rC,SAGjBrrC,EAAG,OAGPA,EAAG,GACH,CAEJ,IE/MA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,S","sources":["webpack://question-star/./src/templateMap/defaultTemplate.ts","webpack://question-star/./src/hook/useDragWidget.ts","webpack://question-star/./src/views/lego-works/editWork/left-region/components/widgetWrapper.vue?e1a2","webpack://question-star/./src/views/lego-works/editWork/left-region/components/widgetWrapper.vue","webpack://question-star/./src/views/lego-works/editWork/left-region/components/widgetWrapper.vue?7cbf","webpack://question-star/./src/views/lego-works/editWork/left-region/components/commonWidgetsList.vue?40eb","webpack://question-star/./src/views/lego-works/editWork/left-region/components/commonWidgetsList.vue","webpack://question-star/./node_modules/.pnpm/vue-draggable-next@2.2.1_sortablejs@1.15.2_vue@3.4.38/node_modules/vue-draggable-next/dist/vue-draggable-next.esm-bundler.js","webpack://question-star/./src/views/lego-works/editWork/left-region/components/layerList.vue?cce6","webpack://question-star/./src/views/lego-works/editWork/left-region/components/layerList.vue","webpack://question-star/./src/views/lego-works/editWork/left-region/components/layerList.vue?c519","webpack://question-star/./src/views/lego-works/editWork/left-region/left-region.vue?7bcc","webpack://question-star/./src/views/lego-works/editWork/left-region/left-region.vue","webpack://question-star/./src/views/lego-works/editWork/left-region/left-region.vue?2093","webpack://question-star/./src/templateMap/propsTableMap.tsx","webpack://question-star/./src/utils/debounce.ts","webpack://question-star/./src/views/lego-works/editWork/right-region/components/props-table.vue?54b3","webpack://question-star/./src/views/lego-works/editWork/right-region/components/props-table.vue","webpack://question-star/./src/views/lego-works/editWork/right-region/components/props-table.vue?b88e","webpack://question-star/./src/views/lego-works/editWork/right-region/components/props-panel.vue?1b0d","webpack://question-star/./src/views/lego-works/editWork/right-region/components/props-panel.vue","webpack://question-star/./src/views/lego-works/editWork/right-region/components/props-panel.vue?ced9","webpack://question-star/./src/views/lego-works/editWork/right-region/components/props-section.vue?157e","webpack://question-star/./src/views/lego-works/editWork/right-region/components/props-section.vue","webpack://question-star/./src/views/lego-works/editWork/right-region/components/props-section.vue?f1a4","webpack://question-star/./src/views/lego-works/editWork/right-region/right-region.vue?65fa","webpack://question-star/./src/views/lego-works/editWork/right-region/right-region.vue","webpack://question-star/./src/views/lego-works/editWork/right-region/right-region.vue?c25b","webpack://question-star/./src/hook/useMouseGroupEvent.ts","webpack://question-star/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/throttle.js","webpack://question-star/../src/index.ts","webpack://question-star/./src/utils/eventBus.ts","webpack://question-star/./src/views/lego-works/editWork/middle-region/components/edit-wrapper.vue?5b96","webpack://question-star/./src/views/lego-works/editWork/middle-region/components/edit-wrapper.vue","webpack://question-star/./src/views/lego-works/editWork/middle-region/components/edit-wrapper.vue?3a9c","webpack://question-star/./src/views/lego-works/editWork/middle-region/components/grid-line.vue","webpack://question-star/./src/views/lego-works/editWork/middle-region/components/grid-line.vue?b36e","webpack://question-star/./src/views/lego-works/editWork/middle-region/components/stickLine.vue?d987","webpack://question-star/./src/views/lego-works/editWork/middle-region/components/stickLine.vue","webpack://question-star/./src/views/lego-works/editWork/middle-region/components/stickLine.vue?6150","webpack://question-star/./src/views/lego-works/editWork/middle-region/middle-region.vue?8475","webpack://question-star/./src/views/lego-works/editWork/middle-region/middle-region.vue","webpack://question-star/./src/views/lego-works/editWork/middle-region/middle-region.vue?aba5","webpack://question-star/./node_modules/.pnpm/hotkeys-js@3.13.7/node_modules/hotkeys-js/dist/hotkeys.esm.js","webpack://question-star/./src/hook/useHotKeys.ts","webpack://question-star/./src/plugins/hotKeys.ts","webpack://question-star/./src/plugins/contextMenu.ts","webpack://question-star/./src/views/lego-works/editWork/index.vue?f78e","webpack://question-star/./src/views/lego-works/editWork/index.vue","webpack://question-star/./src/views/lego-works/editWork/index.vue?8ca1"],"sourcesContent":["\nimport { widgetTemplate } from '@/type/template/widgetAndprops'\nimport { defaultCommonProps, defaultTextProps, defaultImgProps, defaultShapeProps } from 'question-star-bricks'\n\n/* 负责左侧物料面板 */\n\n// 默认的属性及其值\nconst paramTextProps = {\n    ...defaultCommonProps,\n    ...defaultTextProps\n}\nconst paramImgProps = {\n    ...defaultCommonProps,\n    paddingTop: '0px',\n    paddingBottom: '0px',\n    width: '100px',\n    ...defaultImgProps\n}\n\nconst paramStyleFontProps = {\n    ...defaultCommonProps,\n    ...defaultTextProps,\n    fontSize: '17px',\n    paddingLeft: '10px',\n    paddingRight: '10px'\n}\n\nconst paramShapeProps = { // 图案类型似乎不需要那么多属性\n    ...defaultShapeProps,\n    width: '70px',\n    height: '70px'\n}\n\n// console.log('断点0', paramTextProps)\n\nexport const defaultTemplate: widgetTemplate[] = [\n    {\n        label: '普通文本',\n        widgetList: [\n            {\n                name: 'QsText',\n                props: {\n                    ...paramTextProps,\n                    titleValue: '标题文字1',\n                    tag: 'h2'\n                },\n                icon: 'editor-h1',\n                title: '一级标题'\n            },\n            {\n                name: 'QsText',\n                props: {\n                    ...paramTextProps,\n                    titleValue: '标题文字2',\n                    tag: 'h4'\n                },\n                icon: 'editor-h2',\n                title: '二级标题'\n            },\n            {\n                name: 'QsText',\n                props: {\n                    ...paramTextProps,\n                    titleValue: '标题文字3',\n                    tag: 'p'\n                },\n                icon: 'editor-h3',\n                title: '三级标题'\n            },\n            {\n                name: 'QsText',\n                props: {\n                    ...paramTextProps,\n                    textValue: '正文内容',\n                    tag: 'p'\n                },\n                icon: 'CopyOutlined',\n                title: '段落'\n            }\n        ]\n    },\n    {\n        label: '图片类型',\n        widgetList: [\n            {\n                name: 'QsImg',\n                props: {\n                    ...paramImgProps\n                },\n                // icon: 'editor-img',\n                icon: 'PictureOutlined',\n                title: '图片'\n            }\n        ]\n    },\n    {\n        label: '艺术字体',\n        isRenderCard: true,\n        renderStyleKey: 'font-family',\n        widgetList: [\n            {\n                name: 'QsStyleFont',\n                props: {\n                    ...paramStyleFontProps,\n                    'font-family': '\"KaiTi\",\"STKaiti\"',\n                    textValue: '楷体标题'\n                },\n                title: '楷体标题'\n            },\n\n            {\n                name: 'QsStyleFont',\n                props: {\n                    ...paramStyleFontProps,\n                    'font-family': '\"Arial\", \"sans-serif\"',\n                    textValue: 'Arial'\n                },\n                title: 'Arial'\n            },\n            {\n                name: 'QsStyleFont',\n                props: {\n                    ...paramStyleFontProps,\n                    'font-family': '\"FangSong\",\"STFangsong\"',\n                    textValue: '仿宋正文'\n                },\n                title: '仿宋正文'\n            },\n            {\n                name: 'QsStyleFont',\n                props: {\n                    ...paramStyleFontProps,\n                    'font-family': '\"Comic Sans MS\"',\n                    textValue: 'Comic Sans'\n                },\n                title: 'Comic Sans'\n            },\n            {\n                name: 'QsStyleFont',\n                props: {\n                    ...paramStyleFontProps,\n                    'font-family': '\"Courier New\", monospace',\n                    textValue: 'Courier New'\n                },\n                title: 'Courier New'\n            },\n\n            {\n                name: 'QsStyleFont',\n                props: {\n                    ...paramStyleFontProps,\n                    'font-family': '\"Times New Roman\", serif',\n                    textValue: 'Times New Roman'\n                },\n                title: 'Times New Roman'\n            }\n        ]\n    },\n    {\n        label: '形状图案',\n        isRenderCard: true,\n        needRenderWidget: true,\n        widgetList: [\n            {\n                name: 'QsShape',\n                props: {\n                    ...paramShapeProps,\n                    shapeValue: 'triangle',\n                    'background-color': '#ffc0cb'\n                },\n                title: '三角形'\n            },\n            {\n                name: 'QsShape',\n                props: {\n                    ...paramShapeProps,\n                    shapeValue: 'circular',\n                    'background-color': '#5ccac7'\n                },\n                title: '圆形'\n            },\n            {\n                name: 'QsShape',\n                props: {\n                    ...paramShapeProps,\n                    shapeValue: 'square',\n                    'background-color': '#56aaee'\n                },\n                title: '正方形'\n            },\n            {\n                name: 'QsShape',\n                props: {\n                    ...paramShapeProps,\n                    shapeValue: 'square',\n                    'background-color': '#9666d1',\n                    width: '100px',\n                    height: '50px'\n                },\n                title: '长方形'\n            }\n        ]\n    }\n\n]\n\nexport default defaultTemplate\n","import { widgetData } from '@/type/store/modules/editorStore'\nimport { useStore } from '@/store/index'\n\n// 这里形成必包，不建议\n/* let originOffestX = 0\nlet originOffestY = 0 */\n\ninterface dataTransferData {\n    widgetData: widgetData,\n    originOffestX: number,\n    originOffestY: number\n}\n\nexport default function useDragWidget() {\n    const $store = useStore()\n\n    // 一开始点击物料时的内部偏移量，注意，因为拖拽函数在不同的vue组件,ref变量并没有共享\n    // const originOffestX = ref(0)\n    // const originOffestY = ref(0)\n    const ondragstart = (e: DragEvent, widgetData: widgetData) => {\n        const targetWrapper = (e.target as HTMLElement).closest('.widget-wrapper') as HTMLElement\n        const targettWrapperRect = targetWrapper.getBoundingClientRect()\n        const originOffestX = e.clientX - targettWrapperRect.left\n        const originOffestY = e.clientY - targettWrapperRect.top\n        /* 因为setData只能存一个 */\n        e.dataTransfer?.setData('text/plain', JSON.stringify({\n            widgetData,\n            originOffestX,\n            originOffestY\n        } as dataTransferData))\n    }\n    const ondragover = (e: DragEvent) => {\n        e.preventDefault() // 不能省略，否则拖拽效果还是浏览器默认行为\n        e.dataTransfer!.dropEffect = 'copy'\n    }\n    // 在 ondragend 中获取数据不适合，结束时会清空， 数据通常在 drop 事件中获取\n    const ondrop = (e: DragEvent) => {\n        e.preventDefault()\n        const dataTransferParams = JSON.parse(e.dataTransfer!.getData('text/plain')!) as dataTransferData\n        const targetRegion = (e.target as HTMLElement).closest('.middle-box') as HTMLElement\n        const targetRegionRect = targetRegion.getBoundingClientRect()\n        const newX = e.clientX - targetRegionRect.left - dataTransferParams.originOffestX\n        const newY = e.clientY - targetRegionRect.top - dataTransferParams.originOffestY\n        dataTransferParams.widgetData.props.left = newX + 'px'\n        dataTransferParams.widgetData.props.top = newY + 'px'\n        $store.commit('editorStore/addWidget', {\n            widgetData: dataTransferParams.widgetData\n        })\n        e.dataTransfer?.clearData()\n    }\n    return {\n        ondragstart,\n        ondragover,\n        ondrop\n    }\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { widgetData } from '@/type/store/modules/editorStore'\nimport { useStore } from '@/store/index'\nimport useDragWidget from '@/hook/useDragWidget'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'widgetWrapper',\n  props: {\n    widget: {}\n  },\n  setup(__props: any) {\n\nconst $props = __props\n\nconst $store = useStore()\nconst { ondragstart } = useDragWidget()\n\nconst handleClick = () => {\n    $store.commit('editorStore/addWidget', {\n        widgetData: $props.widget\n    })\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"widget-wrapper\",\n    draggable: \"true\",\n    onClick: handleClick,\n    onDragstart: _cache[0] || (_cache[0] = ($event: any) => (_unref(ondragstart)($event, $props.widget)))\n  }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 32))\n}\n}\n\n})","<template>\n    <div class=\"widget-wrapper\" draggable=\"true\" @click=\"handleClick\" @dragstart=\"ondragstart($event, $props.widget)\">\n        <slot></slot>\n    </div>\n</template>\n\n<script setup lang='ts'>\nimport { widgetData } from '@/type/store/modules/editorStore'\nimport { useStore } from '@/store/index'\nimport useDragWidget from '@/hook/useDragWidget'\n\nconst $props = defineProps<{\n    widget: widgetData\n}>()\n\nconst $store = useStore()\nconst { ondragstart } = useDragWidget()\n\nconst handleClick = () => {\n    $store.commit('editorStore/addWidget', {\n        widgetData: $props.widget\n    })\n}\n\n</script>\n\n<style scoped lang='scss'>\n.widget-wrapper {\n    cursor: pointer;\n}\n</style>\n","import script from \"./widgetWrapper.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./widgetWrapper.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./widgetWrapper.vue?vue&type=style&index=0&id=943413ae&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.4.38_vue@3.4.38_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-943413ae\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, resolveDynamicComponent as _resolveDynamicComponent, mergeProps as _mergeProps, createBlock as _createBlock, withCtx as _withCtx, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-3bb92d60\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"icon-box flex-center\"\n}\n\nimport defaultTemplate from '@/templateMap/defaultTemplate'\nimport WidgetWrapper from './widgetWrapper.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'commonWidgetsList',\n  setup(__props) {\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconSvg = _resolveComponent(\"IconSvg\")!\n  const _component_a_col = _resolveComponent(\"a-col\")!\n\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(defaultTemplate), (item, index) => {\n    return (_openBlock(), _createElementBlock(\"div\", {\n      class: \"widget-template-box\",\n      key: index\n    }, [\n      _createElementVNode(\"h3\", null, _toDisplayString(item.label), 1),\n      _createElementVNode(\"div\", {\n        class: _normalizeClass(item.isRenderCard ? 'widget-card-box' : 'widget-type-box')\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.widgetList, (widget, inIndex) => {\n          return (_openBlock(), _createBlock(_component_a_col, {\n            span: 11,\n            key: inIndex\n          }, {\n            default: _withCtx(() => [\n              _createVNode(WidgetWrapper, {\n                class: \"widget-item\",\n                widget: widget\n              }, {\n                default: _withCtx(() => [\n                  (!item.needRenderWidget)\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                        (!item.isRenderCard)\n                          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, [\n                              _createVNode(_component_IconSvg, {\n                                name: widget.icon\n                              }, null, 8, [\"name\"])\n                            ]))\n                          : _createCommentVNode(\"\", true),\n                        _createElementVNode(\"h4\", {\n                          class: \"title\",\n                          style: _normalizeStyle(item.renderStyleKey ? { [item.renderStyleKey]: widget.props[item.renderStyleKey] } : {})\n                        }, _toDisplayString(widget.title), 5)\n                      ], 64))\n                    : (_openBlock(), _createBlock(_resolveDynamicComponent(widget.name), _mergeProps({\n                        key: 1,\n                        class: \"\",\n                        style: {\"transform\":\"scale(0.8)\"},\n                        ref_for: true\n                      }, { ...widget.props, widgetTitle: widget.title }), null, 16))\n                ]),\n                _: 2\n              }, 1032, [\"widget\"])\n            ]),\n            _: 2\n          }, 1024))\n        }), 128))\n      ], 2)\n    ]))\n  }), 128))\n}\n}\n\n})","import script from \"./commonWidgetsList.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./commonWidgetsList.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./commonWidgetsList.vue?vue&type=style&index=0&id=3bb92d60&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.4.38_vue@3.4.38_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3bb92d60\"]])\n\nexport default __exports__","/*!\n  * vue-draggable-next v2.2.0\n  * (c) 2023 Anish George\n  * @license MIT\n  */\nimport { defineComponent, h, resolveComponent } from 'vue';\n\n/**!\n * Sortable 1.14.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar version = \"1.14.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, _excluded);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    var threshold = sortable[expando].options.emptyInsertThreshold;\n    if (!threshold || lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // if there is a last element, it is the target\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n\n        target = firstChild;\n        targetRect = getRect(target);\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var spacer = 10;\n  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nfunction getConsole() {\r\n    if (typeof window !== 'undefined') {\r\n        return window.console;\r\n    }\r\n    return global.console;\r\n}\r\nconst console = getConsole();\r\nfunction cached(fn) {\r\n    const cache = Object.create(null);\r\n    return function cachedFn(str) {\r\n        const hit = cache[str];\r\n        return hit || (cache[str] = fn(str));\r\n    };\r\n}\r\nconst regex = /-(\\w)/g;\r\nconst camelize = cached((str) => str.replace(regex, (_, c) => (c ? c.toUpperCase() : '')));\r\nfunction removeNode(node) {\r\n    if (node.parentElement !== null) {\r\n        node.parentElement.removeChild(node);\r\n    }\r\n}\r\nfunction insertNodeAt(fatherNode, node, position) {\r\n    const refNode = position === 0\r\n        ? fatherNode.children[0]\r\n        : fatherNode.children[position - 1].nextSibling;\r\n    fatherNode.insertBefore(node, refNode);\r\n}\n\nfunction computeVmIndex(vnodes, element) {\r\n    return Object.values(vnodes).indexOf(element);\r\n}\r\nfunction computeIndexes(slots, children, isTransition, footerOffset) {\r\n    if (!slots) {\r\n        return [];\r\n    }\r\n    const elmFromNodes = Object.values(slots);\r\n    const footerIndex = children.length - footerOffset;\r\n    const rawIndexes = [...children].map((elt, idx) => idx >= footerIndex ? elmFromNodes.length : elmFromNodes.indexOf(elt));\r\n    return rawIndexes;\r\n}\r\nfunction emit(evtName, evtData) {\r\n    //@ts-ignore\r\n    this.$nextTick(() => this.$emit(evtName.toLowerCase(), evtData));\r\n}\r\nfunction delegateAndEmit(evtName) {\r\n    //@ts-ignore\r\n    return evtData => {\r\n        //@ts-ignore\r\n        if (this.realList !== null) {\r\n            //@ts-ignore\r\n            this['onDrag' + evtName](evtData);\r\n        }\r\n        //@ts-ignore\r\n        emit.call(this, evtName, evtData);\r\n    };\r\n}\r\nfunction isTransitionName(name) {\r\n    return ['transition-group', 'TransitionGroup'].includes(name);\r\n}\r\nfunction isTransition(slots) {\r\n    if (!slots || slots.length !== 1) {\r\n        return false;\r\n    }\r\n    // @ts-ignore\r\n    const [{ type }] = slots;\r\n    if (!type) {\r\n        return false;\r\n    }\r\n    //@ts-ignore\r\n    return isTransitionName(type.name);\r\n}\r\nfunction getComponentAttributes($attrs, componentData) {\r\n    if (!componentData) {\r\n        return $attrs;\r\n    }\r\n    return { ...componentData.props, ...componentData.attrs };\r\n}\r\nconst eventsListened = ['Start', 'Add', 'Remove', 'Update', 'End'];\r\nconst eventsToEmit = ['Choose', 'Unchoose', 'Sort', 'Filter', 'Clone'];\r\nconst readonlyProperties = ['Move', ...eventsListened, ...eventsToEmit].map(evt => 'on' + evt);\r\n// @ts-ignore\r\nlet draggingElement = null;\r\nconst props = {\r\n    options: Object,\r\n    list: {\r\n        type: Array,\r\n        required: false,\r\n        default: null,\r\n    },\r\n    noTransitionOnDrag: {\r\n        type: Boolean,\r\n        default: false,\r\n    },\r\n    clone: {\r\n        type: Function,\r\n        default: (original) => {\r\n            return original;\r\n        },\r\n    },\r\n    tag: {\r\n        type: String,\r\n        default: 'div',\r\n    },\r\n    move: {\r\n        type: Function,\r\n        default: null,\r\n    },\r\n    componentData: {\r\n        type: Object,\r\n        required: false,\r\n        default: null,\r\n    },\r\n    component: {\r\n        type: String,\r\n        default: null,\r\n    },\r\n    modelValue: {\r\n        type: Array,\r\n        required: false,\r\n        default: null,\r\n    },\r\n};\r\nconst VueDraggableNext = defineComponent({\r\n    name: 'VueDraggableNext',\r\n    inheritAttrs: false,\r\n    emits: [\r\n        'update:modelValue',\r\n        'move',\r\n        'change',\r\n        ...eventsListened.map(s => s.toLowerCase()),\r\n        ...eventsToEmit.map(s => s.toLowerCase()),\r\n    ],\r\n    props,\r\n    data() {\r\n        return {\r\n            transitionMode: false,\r\n            noneFunctionalComponentMode: false,\r\n            headerOffset: 0,\r\n            footerOffset: 0,\r\n            _sortable: {},\r\n            visibleIndexes: [],\r\n            context: {},\r\n        };\r\n    },\r\n    render() {\r\n        const slots = this.$slots.default ? this.$slots.default() : null;\r\n        const attrs = getComponentAttributes(this.$attrs, this.componentData);\r\n        if (!slots)\r\n            return h(this.getTag(), attrs, []);\r\n        this.transitionMode = isTransition(slots);\r\n        return h(this.getTag(), attrs, slots);\r\n    },\r\n    created() {\r\n        if (this.list !== null && this.modelValue !== null) {\r\n            console.error('list props are mutually exclusive! Please set one.');\r\n        }\r\n    },\r\n    mounted() {\r\n        const optionsAdded = {};\r\n        eventsListened.forEach(elt => {\r\n            optionsAdded['on' + elt] = delegateAndEmit.call(this, elt);\r\n        });\r\n        eventsToEmit.forEach(elt => {\r\n            optionsAdded['on' + elt] = emit.bind(this, elt);\r\n        });\r\n        const attributes = Object.keys(this.$attrs).reduce((res, key) => {\r\n            res[camelize(key)] = this.$attrs[key];\r\n            return res;\r\n        }, {});\r\n        const options = Object.assign({}, attributes, optionsAdded, {\r\n            onMove: (evt, originalEvent) => {\r\n                return this.onDragMove(evt, originalEvent);\r\n            },\r\n        });\r\n        !('draggable' in options) && (options.draggable = '>*');\r\n        const targetDomElement = this.$el.nodeType === 1 ? this.$el : this.$el.parentElement;\r\n        this._sortable = new Sortable(targetDomElement, options);\r\n        targetDomElement.__draggable_component__ = this;\r\n        this.computeIndexes();\r\n    },\r\n    beforeUnmount() {\r\n        try {\r\n            if (this._sortable !== undefined)\r\n                this._sortable.destroy();\r\n        }\r\n        catch (error) { }\r\n    },\r\n    computed: {\r\n        realList() {\r\n            return this.list ? this.list : this.modelValue;\r\n        },\r\n    },\r\n    watch: {\r\n        $attrs: {\r\n            handler(newOptionValue) {\r\n                this.updateOptions(newOptionValue);\r\n            },\r\n            deep: true,\r\n        },\r\n        realList() {\r\n            this.computeIndexes();\r\n        },\r\n    },\r\n    methods: {\r\n        getTag() {\r\n            return this.component ? resolveComponent(this.component) : this.tag;\r\n        },\r\n        updateOptions(newOptionValue) {\r\n            for (var property in newOptionValue) {\r\n                const value = camelize(property);\r\n                if (readonlyProperties.indexOf(value) === -1) {\r\n                    this._sortable.option(value, newOptionValue[property]);\r\n                }\r\n            }\r\n        },\r\n        getChildrenNodes() {\r\n            return this.$el.children;\r\n        },\r\n        computeIndexes() {\r\n            this.$nextTick(() => {\r\n                this.visibleIndexes = computeIndexes(this.getChildrenNodes(), this.$el.children, this.transitionMode, this.footerOffset);\r\n            });\r\n        },\r\n        getUnderlyingVm(htmlElt) {\r\n            const index = computeVmIndex(this.getChildrenNodes() || [], htmlElt);\r\n            if (index === -1) {\r\n                //Edge case during move callback: related element might be\r\n                //an element different from collection\r\n                return null;\r\n            }\r\n            //@ts-ignore\r\n            const element = this.realList[index];\r\n            return { index, element };\r\n        },\r\n        emitChanges(evt) {\r\n            this.$nextTick(() => {\r\n                this.$emit('change', evt);\r\n            });\r\n        },\r\n        alterList(onList) {\r\n            if (this.list) {\r\n                onList(this.list);\r\n                return;\r\n            }\r\n            const newList = [...this.modelValue];\r\n            onList(newList);\r\n            this.$emit('update:modelValue', newList);\r\n        },\r\n        spliceList() {\r\n            const spliceList = (list) => list.splice(...arguments);\r\n            this.alterList(spliceList);\r\n        },\r\n        updatePosition(oldIndex, newIndex) {\r\n            const updatePosition = (list) => list.splice(newIndex, 0, list.splice(oldIndex, 1)[0]);\r\n            this.alterList(updatePosition);\r\n        },\r\n        getVmIndex(domIndex) {\r\n            const indexes = this.visibleIndexes;\r\n            const numberIndexes = indexes.length;\r\n            return domIndex > numberIndexes - 1 ? numberIndexes : indexes[domIndex];\r\n        },\r\n        getComponent() {\r\n            return this.$slots.default\r\n                ? //@ts-ignore\r\n                    this.$slots.default()[0].componentInstance\r\n                : null;\r\n        },\r\n        resetTransitionData(index) {\r\n            if (!this.noTransitionOnDrag || !this.transitionMode) {\r\n                return;\r\n            }\r\n            var nodes = this.getChildrenNodes();\r\n            nodes[index].data = null;\r\n            const transitionContainer = this.getComponent();\r\n            transitionContainer.children = [];\r\n            transitionContainer.kept = undefined;\r\n        },\r\n        onDragStart(evt) {\r\n            this.computeIndexes();\r\n            this.context = this.getUnderlyingVm(evt.item);\r\n            if (!this.context)\r\n                return;\r\n            evt.item._underlying_vm_ = this.clone(this.context.element);\r\n            draggingElement = evt.item;\r\n        },\r\n        onDragAdd(evt) {\r\n            const element = evt.item._underlying_vm_;\r\n            if (element === undefined) {\r\n                return;\r\n            }\r\n            removeNode(evt.item);\r\n            const newIndex = this.getVmIndex(evt.newIndex);\r\n            //@ts-ignore\r\n            this.spliceList(newIndex, 0, element);\r\n            this.computeIndexes();\r\n            const added = { element, newIndex };\r\n            this.emitChanges({ added });\r\n        },\r\n        onDragRemove(evt) {\r\n            insertNodeAt(this.$el, evt.item, evt.oldIndex);\r\n            if (evt.pullMode === 'clone') {\r\n                removeNode(evt.clone);\r\n                return;\r\n            }\r\n            if (!this.context)\r\n                return;\r\n            const oldIndex = this.context.index;\r\n            //@ts-ignore\r\n            this.spliceList(oldIndex, 1);\r\n            const removed = { element: this.context.element, oldIndex };\r\n            this.resetTransitionData(oldIndex);\r\n            this.emitChanges({ removed });\r\n        },\r\n        onDragUpdate(evt) {\r\n            removeNode(evt.item);\r\n            insertNodeAt(evt.from, evt.item, evt.oldIndex);\r\n            //@ts-ignore\r\n            const oldIndex = this.context.index;\r\n            const newIndex = this.getVmIndex(evt.newIndex);\r\n            this.updatePosition(oldIndex, newIndex);\r\n            //@ts-ignore\r\n            const moved = { element: this.context.element, oldIndex, newIndex };\r\n            this.emitChanges({ moved });\r\n        },\r\n        updateProperty(evt, propertyName) {\r\n            evt.hasOwnProperty(propertyName) &&\r\n                (evt[propertyName] += this.headerOffset);\r\n        },\r\n        onDragMove(evt, originalEvent) {\r\n            const onMove = this.move;\r\n            if (!onMove || !this.realList) {\r\n                return true;\r\n            }\r\n            const relatedContext = this.getRelatedContextFromMoveEvent(evt);\r\n            const draggedContext = this.context;\r\n            const futureIndex = this.computeFutureIndex(relatedContext, evt);\r\n            Object.assign(draggedContext, { futureIndex });\r\n            const sendEvt = Object.assign({}, evt, {\r\n                relatedContext,\r\n                draggedContext,\r\n            });\r\n            return onMove(sendEvt, originalEvent);\r\n        },\r\n        onDragEnd() {\r\n            this.computeIndexes();\r\n            draggingElement = null;\r\n        },\r\n        getTrargetedComponent(htmElement) {\r\n            return htmElement.__draggable_component__;\r\n        },\r\n        getRelatedContextFromMoveEvent({ to, related }) {\r\n            const component = this.getTrargetedComponent(to);\r\n            if (!component) {\r\n                return { component };\r\n            }\r\n            const list = component.realList;\r\n            const context = { list, component };\r\n            if (to !== related && list && component.getUnderlyingVm) {\r\n                const destination = component.getUnderlyingVm(related);\r\n                if (destination) {\r\n                    return Object.assign(destination, context);\r\n                }\r\n            }\r\n            return context;\r\n        },\r\n        computeFutureIndex(relatedContext, evt) {\r\n            const domChildren = [...evt.to.children].filter(el => el.style['display'] !== 'none');\r\n            if (domChildren.length === 0)\r\n                return 0;\r\n            const currentDOMIndex = domChildren.indexOf(evt.related);\r\n            const currentIndex = relatedContext.component.getVmIndex(currentDOMIndex);\r\n            const draggedInList = domChildren.indexOf(draggingElement) !== -1;\r\n            return draggedInList || !evt.willInsertAfter\r\n                ? currentIndex\r\n                : currentIndex + 1;\r\n        },\r\n    },\r\n});\n\nexport { VueDraggableNext };\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-1acfde0a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"onClick\"]\n\nimport { computed } from 'vue'\nimport { useStore } from '@/store/index'\nimport { VueDraggableNext } from 'vue-draggable-next'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'layerList',\n  setup(__props) {\n\nconst $store = useStore()\n\nconst selectLayer = (id: string) => {\n    $store.commit('editorStore/selectWidget', id)\n}\n\nconst changeLayerStatus = (id: string, key: string, newValue: boolean | string, event?: Event) => { // 参数：选中的物料id、要修改的key、对应的新值\n    event && event.stopPropagation()\n\n    selectLayer(id)\n    $store.commit('editorStore/updateWidget', {\n        changeKey: key,\n        changeValue: newValue,\n        changeType: 'widget'\n    })\n}\n\nconst componentsList = computed({\n    get() {\n        return $store.state.editorStore.components\n    },\n    set(val) {\n        $store.commit('editorStore/setList', { newlist: val })\n    }\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_TooltipButton = _resolveComponent(\"TooltipButton\")!\n  const _component_InlineEdit = _resolveComponent(\"InlineEdit\")!\n\n  return (_openBlock(), _createBlock(_unref(VueDraggableNext), {\n    modelValue: componentsList.value,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((componentsList).value = $event)),\n    handle: \".handle\",\n    class: \"layer-list\"\n  }, {\n    default: _withCtx(() => [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref($store).state.editorStore.components, (item, index) => {\n        return (_openBlock(), _createElementBlock(\"li\", {\n          class: _normalizeClass([\"layer-row\", item.id === _unref($store).state.editorStore.currentComponent ? 'active' : '']),\n          key: index,\n          onClick: ($event: any) => (selectLayer(item.id!))\n        }, [\n          _createVNode(_component_TooltipButton, {\n            icon: item.isHidden ? 'EyeOutlined' : 'EyeInvisibleOutlined',\n            tip: item.isHidden ? '显示' : '隐藏',\n            onClick: (event) => changeLayerStatus(item.id!, 'isHidden', !item.isHidden, event)\n          }, null, 8, [\"icon\", \"tip\", \"onClick\"]),\n          _createVNode(_component_TooltipButton, {\n            icon: item.isLocked ? 'UnlockOutlined' : 'LockOutlined',\n            tip: item.isLocked ? '解锁' : '锁定',\n            onClick: ($event: any) => (changeLayerStatus(item.id!, 'isLocked', !item.isLocked, $event))\n          }, null, 8, [\"icon\", \"tip\", \"onClick\"]),\n          _createVNode(_component_InlineEdit, {\n            value: item.layerName!,\n            \"onUpdate:value\": (event) => changeLayerStatus(item.id!, 'layerName', event),\n            class: \"name\"\n          }, null, 8, [\"value\", \"onUpdate:value\"]),\n          _createVNode(_component_TooltipButton, {\n            icon: \"DragOutlined\",\n            placement: \"right\",\n            class: \"dragButton handle\",\n            tip: \"移动图层\"\n          })\n        ], 10, _hoisted_1))\n      }), 128))\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","<template>\n    <VueDraggableNext v-model=\"componentsList\" handle=\".handle\" class=\"layer-list\">\n        <li class=\"layer-row\" v-for=\"(item, index) in $store.state.editorStore.components\" :key='index'\n            :class=\"item.id === $store.state.editorStore.currentComponent ? 'active' : ''\"\n            @click=\"selectLayer(item.id!)\">\n            <TooltipButton :icon=\"item.isHidden ? 'EyeOutlined' : 'EyeInvisibleOutlined'\"\n                :tip=\"item.isHidden ? '显示' : '隐藏'\"\n                @click=\"(event) => changeLayerStatus(item.id!, 'isHidden', !item.isHidden, event)\">\n            </TooltipButton>\n\n            <TooltipButton :icon=\"item.isLocked ? 'UnlockOutlined' : 'LockOutlined'\" :tip=\"item.isLocked ? '解锁' : '锁定'\"\n                @click=\"changeLayerStatus(item.id!, 'isLocked', !item.isLocked, $event)\">\n            </TooltipButton>\n\n            <InlineEdit :value=\"item.layerName!\"\n                @update:value=\"(event) => changeLayerStatus(item.id!, 'layerName', event)\" class=\"name\"></InlineEdit>\n\n            <TooltipButton icon='DragOutlined' placement=\"right\" class=\"dragButton handle\" tip=\"移动图层\"></TooltipButton>\n        </li>\n    </VueDraggableNext>\n</template>\n\n<script setup lang='ts'>\nimport { computed } from 'vue'\nimport { useStore } from '@/store/index'\nimport { VueDraggableNext } from 'vue-draggable-next'\n\nconst $store = useStore()\n\nconst selectLayer = (id: string) => {\n    $store.commit('editorStore/selectWidget', id)\n}\n\nconst changeLayerStatus = (id: string, key: string, newValue: boolean | string, event?: Event) => { // 参数：选中的物料id、要修改的key、对应的新值\n    event && event.stopPropagation()\n\n    selectLayer(id)\n    $store.commit('editorStore/updateWidget', {\n        changeKey: key,\n        changeValue: newValue,\n        changeType: 'widget'\n    })\n}\n\nconst componentsList = computed({\n    get() {\n        return $store.state.editorStore.components\n    },\n    set(val) {\n        $store.commit('editorStore/setList', { newlist: val })\n    }\n})\n</script>\n\n<style scoped lang='scss'>\n.layer-list {\n\n    li {\n        display: flex;\n        align-items: center;\n        gap: 9px;\n        padding: 11px 15px;\n        border-bottom: 1px solid rgba(150, 150, 150, 0.4);\n        cursor: pointer;\n\n        .name {\n            flex-grow: 1;\n            margin-left: 3px;\n            font-size: 14px;\n            font-weight: lighter;\n            color: rgb(53, 52, 52)\n        }\n    }\n\n    .layer-row.active {\n        background-color: rgb(255, 230, 191)\n    }\n\n    ::v-deep() .dragButton {\n        cursor: move;\n    }\n}\n</style>\n","import script from \"./layerList.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./layerList.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./layerList.vue?vue&type=style&index=0&id=1acfde0a&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.4.38_vue@3.4.38_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1acfde0a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { ref } from 'vue'\nimport commonWidgetsList from './components/commonWidgetsList.vue'\nimport layerList from './components/layerList.vue'\n// import layerListPractice from './components/layerListPractice.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'left-region',\n  setup(__props) {\n\nconst activeKey = ref(1)\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_AppstoreOutlined = _resolveComponent(\"AppstoreOutlined\")!\n  const _component_a_tab_pane = _resolveComponent(\"a-tab-pane\")!\n  const _component_BarsOutlined = _resolveComponent(\"BarsOutlined\")!\n  const _component_a_tabs = _resolveComponent(\"a-tabs\")!\n\n  return (_openBlock(), _createBlock(_component_a_tabs, {\n    class: \"card-tab\",\n    activeKey: activeKey.value,\n    \"onUpdate:activeKey\": _cache[0] || (_cache[0] = ($event: any) => ((activeKey).value = $event)),\n    tabBarGutter: 14\n  }, {\n    default: _withCtx(() => [\n      (_openBlock(), _createBlock(_component_a_tab_pane, { key: 1 }, {\n        tab: _withCtx(() => [\n          _createVNode(_component_AppstoreOutlined),\n          _createTextVNode(\"组件 \")\n        ]),\n        default: _withCtx(() => [\n          _createVNode(commonWidgetsList)\n        ]),\n        _: 1\n      })),\n      (_openBlock(), _createBlock(_component_a_tab_pane, { key: 2 }, {\n        tab: _withCtx(() => [\n          _createVNode(_component_BarsOutlined),\n          _createTextVNode(\"图层 \")\n        ]),\n        default: _withCtx(() => [\n          _createVNode(layerList)\n        ]),\n        _: 1\n      }))\n    ]),\n    _: 1\n  }, 8, [\"activeKey\"]))\n}\n}\n\n})","<template>\n    <a-tabs class=\"card-tab\" v-model:activeKey=\"activeKey\" :tabBarGutter=\"14\">\n        <a-tab-pane :key=1>\n            <template #tab>\n                <AppstoreOutlined />组件\n            </template>\n            <commonWidgetsList></commonWidgetsList>\n        </a-tab-pane>\n        <a-tab-pane :key=2>\n            <template #tab>\n                <BarsOutlined />图层\n            </template>\n            <layerList></layerList>\n            <!-- <layerListPractice></layerListPractice> -->\n        </a-tab-pane>\n    </a-tabs>\n\n</template>\n\n<script setup lang='ts'>\nimport { ref } from 'vue'\nimport commonWidgetsList from './components/commonWidgetsList.vue'\nimport layerList from './components/layerList.vue'\n// import layerListPractice from './components/layerListPractice.vue'\n\nconst activeKey = ref(1)\n</script>\n\n<style scoped lang='scss'>\n// 只让面板设置面板宽占满\n::v-deep() .ant-tabs-tabpane[id$='panel-2'] {\n    position: absolute;\n    left: 0;\n    width: 100%;\n}\n\n::v-deep() .ant-tabs-content {\n    position: static;\n}\n</style>\n","import script from \"./left-region.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./left-region.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./left-region.vue?vue&type=style&index=0&id=d00849ca&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.4.38_vue@3.4.38_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d00849ca\"]])\n\nexport default __exports__","import type { AllWidgetProps } from 'question-star-bricks'\nimport { cloneDeep, pick } from 'lodash-es'\nimport { PropsTableMap, PropsTableTitleMap } from '@/type/template/widgetAndprops'\nimport type { SelectProps } from 'ant-design-vue'\nimport { VNode } from 'vue'\n\n/* 负责右侧属性面板 */\n\n// 赋值前和赋值后对px等单位的处理，值在内部为数值流动\nconst UnitReverseFormat = (goalUnit: string) => {\n    return (v: number | string) => typeof v === 'number' ? v + goalUnit : Number(String(v).replace(goalUnit, ''))\n}\nconst trimReverseFormat = (v: string) => {\n    return v.trim()\n}\n\n// a-input-number专用的，数字转换为其它单位回显\nconst InputNumberFormatter = (goalUnit: string) => {\n    const NumberEchoRlues = (v: number) => v + goalUnit\n    const NumberEchoRluesParser = (v) => Number(String(v).replace(goalUnit, ''))\n\n    return {\n        NumberEchoRlues,\n        NumberEchoRluesParser\n    }\n}\n\n// 单独抽离每一个物料的\nexport const imgPropsMap: PropsTableMap = {\n    src: {\n        components: 'fields-img',\n        label: '图片设置'\n    }\n}\nexport const textPropsMap: PropsTableMap = {\n    titleValue: {\n        components: 'a-input',\n        label: '标题',\n        extraProps: {\n            placeholder: '请输入标题'\n        },\n        reverseFormat: trimReverseFormat\n    },\n    textValue: {\n        components: 'a-textarea',\n        label: '正文内容',\n        extraProps: {\n            placeholder: '请输入内容'\n        },\n        extraEvents: {\n            input: (event: InputEvent) => { // 修复textarea显示不会直接与仓库传入的value一致的问题\n                // @ts-ignore\n                event.target.value = event.target.value.trim()\n            }\n        },\n        reverseFormat: trimReverseFormat\n    },\n    'font-size': {\n        components: 'a-input-number',\n        label: '字号',\n        extraProps: {\n            max: 50,\n            min: 10,\n            formatter: InputNumberFormatter('px').NumberEchoRlues, // 添加px\n            parser: InputNumberFormatter('px').NumberEchoRluesParser\n        },\n        reverseFormat: UnitReverseFormat('px')\n    },\n    'text-align': {\n        components: 'a-radio-group',\n        label: '对齐方式',\n        extraProps: {\n            options: [\n                {\n                    label: '左对齐', value: 'left'\n                },\n                {\n                    label: '居中', value: 'center'\n                },\n                {\n                    label: '右对齐', value: 'right'\n                }\n            ],\n            optionType: 'button'\n        }\n    },\n    'font-weight': {\n        components: 'fields-select',\n        label: '字重',\n        extraProps: {\n            options: renderVnodeOptions('fontWeight', [\n                {\n                    label: 'lighter', value: 'lighter'\n                },\n                {\n                    label: 'normal', value: 'normal'\n                },\n                {\n                    label: 'bold', value: 'bold'\n                },\n                {\n                    label: 'bolder', value: 'bolder'\n                }\n\n            ])\n        }\n    },\n    'font-family': {\n        components: 'fields-select',\n        label: '字体类型',\n        extraProps: {\n            options: renderVnodeOptions('fontFamily', [\n                { label: '宋体', value: '\"SimSun\",\"STSong\"' },\n                { label: '黑体', value: '\"SimHei\",\"STHeiti\"' },\n                { label: '楷体', value: '\"KaiTi\",\"STKaiti\"' },\n                { label: '仿宋', value: '\"FangSong\",\"STFangsong\"' },\n                { label: 'Arial', value: '\"Arial\", \"sans-serif\"' },\n                { label: 'Comic Sans', value: '\"Comic Sans MS\"' },\n                { label: 'Courier New', value: '\"Courier New\", monospace' },\n                { label: 'Times New Roman', value: '\"Times New Roman\", serif' }\n            ])\n        }\n    },\n    color: {\n        components: 'fields-color',\n        label: '字体颜色'\n    },\n    'text-shadow': {\n        components: ['a-slider', 'a-slider'],\n        label: ['阴影大小', '阴影模糊'],\n        combination: {\n            isCombinationProp: true,\n            combinationRules: (defaultValue: string) => {\n                if (defaultValue === 'none') {\n                    defaultValue = '0px 0px 0px'\n                }\n                const spitResult = defaultValue.split(' ')\n                const result = [spitResult[0] + ' ' + spitResult[1], spitResult[2]]\n                return result\n            }\n        },\n        extraProps: [\n            {\n                max: 25,\n                step: 1,\n                'tip-formatter': (value) => `${value}px`\n            },\n            {\n                max: 25,\n                step: 1,\n                'tip-formatter': (value) => `${value}px`\n            },\n            {}\n        ],\n        reverseFormat: [\n            (v: string) => {\n                if (typeof v === 'number') {\n                    return `${v}px ${v}px`\n                } else {\n                    return Number(v.split('px')[0])\n                }\n            },\n            UnitReverseFormat('px'),\n            (v) => v]\n    }\n}\nexport const commonPropsMap: PropsTableMap = {\n    width: {\n        components: 'a-input-number',\n        label: '宽度',\n        extraProps: {\n            formatter: InputNumberFormatter('px').NumberEchoRlues, // 添加px\n            parser: InputNumberFormatter('px').NumberEchoRluesParser,\n            min: 375\n        },\n        reverseFormat: UnitReverseFormat('px')\n    },\n    height: {\n        components: 'a-input-number',\n        label: '高度',\n        extraProps: {\n            formatter: InputNumberFormatter('px').NumberEchoRlues, // 添加px\n            parser: InputNumberFormatter('px').NumberEchoRluesParser\n        },\n        reverseFormat: UnitReverseFormat('px')\n    },\n    top: {\n        components: 'a-input-number',\n        label: 'Y轴坐标',\n        extraProps: {\n            max: 500,\n            min: 1,\n            formatter: InputNumberFormatter('px').NumberEchoRlues, // 添加px\n            parser: InputNumberFormatter('px').NumberEchoRluesParser\n        },\n        reverseFormat: UnitReverseFormat('px')\n    },\n    left: {\n        components: 'a-input-number',\n        label: 'X轴坐标',\n        extraProps: {\n            max: 500,\n            min: 1,\n            formatter: InputNumberFormatter('px').NumberEchoRlues, // 添加px\n            parser: InputNumberFormatter('px').NumberEchoRluesParser\n        },\n        reverseFormat: UnitReverseFormat('px')\n    },\n\n    opacity: {\n        components: 'a-slider',\n        label: '透明度',\n        extraProps: {\n            max: 1,\n            step: 0.1,\n            'tip-formatter': (value) => `${value * 100}%`\n        },\n        reverseFormat: (v: number) => 1 - v\n    },\n    'padding-left': {\n        components: 'a-slider',\n        label: '内边距左',\n        extraProps: {\n            max: 50,\n            step: 1,\n            'tip-formatter': (value) => `${value}px`\n        },\n        reverseFormat: UnitReverseFormat('px')\n    },\n    'padding-right': {\n        components: 'a-slider',\n        label: '内边距右',\n        extraProps: {\n            max: 50,\n            step: 1,\n            'tip-formatter': (value) => `${value}px`\n        },\n        reverseFormat: UnitReverseFormat('px')\n    },\n    'padding-top': {\n        components: 'a-slider',\n        label: '内边距上',\n        extraProps: {\n            max: 50,\n            step: 1,\n            'tip-formatter': (value) => `${value}px`\n        },\n        reverseFormat: UnitReverseFormat('px')\n    },\n    'padding-bottom': {\n        components: 'a-slider',\n        label: '内边距下',\n        extraProps: {\n            max: 50,\n            step: 1,\n            'tip-formatter': (value) => `${value}px`\n        },\n        reverseFormat: UnitReverseFormat('px')\n    },\n    'background-color': {\n        components: 'fields-color',\n        label: '背景颜色'\n    },\n    'background-image': {\n        components: 'fields-img',\n        label: '背景图片',\n        extraProps: {\n            isNeedDelete: true\n        }\n    },\n    'border-radius': {\n        components: 'a-input-number',\n        label: '边框圆角',\n        extraProps: {\n            max: 25,\n            min: 0,\n            formatter: InputNumberFormatter('px').NumberEchoRlues, // 添加px\n            parser: InputNumberFormatter('px').NumberEchoRluesParser\n        },\n        reverseFormat: UnitReverseFormat('px')\n    },\n    'border-color': {\n        components: 'fields-color',\n        label: '边框颜色'\n    },\n    'border-style': {\n        components: 'fields-select',\n        label: '边框样式',\n        extraProps: {\n            options: [\n                {\n                    label: '无', value: 'none'\n                },\n                {\n                    label: '实线', value: 'solid'\n                },\n                {\n                    label: '虚线', value: 'dashed'\n                },\n                {\n                    label: '圆点状', value: 'dotted'\n                },\n                {\n                    label: '双实线，', value: 'double'\n                }\n            ]\n        }\n    },\n    'border-width': {\n        components: 'a-input-number',\n        label: '边框宽度',\n        extraProps: {\n            max: 15,\n            min: 0,\n            formatter: InputNumberFormatter('px').NumberEchoRlues, // 添加px\n            parser: InputNumberFormatter('px').NumberEchoRluesParser\n        },\n        reverseFormat: UnitReverseFormat('px')\n    },\n    'box-shadow': {\n        components: ['a-slider', 'a-slider', 'fields-color'],\n        label: ['阴影大小', '阴影模糊', '阴影颜色'],\n        combination: {\n            isCombinationProp: true,\n            combinationRules: (defaultValue: string) => {\n                const spitResult = defaultValue.split(' ')\n                const result = [spitResult[0] + ' ' + spitResult[1], spitResult[2], spitResult[3]]\n                return result\n            }\n        },\n        extraProps: [\n            {\n                max: 25,\n                step: 1,\n                'tip-formatter': (value) => `${value}px`\n            },\n            {\n                max: 25,\n                step: 1,\n                'tip-formatter': (value) => `${value}px`\n            },\n            {}\n        ],\n        reverseFormat: [\n            (v: string) => {\n                if (typeof v === 'number') {\n                    return `${v}px ${v}px`\n                } else {\n                    return Number(v.split('px')[0])\n                }\n            },\n            UnitReverseFormat('px'),\n            (v) => v]\n    },\n    scale: {\n        components: 'a-input-number',\n        label: '缩放',\n        extraProps: {\n            max: 300,\n            min: 50,\n            step: 10,\n            formatter: InputNumberFormatter('%').NumberEchoRlues, // 添加px\n            parser: InputNumberFormatter('%').NumberEchoRluesParser\n        },\n        reverseFormat: (v) => {\n            if (v < 10) {\n                return Math.round(100 * v)\n            } else {\n                return (v / 100)\n            }\n        }\n    },\n    rotate: {\n        components: 'a-input-number',\n        label: '旋转',\n        extraProps: {\n            max: 180,\n            min: -180,\n            step: 10,\n            formatter: InputNumberFormatter('°').NumberEchoRlues, // 添加px\n            parser: InputNumberFormatter('°').NumberEchoRluesParser\n        },\n        reverseFormat: UnitReverseFormat('deg')\n    }\n\n}\n\nexport const AllPropsMap: PropsTableMap = { ...textPropsMap, ...imgPropsMap, ...commonPropsMap }\n\n/*\n    映射结构可以决定分类，也能决定表单项的渲染顺序\n    还能决定props对应的key，要渲染成哪个表单项，且具备哪些初始限制\n*/\nconst propsTableKeyGroup: { name: string, keys: (keyof AllWidgetProps)[] }[] = [\n\n    {\n        name: '文本属性',\n        keys: ['textValue', 'titleValue', 'font-size', 'text-align', 'font-weight', 'font-family', 'color', 'text-shadow']\n    },\n    {\n        name: '图片属性',\n        keys: ['src']\n    },\n    {\n        name: '形状与位置',\n        keys: ['top', 'left', 'scale', 'rotate', 'padding-left', 'padding-right', 'padding-top', 'padding-bottom']\n    },\n    {\n        name: '阴影与透明度',\n        keys: ['opacity', 'box-shadow']\n    },\n    {\n        name: '边框与背景',\n        keys: ['border-radius', 'border-color', 'border-style', 'border-width', 'background-color', 'background-image']\n    },\n    {\n        name: '事件功能',\n        keys: ['url']\n    },\n    {\n        name: '全局配置', // 这个tab不会渲染，全局配置的属性单独管理\n        keys: ['width', 'height', 'background-color', 'background-image']\n    }\n]\n\n// 映射转换方法\nexport function propsToFormFn(props: Partial<AllWidgetProps>): PropsTableTitleMap[] {\n    // 过滤模版，只保留出现props出现key的对应映射\n    const instancePropsKeys = Object.keys(props)\n    // console.log('断点', instancePropsKeys)\n\n    const propsTableMap: PropsTableTitleMap[] = []\n    propsTableKeyGroup.forEach((item) => {\n        propsTableMap.push({\n            label: item.name,\n            build: pick(AllPropsMap, ...item.keys)\n        })\n    })\n\n    let template = cloneDeep(propsTableMap) // 基于上面的对象数组为模版\n    template.forEach((item: PropsTableTitleMap) => {\n        for (const key in item.build) {\n            if (!instancePropsKeys.includes(key)) { // 过滤，当模版物料的props，是实例化物料的props没有时，不要渲染\n                // @ts-ignore\n                delete item.build[key as keyof AllWidgetProps]\n            } else { // 追加默认值\n                const tempKey = instancePropsKeys.find(i => i === key)\n                // @ts-ignore\n                item.build[key as keyof AllWidgetProps].value = props[tempKey as keyof AllWidgetProps]\n            }\n        }\n    })\n\n    // 整个标签为空时，也不比渲染，去掉build为空的\n    template = template.filter((item: PropsTableTitleMap) => {\n        return Object.keys(item.build).length !== 0\n    })\n\n    return template\n}\n\n// 将选项转换为带样式的选项\nfunction renderVnodeOptions(styleKey: string, nativeOptions: SelectProps['options']) {\n    return nativeOptions?.map((option) => {\n        return {\n            // 注意写法\n            label: <span style={{ [styleKey as any]: option.value }} >{option.label}</span> as VNode,\n            value: option.value\n        }\n    })\n}\n","\nexport default function debounceFn(fn: (...x: any) => void, duration: number) {\n    let timer: number | null = null\n\n    return function (...arg: any) {\n        if (timer) {\n            clearTimeout(timer)\n        }\n        timer = setTimeout(() => {\n            // @ts-ignore\n            fn.apply(this, arg)\n        }, duration)\n    }\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveDynamicComponent as _resolveDynamicComponent, toHandlers as _toHandlers, mergeProps as _mergeProps, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-6a2f09a0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"props-item\"\n}\nconst _hoisted_2 = { class: \"item-label\" }\nconst _hoisted_3 = { class: \"item-component\" }\nconst _hoisted_4 = { class: \"item-label\" }\nconst _hoisted_5 = { class: \"item-component\" }\n\nimport { PropsTableMap } from '@/type/template/widgetAndprops'\nimport { useStore } from '@/store/index'\nimport debounce from '@/utils/debounce'\nimport type { operatePropsLevel } from '@/type/store/modules/editorStore'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'props-table',\n  props: {\n    propsBuild: {},\n    changeType: {}\n  },\n  setup(__props: any) {\n\nconst $props = __props\n\nconst $store = useStore()\n\n// 赋默认值时处理格式\nconst formatValue = (v: number | string, reverseFn?: (param: any) => any) => {\n    // console.log('初始formatValue', v, reverseFn && reverseFn(v))\n    return reverseFn ? reverseFn(v) : v\n}\n\nconst debounceFn = debounce((finalValue: string | number, goalkey: string) => {\n    // console.log('最终值', finalValue)\n    // 存入记录，只需处理旧值\n    $store.commit('editorStore/updateWidget', {\n        changeKey: goalkey,\n        changeValue: finalValue,\n        changeType: $props.changeType\n    })\n    // 清空旧值\n    $store.commit('editorStore/setCacheValue', '')\n}, 500)\n\n// 值修改，尝试直接修改仓库的属性\nconst update = (goalvalue: string | number, goalkey: string, reverseFn?: (param: any) => any, combinationRules?: any, combinationLayer?: number) => {\n    // console.log('属性更新', goalvalue)\n    // 需要在修改仓库前，便确定存入旧值，作为中间变量\n    if (!$store.state.editorStore.cacheValue) {\n        $store.commit('editorStore/setCacheValue', $props.changeType === 'page'\n            ? $store.state.editorStore.page.props[goalkey]\n            : $store.getters['editorStore/selectedWidget'].props[goalkey])\n    }\n\n    let newCompleteValue\n    // 处理组合属性\n    if (combinationRules) {\n        // console.log('组合属性更新', goalvalue, combinationLayer)\n        // 拼接出原来的完整值\n        const completeValue = $props.changeType === 'page'\n            ? $store.state.editorStore.page.props[goalkey]\n            : $store.getters['editorStore/selectedWidget'].props[goalkey]\n        const completeValueArr = combinationRules(completeValue)\n        completeValueArr[combinationLayer!] = reverseFn!(goalvalue)\n        newCompleteValue = completeValueArr.join(' ')\n        // console.log('组合属性最终值', newCompleteValue)\n    }\n\n    const changeValue = newCompleteValue || (reverseFn ? reverseFn(goalvalue) : goalvalue)\n    // 不存入记录\n    $store.commit('editorStore/updateWidget', {\n        changeKey: goalkey,\n        changeValue,\n        changeType: $props.changeType,\n        widgetId: $props.changeType === 'page' ? '' : $store.state.editorStore.currentComponent,\n        noRecord: true\n    })\n\n    // 实现防抖的方式可能需要指定时间再存入记录\n    debounceFn(changeValue, goalkey, reverseFn)\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.propsBuild, (propMap, key) => {\n    return (_openBlock(), _createElementBlock(\"div\", {\n      class: \"props-table\",\n      key: key\n    }, [\n      propMap\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n            (!propMap.combination)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                  _createElementVNode(\"div\", _hoisted_2, _toDisplayString(propMap?.label) + \":\", 1),\n                  _createElementVNode(\"div\", _hoisted_3, [\n                    (_openBlock(), _createBlock(_resolveDynamicComponent(propMap.components), _mergeProps({ ref_for: true }, propMap.extraProps, _toHandlers(propMap.extraEvents ? propMap.extraEvents : {}), {\n                      value: formatValue(propMap.value!, propMap.reverseFormat),\n                      \"onUpdate:value\": ($event: any) => (update($event, key as string, propMap.reverseFormat))\n                    }), null, 16, [\"value\", \"onUpdate:value\"]))\n                  ])\n                ]))\n              : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(propMap?.components.length, (num) => {\n                  return (_openBlock(), _createElementBlock(\"div\", {\n                    class: \"props-item props-combiantion-item\",\n                    key: num\n                  }, [\n                    _createElementVNode(\"div\", _hoisted_4, _toDisplayString(propMap.label[num - 1]) + \":\", 1),\n                    _createElementVNode(\"div\", _hoisted_5, [\n                      (_openBlock(), _createBlock(_resolveDynamicComponent(propMap.components[num - 1]), _mergeProps({ ref_for: true }, propMap.extraProps && propMap.extraProps[num - 1] ? propMap.extraProps[num - 1] : undefined, {\n                        value: formatValue(\n                                (propMap.combination.combinationRules(propMap.value!))[num - 1], propMap.reverseFormat[num - 1]),\n                        \"onUpdate:value\": ($event: any) => (update($event, key as string, propMap.reverseFormat[num - 1], propMap.combination && propMap.combination.combinationRules, num - 1))\n                      }), null, 16, [\"value\", \"onUpdate:value\"]))\n                    ])\n                  ]))\n                }), 128))\n          ], 64))\n        : _createCommentVNode(\"\", true)\n    ]))\n  }), 128))\n}\n}\n\n})","<template>\n\n    <div class=\"props-table\" v-for=\"(propMap, key) in propsBuild\" :key=\"key\">\n        <template v-if=\"propMap\">\n            <div class=\"props-item\" v-if=\"!propMap.combination\">\n                <div class=\"item-label\">{{ propMap?.label }}:</div>\n                <div class=\"item-component\">\n                    <component :is=\"propMap.components\" v-bind=\"propMap.extraProps\"\n                        v-on=\"propMap.extraEvents ? propMap.extraEvents : {}\"\n                        :value=\"formatValue(propMap.value!, propMap.reverseFormat)\"\n                        @update:value=\"update($event, key as string, propMap.reverseFormat)\">\n                    </component>\n                </div>\n            </div>\n            <template v-else>\n                <div class=\"props-item props-combiantion-item\" v-for=\"(num) in propMap?.components.length\" :key=\"num\">\n                    <div class=\"item-label\">{{ propMap.label[num - 1] }}:</div>\n                    <div class=\"item-component\">\n                        <component :is=\"propMap.components[num - 1]\"\n                            v-bind=\"propMap.extraProps && propMap.extraProps[num - 1] ? propMap.extraProps[num - 1] : undefined\"\n                            :value=\"formatValue(\n                                (propMap.combination.combinationRules(propMap.value!))[num - 1], propMap.reverseFormat[num - 1])\"\n                            @update:value=\"update($event, key as string, propMap.reverseFormat[num - 1], propMap.combination && propMap.combination.combinationRules, num - 1)\">\n                        </component>\n                    </div>\n                </div>\n            </template>\n        </template>\n    </div>\n\n</template>\n\n<script setup lang='ts'>\nimport { PropsTableMap } from '@/type/template/widgetAndprops'\nimport { useStore } from '@/store/index'\nimport debounce from '@/utils/debounce'\nimport type { operatePropsLevel } from '@/type/store/modules/editorStore'\n\nconst $props = defineProps<{\n    propsBuild: PropsTableMap,\n    changeType: operatePropsLevel\n}>()\n\nconst $store = useStore()\n\n// 赋默认值时处理格式\nconst formatValue = (v: number | string, reverseFn?: (param: any) => any) => {\n    // console.log('初始formatValue', v, reverseFn && reverseFn(v))\n    return reverseFn ? reverseFn(v) : v\n}\n\nconst debounceFn = debounce((finalValue: string | number, goalkey: string) => {\n    // console.log('最终值', finalValue)\n    // 存入记录，只需处理旧值\n    $store.commit('editorStore/updateWidget', {\n        changeKey: goalkey,\n        changeValue: finalValue,\n        changeType: $props.changeType\n    })\n    // 清空旧值\n    $store.commit('editorStore/setCacheValue', '')\n}, 500)\n\n// 值修改，尝试直接修改仓库的属性\nconst update = (goalvalue: string | number, goalkey: string, reverseFn?: (param: any) => any, combinationRules?: any, combinationLayer?: number) => {\n    // console.log('属性更新', goalvalue)\n    // 需要在修改仓库前，便确定存入旧值，作为中间变量\n    if (!$store.state.editorStore.cacheValue) {\n        $store.commit('editorStore/setCacheValue', $props.changeType === 'page'\n            ? $store.state.editorStore.page.props[goalkey]\n            : $store.getters['editorStore/selectedWidget'].props[goalkey])\n    }\n\n    let newCompleteValue\n    // 处理组合属性\n    if (combinationRules) {\n        // console.log('组合属性更新', goalvalue, combinationLayer)\n        // 拼接出原来的完整值\n        const completeValue = $props.changeType === 'page'\n            ? $store.state.editorStore.page.props[goalkey]\n            : $store.getters['editorStore/selectedWidget'].props[goalkey]\n        const completeValueArr = combinationRules(completeValue)\n        completeValueArr[combinationLayer!] = reverseFn!(goalvalue)\n        newCompleteValue = completeValueArr.join(' ')\n        // console.log('组合属性最终值', newCompleteValue)\n    }\n\n    const changeValue = newCompleteValue || (reverseFn ? reverseFn(goalvalue) : goalvalue)\n    // 不存入记录\n    $store.commit('editorStore/updateWidget', {\n        changeKey: goalkey,\n        changeValue,\n        changeType: $props.changeType,\n        widgetId: $props.changeType === 'page' ? '' : $store.state.editorStore.currentComponent,\n        noRecord: true\n    })\n\n    // 实现防抖的方式可能需要指定时间再存入记录\n    debounceFn(changeValue, goalkey, reverseFn)\n}\n\n</script>\n\n<style scoped lang='scss'>\n.props-table:not(:first-child) {\n    // border: 1px solid red;\n    margin-top: 18px;\n}\n\n.props-item {\n    display: flex;\n    gap: 0px;\n\n    .item-label {\n        width: 24%;\n    }\n\n    .item-component {\n        flex-grow: 1;\n    }\n}\n\n.props-combiantion-item {\n    margin-top: 15px;\n}\n</style>\n","import script from \"./props-table.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./props-table.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./props-table.vue?vue&type=style&index=0&id=6a2f09a0&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.4.38_vue@3.4.38_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6a2f09a0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock } from \"vue\"\n\nimport { computed, ref } from 'vue'\nimport { useStore } from '@/store/index'\nimport { propsToFormFn } from '@/templateMap/propsTableMap'\nimport PropsTable from './props-table.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'props-panel',\n  setup(__props) {\n\nconst $store = useStore()\nconst collapseActiveKey = ref([0])\n\n// 渲染的props模版\nconst propsTemplate = computed(() => {\n    return $store.getters['editorStore/selectedWidget']\n        ? propsToFormFn($store.getters['editorStore/selectedWidget'].props)\n        : []\n})\n\nconst fiterGlobalProps = computed(() => {\n    const result = propsTemplate.value.filter((item) => {\n        return item.label !== '全局配置'\n    })\n    return result || []\n})\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_collapse_panel = _resolveComponent(\"a-collapse-panel\")!\n  const _component_a_collapse = _resolveComponent(\"a-collapse\")!\n\n  return (_openBlock(), _createBlock(_component_a_collapse, {\n    accordion: \"\",\n    class: \"type-box\",\n    activeKey: collapseActiveKey.value,\n    \"onUpdate:activeKey\": _cache[0] || (_cache[0] = ($event: any) => ((collapseActiveKey).value = $event))\n  }, {\n    default: _withCtx(() => [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(fiterGlobalProps.value, (propsTypeItem, index) => {\n        return (_openBlock(), _createBlock(_component_a_collapse_panel, {\n          key: index,\n          header: propsTypeItem.label\n        }, {\n          default: _withCtx(() => [\n            _createVNode(PropsTable, {\n              propsBuild: propsTypeItem.build,\n              changeType: \"widgetProps\"\n            }, null, 8, [\"propsBuild\"])\n          ]),\n          _: 2\n        }, 1032, [\"header\"]))\n      }), 128))\n    ]),\n    _: 1\n  }, 8, [\"activeKey\"]))\n}\n}\n\n})","<template>\n    <!-- 根据Props表单的模版进行渲染 -->\n    <a-collapse accordion class=\"type-box\" v-model:activeKey=\"collapseActiveKey\">\n        <a-collapse-panel :key=\"index\" :header=\"propsTypeItem.label\" v-for=\"(propsTypeItem, index) in fiterGlobalProps\">\n            <PropsTable :propsBuild=\"propsTypeItem.build\" changeType=\"widgetProps\">\n            </PropsTable>\n        </a-collapse-panel>\n    </a-collapse>\n\n</template>\n\n<script setup lang='ts'>\nimport { computed, ref } from 'vue'\nimport { useStore } from '@/store/index'\nimport { propsToFormFn } from '@/templateMap/propsTableMap'\nimport PropsTable from './props-table.vue'\n\nconst $store = useStore()\nconst collapseActiveKey = ref([0])\n\n// 渲染的props模版\nconst propsTemplate = computed(() => {\n    return $store.getters['editorStore/selectedWidget']\n        ? propsToFormFn($store.getters['editorStore/selectedWidget'].props)\n        : []\n})\n\nconst fiterGlobalProps = computed(() => {\n    const result = propsTemplate.value.filter((item) => {\n        return item.label !== '全局配置'\n    })\n    return result || []\n})\n\n</script>\n\n<style scoped lang='scss'>\n.type-box {\n    margin-bottom: 19px;\n\n    ::v-deep() .ant-collapse-header-text {\n        font-size: 16px;\n    }\n\n    ::v-deep() .ant-collapse-arrow {\n        font-size: 17px;\n    }\n\n    ::v-deep() .ant-collapse-content {\n        background-color: transparent !important;\n    }\n\n    ::v-deep() .ant-collapse-content-box {\n        padding-left: 28px;\n        padding-right: 28px;\n    }\n}\n\n.ant-collapse {\n    font-size: 15px !important;\n    border-radius: 0px;\n}\n</style>\n","import script from \"./props-panel.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./props-panel.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./props-panel.vue?vue&type=style&index=0&id=1c5b3768&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.4.38_vue@3.4.38_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1c5b3768\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport propsTable from './props-panel.vue'\nimport { useStore } from '@/store/index'\nimport { computed } from 'vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'props-section',\n  setup(__props) {\n\nconst $store = useStore()\n\nconst currentComponent = computed(() => {\n    return $store.getters['editorStore/selectedWidget']\n})\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_empty = _resolveComponent(\"a-empty\")!\n\n  return (!currentComponent.value)\n    ? (_openBlock(), _createBlock(_component_a_empty, {\n        key: 0,\n        description: \"未选中元素\"\n      }))\n    : (currentComponent.value.isLocked)\n      ? (_openBlock(), _createBlock(_component_a_empty, {\n          key: 1,\n          description: \"元素已锁定\"\n        }))\n      : (_openBlock(), _createBlock(propsTable, { key: 2 }))\n}\n}\n\n})","<template>\n    <template v-if=\"!currentComponent\">\n        <a-empty description=\"未选中元素\" />\n    </template>\n    <template v-else-if=\"currentComponent.isLocked\">\n        <a-empty description=\"元素已锁定\" />\n    </template>\n    <template v-else>\n        <propsTable></propsTable>\n    </template>\n\n</template>\n\n<script setup lang='ts'>\nimport propsTable from './props-panel.vue'\nimport { useStore } from '@/store/index'\nimport { computed } from 'vue'\nconst $store = useStore()\n\nconst currentComponent = computed(() => {\n    return $store.getters['editorStore/selectedWidget']\n})\n\n</script>\n\n<style scoped lang='scss'></style>\n","import script from \"./props-section.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./props-section.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport { ref, computed } from 'vue'\nimport propsSection from './components/props-section.vue'\nimport { useStore } from '@/store/index'\nimport { propsToFormFn } from '@/templateMap/propsTableMap'\nimport PropsTable from './components/props-table.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'right-region',\n  setup(__props) {\n\nconst activeKey = ref(1)\nconst $store = useStore()\n\nconst pagePropsTemplate = computed(() => {\n    return propsToFormFn($store.state.editorStore.page.props)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_BgColorsOutlined = _resolveComponent(\"BgColorsOutlined\")!\n  const _component_a_tab_pane = _resolveComponent(\"a-tab-pane\")!\n  const _component_SettingOutlined = _resolveComponent(\"SettingOutlined\")!\n  const _component_a_tabs = _resolveComponent(\"a-tabs\")!\n\n  return (_openBlock(), _createBlock(_component_a_tabs, {\n    class: \"card-tab\",\n    activeKey: activeKey.value,\n    \"onUpdate:activeKey\": _cache[0] || (_cache[0] = ($event: any) => ((activeKey).value = $event)),\n    tabBarGutter: 19\n  }, {\n    default: _withCtx(() => [\n      (_openBlock(), _createBlock(_component_a_tab_pane, { key: 1 }, {\n        tab: _withCtx(() => [\n          _createVNode(_component_BgColorsOutlined),\n          _createTextVNode(\"属性 \")\n        ]),\n        default: _withCtx(() => [\n          _createVNode(propsSection)\n        ]),\n        _: 1\n      })),\n      (_openBlock(), _createBlock(_component_a_tab_pane, { key: 2 }, {\n        tab: _withCtx(() => [\n          _createVNode(_component_SettingOutlined),\n          _createTextVNode(\"全局设置 \")\n        ]),\n        default: _withCtx(() => [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(pagePropsTemplate.value, (propsTypeItem, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", { key: index }, [\n              (propsTypeItem.label === '全局配置')\n                ? (_openBlock(), _createBlock(PropsTable, {\n                    key: 0,\n                    propsBuild: propsTypeItem.build,\n                    changeType: \"page\"\n                  }, null, 8, [\"propsBuild\"]))\n                : _createCommentVNode(\"\", true)\n            ]))\n          }), 128))\n        ]),\n        _: 1\n      }))\n    ]),\n    _: 1\n  }, 8, [\"activeKey\"]))\n}\n}\n\n})","<template>\n    <a-tabs class=\"card-tab\" v-model:activeKey=\"activeKey\" :tabBarGutter=\"19\">\n        <a-tab-pane :key=1>\n            <template #tab>\n                <BgColorsOutlined />属性\n            </template>\n            <propsSection></propsSection>\n        </a-tab-pane>\n        <a-tab-pane :key=2>\n            <template #tab>\n                <SettingOutlined />全局设置\n            </template>\n            <div v-for=\"(propsTypeItem, index) in pagePropsTemplate\" :key=\"index\">\n                <PropsTable v-if=\"propsTypeItem.label === '全局配置'\" :propsBuild=\"propsTypeItem.build\" changeType=\"page\">\n                </PropsTable>\n            </div>\n        </a-tab-pane>\n    </a-tabs>\n</template>\n\n<script setup lang='ts'>\nimport { ref, computed } from 'vue'\nimport propsSection from './components/props-section.vue'\nimport { useStore } from '@/store/index'\nimport { propsToFormFn } from '@/templateMap/propsTableMap'\nimport PropsTable from './components/props-table.vue'\n\nconst activeKey = ref(1)\nconst $store = useStore()\n\nconst pagePropsTemplate = computed(() => {\n    return propsToFormFn($store.state.editorStore.page.props)\n})\n</script>\n\n<style scoped lang='scss'>\n// 只让属性设置面板宽占满\n::v-deep() .ant-tabs-tabpane[id$='panel-1'] {\n    position: absolute;\n    left: 0;\n    width: 100%;\n}\n\n::v-deep() .ant-tabs-content {\n    position: static\n}\n</style>\n","import script from \"./right-region.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./right-region.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./right-region.vue?vue&type=style&index=0&id=eb496024&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.4.38_vue@3.4.38_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-eb496024\"]])\n\nexport default __exports__","\n// 鼠标移动的三件套\ntype functionType = (event: MouseEvent) => void\ntype functionTypeTow = (event: MouseEvent, mouseTarget: HTMLElement) => void\n\nexport default function (onMovestart: functionType, onMoveProcess: functionTypeTow, onMoveEnd: functionTypeTow) {\n    // 对外提供一个函数，按下鼠标，即可执行三件套（事件都是鼠标事件，指向点击的物料内部）\n    const mousedownEvent = function (downEvent: MouseEvent) {\n        // 存储一开始点击的目标，防止鼠标移动过快\n        const mouseTarget: HTMLElement | null = downEvent.target as HTMLElement\n        onMovestart(downEvent)\n        const mousemoveFn = function (moveEvent: MouseEvent) {\n            onMoveProcess(moveEvent, mouseTarget) // 因为还需要一开始的点击目标DOM\n        }\n        document.addEventListener('mousemove', mousemoveFn) // 注意此时的e.target，在document事件时会改变\n        const mouseupFn = function (upEvent) { // 因为需要移除自身，需抽离出来\n            document.removeEventListener('mousemove', mousemoveFn)\n            onMoveEnd(upEvent, mouseTarget) // 修改仓库\n            document.removeEventListener('mouseup', mouseupFn)\n        }\n        document.addEventListener('mouseup', mouseupFn)\n    }\n\n    return {\n        mousedownEvent\n    }\n}\n","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n","export type EventType = string | symbol;\n\n// An event handler can take an optional event argument\n// and should not return a value\nexport type Handler<T = unknown> = (event: T) => void;\nexport type WildcardHandler<T = Record<string, unknown>> = (\n\ttype: keyof T,\n\tevent: T[keyof T]\n) => void;\n\n// An array of all currently registered event handlers for a type\nexport type EventHandlerList<T = unknown> = Array<Handler<T>>;\nexport type WildCardEventHandlerList<T = Record<string, unknown>> = Array<\n\tWildcardHandler<T>\n>;\n\n// A map of event types and their corresponding event handlers.\nexport type EventHandlerMap<Events extends Record<EventType, unknown>> = Map<\n\tkeyof Events | '*',\n\tEventHandlerList<Events[keyof Events]> | WildCardEventHandlerList<Events>\n>;\n\nexport interface Emitter<Events extends Record<EventType, unknown>> {\n\tall: EventHandlerMap<Events>;\n\n\ton<Key extends keyof Events>(type: Key, handler: Handler<Events[Key]>): void;\n\ton(type: '*', handler: WildcardHandler<Events>): void;\n\n\toff<Key extends keyof Events>(\n\t\ttype: Key,\n\t\thandler?: Handler<Events[Key]>\n\t): void;\n\toff(type: '*', handler: WildcardHandler<Events>): void;\n\n\temit<Key extends keyof Events>(type: Key, event: Events[Key]): void;\n\temit<Key extends keyof Events>(\n\t\ttype: undefined extends Events[Key] ? Key : never\n\t): void;\n}\n\n/**\n * Mitt: Tiny (~200b) functional event emitter / pubsub.\n * @name mitt\n * @returns {Mitt}\n */\nexport default function mitt<Events extends Record<EventType, unknown>>(\n\tall?: EventHandlerMap<Events>\n): Emitter<Events> {\n\ttype GenericEventHandler =\n\t\t| Handler<Events[keyof Events]>\n\t\t| WildcardHandler<Events>;\n\tall = all || new Map();\n\n\treturn {\n\t\t/**\n\t\t * A Map of event names to registered handler functions.\n\t\t */\n\t\tall,\n\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t * @param {string|symbol} type Type of event to listen for, or `'*'` for all events\n\t\t * @param {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton<Key extends keyof Events>(type: Key, handler: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\thandlers.push(handler);\n\t\t\t} else {\n\t\t\t\tall!.set(type, [handler] as EventHandlerList<Events[keyof Events]>);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t * If `handler` is omitted, all handlers of the given type are removed.\n\t\t * @param {string|symbol} type Type of event to unregister `handler` from (`'*'` to remove a wildcard handler)\n\t\t * @param {Function} [handler] Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff<Key extends keyof Events>(type: Key, handler?: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\tif (handler) {\n\t\t\t\t\thandlers.splice(handlers.indexOf(handler) >>> 0, 1);\n\t\t\t\t} else {\n\t\t\t\t\tall!.set(type, []);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `'*'` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * Note: Manually firing '*' handlers is not supported.\n\t\t *\n\t\t * @param {string|symbol} type The event type to invoke\n\t\t * @param {Any} [evt] Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit<Key extends keyof Events>(type: Key, evt?: Events[Key]) {\n\t\t\tlet handlers = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as EventHandlerList<Events[keyof Events]>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(evt!);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\thandlers = all!.get('*');\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as WildCardEventHandlerList<Events>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(type, evt!);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n","import mitt from 'mitt'\n\nconst eventBus = mitt()\nexport default eventBus\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, unref as _unref, withModifiers as _withModifiers, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-31a81430\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"point1\\\" data-v-31a81430></div><div class=\\\"point2\\\" data-v-31a81430></div><div class=\\\"point3\\\" data-v-31a81430></div><div class=\\\"point4\\\" data-v-31a81430></div><div class=\\\"pointA\\\" data-v-31a81430></div><div class=\\\"pointB\\\" data-v-31a81430></div><div class=\\\"pointC\\\" data-v-31a81430></div><div class=\\\"pointD\\\" data-v-31a81430></div>\", 8)\nconst _hoisted_9 = [\n  _hoisted_1\n]\n\nimport { reactive } from 'vue'\nimport useMouseGroupEvent from '@/hook/useMouseGroupEvent'\nimport { AllWidgetProps } from 'question-star-bricks'\nimport {\n    widgetData\n} from '@/type/store/modules/editorStore'\nimport { message } from 'ant-design-vue'\nimport { throttle } from 'lodash-es'\nimport eventBus from '@/utils/eventBus'\n\ninterface updateWidgetPropsParams {\n    Key: keyof AllWidgetProps | string[],\n    Value: any\n}\n// eslint-disable-next-line\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'edit-wrapper',\n  props: {\n    widgetId: {},\n    isActive: { type: Boolean }\n  },\n  emits: [\"selectWidget\", \"updateWidgetProps\", \"getWidget\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst $props = __props\n\nconst $emit = __emit\n\nconst selectWidget = () => {\n    $emit('selectWidget', $props.widgetId)\n}\n\n// 计算画布区域内的x范围与y的范围\nconst computeEditorRange = () => {\n    const allowRange = new Map()\n    const editorBoxDom = document.querySelector('.middle-box') as HTMLElement\n    const editorBoxDomRect = editorBoxDom.getBoundingClientRect()\n\n    const xRange = {\n        min: editorBoxDomRect.left,\n        max: editorBoxDomRect.left + editorBoxDomRect.width\n    }\n    const yRange = {\n        min: editorBoxDomRect.top,\n        max: editorBoxDomRect.top + editorBoxDomRect.height\n    }\n    allowRange.set('X', xRange)\n    allowRange.set('Y', yRange)\n    return allowRange\n}\n\n// 处理拖拽移动、尺寸改变的鼠标移动距离\nconst moveData = reactive({\n    moveProgress: false, // 用来判断是否在移动拖拽，才能决定是否修改仓库\n    start: {\n        X: 0,\n        Y: 0\n    },\n    end: {\n        X: 0,\n        Y: 0\n    }\n})\nconst calculateDistance = (needAbs = false) => { // 得出鼠标移动的X、Y变化值\n    const distanceX = moveData.end.X - moveData.start.X\n    const distanceY = moveData.end.Y - moveData.start.Y\n    return needAbs\n        ? {\n            distanceX: Math.abs(distanceX),\n            distanceY: Math.abs(distanceY)\n        }\n        : {\n            distanceX,\n            distanceY\n        }\n}\n\nconst tipShow = throttle((context: string) => {\n    message.info(context)\n}, 3000)\n\n// 高阶函数，1.处理锁定时不要移动和修改尺寸，只能修改中间执行层即可\n//  2.不要让移动、修改尺寸的中间层到画布之外\nconst judgeLockedWrapper = (originFn) => {\n    // 自定义添加前置处理\n    const wrapperFn = (...args) => {\n        // 若元素已锁定，则不移动\n        $emit('getWidget', (params: widgetData) => {\n            try {\n                if (params.isLocked) {\n                    throw new Error('锁定')\n                }\n                // 如果移动过程到了边界，停止移动、大小改变\n                const event = args[0] as MouseEvent\n                if (computeEditorRange().get('X').min > event.clientX ||\n                    computeEditorRange().get('X').max < event.clientX ||\n                    computeEditorRange().get('Y').min > event.clientY ||\n                    computeEditorRange().get('Y').max < event.clientY\n                ) {\n                    tipShow('超出画布范围！')\n                    return\n                }\n\n                originFn(...args)\n            } catch (error) {\n                console.log('error', error)\n                tipShow('元素已锁定')\n            }\n        })\n    }\n\n    return wrapperFn\n}\n\n/* 移动、改变尺寸原理：点击时初始化记录，以及目标dom，运动过程计算动态修改目标dom，结束时将目标dom的值情况发送给仓库 */\nconst onMovestart = function (downEvent: MouseEvent) {\n    downEvent.preventDefault() // 避免了误选中文字或者默认拖拽图片和文字的默认行为\n    selectWidget()\n    moveData.start.X = downEvent.clientX\n    moveData.start.Y = downEvent.clientY\n}\nconst onMoveProcess = judgeLockedWrapper(function (moveEvent: MouseEvent, mouseTarget: HTMLElement) {\n    // console.log('onMoveProcess')\n    moveData.moveProgress = true\n    // 先考虑右下角，再考虑其它角发现没问题\n    moveData.end.X = moveEvent.clientX\n    moveData.end.Y = moveEvent.clientY\n\n    const calculateResult = calculateDistance()\n    // 锁定拖拽元素：父级wrapper，直接修改定位（需注意应该查找直接父元素wrapper）\n    const goalWrapper = (mouseTarget).closest('.edit-wrapper') as HTMLElement\n    if (goalWrapper) {\n        // const goalNodeClientRects = goalWrapper.getBoundingClientRect() //里面的偏移量是相对视口的\n        goalWrapper.style.left = (goalWrapper.offsetLeft + calculateResult.distanceX) + 'px'\n        goalWrapper.style.top = (goalWrapper.offsetTop + calculateResult.distanceY) + 'px'\n    }\n\n    // console.log('移动x', goalWrapper.style.left)\n    // console.log('移动y', goalWrapper.style.top)\n\n    // 标线显示与吸附\n    eventBus.emit('moveWidget', {\n        widgetWrapper: goalWrapper,\n        moveProgress: true,\n        calculateResult: calculateResult\n    })\n\n    // 每计算移动一次，初始的坐标就得改\n    onMovestart(moveEvent)\n})\nconst onMoveEnd = function (upEvent: MouseEvent, mouseTarget: HTMLElement) {\n    // console.log('onMoveEnd')\n    if (!moveData.moveProgress) { // 修复点击即移动\n        return\n    }\n    const goalWrapper = (mouseTarget).closest('.edit-wrapper') as HTMLElement\n    // 发送仓库，持久化修改\n    $emit('updateWidgetProps', { Key: ['left', 'top'], Value: [goalWrapper.style.left, goalWrapper.style.top] })\n\n    moveData.moveProgress = false\n    eventBus.emit('moveWidget', {\n        widgetWrapper: goalWrapper,\n        moveProgress: false\n    })\n}\n\n// 将鼠标按下、移动、抬起一系列事件挂载成一个函数\nconst { mousedownEvent: moveSeriesEvent } = useMouseGroupEvent(onMovestart, onMoveProcess, onMoveEnd)\n\n// 处理拖拽大小\nconst onResizeStart = function (downEvent: MouseEvent) {\n    downEvent.preventDefault()\n    // 判断是点击哪个方向, 核心依然是先知道鼠标移动距离\n    selectWidget()\n    moveData.start.X = downEvent.clientX\n    moveData.start.Y = downEvent.clientY\n    /* 如果元素开启了缩放，需关闭缩放，不然会有问题 */\n    $emit('getWidget', (params: widgetData) => {\n        if (params.props.scale !== 1) {\n            $emit('updateWidgetProps', { Key: 'scale', Value: 1 })\n        }\n        if (params.props.rotate !== '0deg') {\n            $emit('updateWidgetProps', { Key: 'rotate', Value: '0deg' })\n        }\n    })\n}\nconst onResizeProcess = judgeLockedWrapper(function (moveEvent: MouseEvent, mouseTarget: HTMLElement) {\n    moveData.moveProgress = true\n    moveData.end.X = moveEvent.clientX\n    moveData.end.Y = moveEvent.clientY\n    const { distanceX, distanceY } = calculateDistance() // 不使用绝对值能适应距离变化\n\n    // const goalPoint = moveEvent.target as HTMLElement\n    const goalPoint = mouseTarget\n    const goalWrapper = goalPoint.closest('.edit-wrapper') as HTMLElement\n    const goalWidget = goalPoint.closest('.edit-wrapper')?.firstElementChild as HTMLElement\n    /*\n       这里没有修改仓库，而是先考虑在视觉层面上\n       注意宽高不应该修改在wrapper层，而是物料本身\n       而偏移量应该修改在wrapper层\n       */\n    const goalWidgetRect = goalWidget.getBoundingClientRect() // getBoundingClientRect获取的宽高，不包括边框\n    switch (true) {\n        case goalPoint.classList.contains('point1'):\n            goalWidget.style.width = (goalWidgetRect.width - distanceX) + 'px'\n            goalWidget.style.height = (goalWidgetRect.height - distanceY) + 'px'\n            goalWrapper.style.top = (goalWrapper.offsetTop + distanceY) + 'px'\n            goalWrapper.style.left = (goalWrapper.offsetLeft + distanceX) + 'px'\n            break\n        case goalPoint.classList.contains('point2'):// 右上角，影响宽高、top\n            goalWidget.style.width = (goalWidgetRect.width + distanceX) + 'px'\n            // 如果Y是增加的，高只会减小； Y是减小的，高只会增加\n            goalWidget.style.height = (goalWidgetRect.height - distanceY) + 'px'\n            // top与Y的偏移正相关\n            goalWrapper.style.top = (goalWrapper.offsetTop + distanceY) + 'px'\n            break\n        case goalPoint.classList.contains('point3'): // 左下角, 影响宽高、left\n            goalWidget.style.width = (goalWidgetRect.width - distanceX) + 'px'\n            goalWidget.style.height = (goalWidgetRect.height + distanceY) + 'px'\n            goalWrapper.style.left = (goalWrapper.offsetLeft + distanceX) + 'px'\n            break\n        case goalPoint.classList.contains('point4'):// 右下角，影响宽高\n            goalWidget.style.width = (goalWidgetRect.width + distanceX) + 'px'\n            goalWidget.style.height = (goalWidgetRect.height + distanceY) + 'px'\n            break\n\n        // 上边点，影响高、top\n        case goalPoint.classList.contains('pointA'):\n            goalWidget.style.height = (goalWidgetRect.height - distanceY) + 'px'\n            goalWrapper.style.top = (goalWrapper.offsetTop + distanceY) + 'px'\n            break\n\n        // 右边点，影响宽\n        case goalPoint.classList.contains('pointB'):\n            goalWidget.style.width = (goalWidgetRect.width + distanceX) + 'px'\n            break\n\n        // 下边点，影响高\n        case goalPoint.classList.contains('pointC'):\n            goalWidget.style.height = (goalWidgetRect.height + distanceY) + 'px'\n            break\n\n        // 左边点，影响宽、left\n        case goalPoint.classList.contains('pointD'):\n            goalWidget.style.width = (goalWidgetRect.width - distanceX) + 'px'\n            goalWrapper.style.left = (goalWrapper.offsetLeft + distanceX) + 'px'\n            break\n    }\n    onMovestart(moveEvent)\n})\nconst onResizeEnd = function (upEvent: MouseEvent, mouseTarget: HTMLElement) {\n    // const goalPoint = upEvent.target as HTMLElement\n    const goalPoint = mouseTarget\n    const goalWrapper = goalPoint.closest('.edit-wrapper') as HTMLElement\n    const goalWidget = goalPoint.closest('.edit-wrapper')?.firstElementChild as HTMLElement\n    const goalWidgetRect = goalWidget.getBoundingClientRect()\n\n    // 修改仓库对应的物料宽高\n    // $emit('updateWidgetProps', { Key: 'width', Value: goalWidgetRect.width + 'px' })\n    // $emit('updateWidgetProps', { Key: 'height', Value: goalWidgetRect.height + 'px' })\n\n    const { width, height } = goalWidgetRect\n    const { offsetTop, offsetLeft } = goalWrapper\n\n    // console.log('断点1', width)\n    // console.log('断点2', height)\n\n    switch (true) {\n        case goalPoint.classList.contains('point1'):\n            $emit('updateWidgetProps', { Key: ['width', 'height', 'top', 'left'], Value: [width + 'px', height + 'px', offsetTop + 'px', offsetLeft + 'px'] })\n            break\n        case goalPoint.classList.contains('point2'):// 右上角\n            $emit('updateWidgetProps', { Key: ['width', 'height', 'top'], Value: [width + 'px', height + 'px', offsetTop + 'px'] })\n            break\n        case goalPoint.classList.contains('point3'):\n            $emit('updateWidgetProps', { Key: ['width', 'height', 'left'], Value: [width + 'px', height + 'px', offsetLeft + 'px'] })\n            break\n        case goalPoint.classList.contains('point4'):// 右下角\n            $emit('updateWidgetProps', { Key: ['width', 'height'], Value: [width + 'px', height + 'px'] })\n            break\n\n        case goalPoint.classList.contains('pointA'):\n            $emit('updateWidgetProps', { Key: ['height', 'top'], Value: [height + 'px', offsetTop + 'px'] })\n            break\n        case goalPoint.classList.contains('pointB'):// 右边点\n            $emit('updateWidgetProps', { Key: 'width', Value: width + 'px' })\n            break\n        case goalPoint.classList.contains('pointC'):// 下边点\n            $emit('updateWidgetProps', { Key: 'height', Value: height + 'px' })\n            break\n        case goalPoint.classList.contains('pointD'):\n            $emit('updateWidgetProps', { Key: ['width', 'left'], Value: [width + 'px', offsetLeft + 'px'] })\n            break\n    }\n}\nconst { mousedownEvent: resizeSeriesEvent } = useMouseGroupEvent(onResizeStart, onResizeProcess, onResizeEnd)\n\nconst rotateDate = reactive({\n    center: {\n        X: 0,\n        Y: 0\n    },\n    startDegree: 0,\n    endDegree: 0\n})\n/* 旋转的一系列事件 */\nconst onRotateStart = (downEvent: MouseEvent, oldMouseTarget?: HTMLElement) => {\n    downEvent.preventDefault()\n    // 计算物料的中心坐标，旋转角度需相对该坐标\n    let wrapperDom\n    if (oldMouseTarget) {\n        wrapperDom = oldMouseTarget.closest('.edit-wrapper') as HTMLElement\n    } else {\n        wrapperDom = (downEvent.target as HTMLElement).closest('.edit-wrapper') as HTMLElement\n    }\n    const wrapperDomRect = wrapperDom.getBoundingClientRect()\n    rotateDate.center.X = wrapperDomRect.left + wrapperDomRect.width * 1 / 2\n    rotateDate.center.Y = wrapperDomRect.top + wrapperDomRect.height * 1 / 2\n    // 一开始的点击时的角度，Math.atan2返回的是弧度，需转为角度\n    /* 采用了两个强行理解：相对坐标、变化的角度 */\n    rotateDate.startDegree = Math.atan2(downEvent.clientY - rotateDate.center.Y, downEvent.clientX - rotateDate.center.X) * (180 / Math.PI)\n}\nconst onRotateProcess = (moveEvent: MouseEvent, mouseTarget: HTMLElement) => {\n    moveEvent.preventDefault()\n    rotateDate.endDegree = Math.atan2(moveEvent.clientY - rotateDate.center.Y, moveEvent.clientX - rotateDate.center.X) * (180 / Math.PI)\n    const wrapperDom = mouseTarget.closest('.edit-wrapper') as HTMLElement\n    wrapperDom.style.rotate = Number(parseFloat(wrapperDom.style.rotate) + rotateDate.endDegree - rotateDate.startDegree) + 'deg'\n    onRotateStart(moveEvent, mouseTarget)\n}\nconst onRotateEnd = (upEvent: MouseEvent, mouseTarget: HTMLElement) => {\n    const wrapperDom = mouseTarget.closest('.edit-wrapper') as HTMLElement\n    // 结束时再影响到仓库\n    $emit('updateWidgetProps', { Key: 'rotate', Value: wrapperDom.style.rotate })\n}\nconst { mousedownEvent: rotateSeriesEvent } = useMouseGroupEvent(onRotateStart, onRotateProcess, onRotateEnd)\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconSvg = _resolveComponent(\"IconSvg\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"edit-wrapper\", { active: _ctx.isActive }]),\n    onMousedown: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_unref(moveSeriesEvent) && _unref(moveSeriesEvent)(...args)))\n  }, [\n    _renderSlot(_ctx.$slots, \"default\"),\n    _createElementVNode(\"div\", {\n      class: \"resize-point\",\n      onMousedown: _cache[0] || (_cache[0] = _withModifiers(\n//@ts-ignore\n(...args) => (_unref(resizeSeriesEvent) && _unref(resizeSeriesEvent)(...args)), [\"stop\"]))\n    }, _hoisted_9, 32),\n    _createElementVNode(\"div\", {\n      class: \"rotatePoint\",\n      onMousedown: _cache[1] || (_cache[1] = _withModifiers(\n//@ts-ignore\n(...args) => (_unref(rotateSeriesEvent) && _unref(rotateSeriesEvent)(...args)), [\"stop\"]))\n    }, [\n      _createVNode(_component_IconSvg, {\n        name: \"editor-rotate\",\n        fill: \"#f4801a\"\n      })\n    ], 32)\n  ], 34))\n}\n}\n\n})","<template>\n    <div class=\"edit-wrapper\" :class=\"{ active: isActive }\" @mousedown=\"moveSeriesEvent\">\n        <slot></slot>\n        <!-- 拖拽大小的四个点 -->\n        <div class=\"resize-point\" @mousedown.stop=\"resizeSeriesEvent\">\n            <div class=\"point1\"></div>\n            <div class=\"point2\"></div>\n            <div class=\"point3\"></div>\n            <div class=\"point4\"></div>\n            <div class=\"pointA\"></div>\n            <div class=\"pointB\"></div>\n            <div class=\"pointC\"></div>\n            <div class=\"pointD\"></div>\n        </div>\n        <!-- 旋转点 -->\n        <div class=\"rotatePoint\" @mousedown.stop=\"rotateSeriesEvent\">\n            <IconSvg name=\"editor-rotate\" fill=\"#f4801a\"></IconSvg>\n        </div>\n    </div>\n</template>\n\n<script setup lang='ts'>\nimport { reactive } from 'vue'\nimport useMouseGroupEvent from '@/hook/useMouseGroupEvent'\nimport { AllWidgetProps } from 'question-star-bricks'\nimport {\n    widgetData\n} from '@/type/store/modules/editorStore'\nimport { message } from 'ant-design-vue'\nimport { throttle } from 'lodash-es'\nimport eventBus from '@/utils/eventBus'\n\nconst $props = defineProps<{\n    widgetId: string,\n    isActive: boolean,\n}>()\n\ninterface updateWidgetPropsParams {\n    Key: keyof AllWidgetProps | string[],\n    Value: any\n}\n// eslint-disable-next-line\nconst $emit = defineEmits<{\n    (e: 'selectWidget', params: string): void,\n    (e: 'updateWidgetProps', params: updateWidgetPropsParams): void,\n    (e: 'getWidget', params: (params: widgetData) => void): void,\n}>()\n\nconst selectWidget = () => {\n    $emit('selectWidget', $props.widgetId)\n}\n\n// 计算画布区域内的x范围与y的范围\nconst computeEditorRange = () => {\n    const allowRange = new Map()\n    const editorBoxDom = document.querySelector('.middle-box') as HTMLElement\n    const editorBoxDomRect = editorBoxDom.getBoundingClientRect()\n\n    const xRange = {\n        min: editorBoxDomRect.left,\n        max: editorBoxDomRect.left + editorBoxDomRect.width\n    }\n    const yRange = {\n        min: editorBoxDomRect.top,\n        max: editorBoxDomRect.top + editorBoxDomRect.height\n    }\n    allowRange.set('X', xRange)\n    allowRange.set('Y', yRange)\n    return allowRange\n}\n\n// 处理拖拽移动、尺寸改变的鼠标移动距离\nconst moveData = reactive({\n    moveProgress: false, // 用来判断是否在移动拖拽，才能决定是否修改仓库\n    start: {\n        X: 0,\n        Y: 0\n    },\n    end: {\n        X: 0,\n        Y: 0\n    }\n})\nconst calculateDistance = (needAbs = false) => { // 得出鼠标移动的X、Y变化值\n    const distanceX = moveData.end.X - moveData.start.X\n    const distanceY = moveData.end.Y - moveData.start.Y\n    return needAbs\n        ? {\n            distanceX: Math.abs(distanceX),\n            distanceY: Math.abs(distanceY)\n        }\n        : {\n            distanceX,\n            distanceY\n        }\n}\n\nconst tipShow = throttle((context: string) => {\n    message.info(context)\n}, 3000)\n\n// 高阶函数，1.处理锁定时不要移动和修改尺寸，只能修改中间执行层即可\n//  2.不要让移动、修改尺寸的中间层到画布之外\nconst judgeLockedWrapper = (originFn) => {\n    // 自定义添加前置处理\n    const wrapperFn = (...args) => {\n        // 若元素已锁定，则不移动\n        $emit('getWidget', (params: widgetData) => {\n            try {\n                if (params.isLocked) {\n                    throw new Error('锁定')\n                }\n                // 如果移动过程到了边界，停止移动、大小改变\n                const event = args[0] as MouseEvent\n                if (computeEditorRange().get('X').min > event.clientX ||\n                    computeEditorRange().get('X').max < event.clientX ||\n                    computeEditorRange().get('Y').min > event.clientY ||\n                    computeEditorRange().get('Y').max < event.clientY\n                ) {\n                    tipShow('超出画布范围！')\n                    return\n                }\n\n                originFn(...args)\n            } catch (error) {\n                console.log('error', error)\n                tipShow('元素已锁定')\n            }\n        })\n    }\n\n    return wrapperFn\n}\n\n/* 移动、改变尺寸原理：点击时初始化记录，以及目标dom，运动过程计算动态修改目标dom，结束时将目标dom的值情况发送给仓库 */\nconst onMovestart = function (downEvent: MouseEvent) {\n    downEvent.preventDefault() // 避免了误选中文字或者默认拖拽图片和文字的默认行为\n    selectWidget()\n    moveData.start.X = downEvent.clientX\n    moveData.start.Y = downEvent.clientY\n}\nconst onMoveProcess = judgeLockedWrapper(function (moveEvent: MouseEvent, mouseTarget: HTMLElement) {\n    // console.log('onMoveProcess')\n    moveData.moveProgress = true\n    // 先考虑右下角，再考虑其它角发现没问题\n    moveData.end.X = moveEvent.clientX\n    moveData.end.Y = moveEvent.clientY\n\n    const calculateResult = calculateDistance()\n    // 锁定拖拽元素：父级wrapper，直接修改定位（需注意应该查找直接父元素wrapper）\n    const goalWrapper = (mouseTarget).closest('.edit-wrapper') as HTMLElement\n    if (goalWrapper) {\n        // const goalNodeClientRects = goalWrapper.getBoundingClientRect() //里面的偏移量是相对视口的\n        goalWrapper.style.left = (goalWrapper.offsetLeft + calculateResult.distanceX) + 'px'\n        goalWrapper.style.top = (goalWrapper.offsetTop + calculateResult.distanceY) + 'px'\n    }\n\n    // console.log('移动x', goalWrapper.style.left)\n    // console.log('移动y', goalWrapper.style.top)\n\n    // 标线显示与吸附\n    eventBus.emit('moveWidget', {\n        widgetWrapper: goalWrapper,\n        moveProgress: true,\n        calculateResult: calculateResult\n    })\n\n    // 每计算移动一次，初始的坐标就得改\n    onMovestart(moveEvent)\n})\nconst onMoveEnd = function (upEvent: MouseEvent, mouseTarget: HTMLElement) {\n    // console.log('onMoveEnd')\n    if (!moveData.moveProgress) { // 修复点击即移动\n        return\n    }\n    const goalWrapper = (mouseTarget).closest('.edit-wrapper') as HTMLElement\n    // 发送仓库，持久化修改\n    $emit('updateWidgetProps', { Key: ['left', 'top'], Value: [goalWrapper.style.left, goalWrapper.style.top] })\n\n    moveData.moveProgress = false\n    eventBus.emit('moveWidget', {\n        widgetWrapper: goalWrapper,\n        moveProgress: false\n    })\n}\n\n// 将鼠标按下、移动、抬起一系列事件挂载成一个函数\nconst { mousedownEvent: moveSeriesEvent } = useMouseGroupEvent(onMovestart, onMoveProcess, onMoveEnd)\n\n// 处理拖拽大小\nconst onResizeStart = function (downEvent: MouseEvent) {\n    downEvent.preventDefault()\n    // 判断是点击哪个方向, 核心依然是先知道鼠标移动距离\n    selectWidget()\n    moveData.start.X = downEvent.clientX\n    moveData.start.Y = downEvent.clientY\n    /* 如果元素开启了缩放，需关闭缩放，不然会有问题 */\n    $emit('getWidget', (params: widgetData) => {\n        if (params.props.scale !== 1) {\n            $emit('updateWidgetProps', { Key: 'scale', Value: 1 })\n        }\n        if (params.props.rotate !== '0deg') {\n            $emit('updateWidgetProps', { Key: 'rotate', Value: '0deg' })\n        }\n    })\n}\nconst onResizeProcess = judgeLockedWrapper(function (moveEvent: MouseEvent, mouseTarget: HTMLElement) {\n    moveData.moveProgress = true\n    moveData.end.X = moveEvent.clientX\n    moveData.end.Y = moveEvent.clientY\n    const { distanceX, distanceY } = calculateDistance() // 不使用绝对值能适应距离变化\n\n    // const goalPoint = moveEvent.target as HTMLElement\n    const goalPoint = mouseTarget\n    const goalWrapper = goalPoint.closest('.edit-wrapper') as HTMLElement\n    const goalWidget = goalPoint.closest('.edit-wrapper')?.firstElementChild as HTMLElement\n    /*\n       这里没有修改仓库，而是先考虑在视觉层面上\n       注意宽高不应该修改在wrapper层，而是物料本身\n       而偏移量应该修改在wrapper层\n       */\n    const goalWidgetRect = goalWidget.getBoundingClientRect() // getBoundingClientRect获取的宽高，不包括边框\n    switch (true) {\n        case goalPoint.classList.contains('point1'):\n            goalWidget.style.width = (goalWidgetRect.width - distanceX) + 'px'\n            goalWidget.style.height = (goalWidgetRect.height - distanceY) + 'px'\n            goalWrapper.style.top = (goalWrapper.offsetTop + distanceY) + 'px'\n            goalWrapper.style.left = (goalWrapper.offsetLeft + distanceX) + 'px'\n            break\n        case goalPoint.classList.contains('point2'):// 右上角，影响宽高、top\n            goalWidget.style.width = (goalWidgetRect.width + distanceX) + 'px'\n            // 如果Y是增加的，高只会减小； Y是减小的，高只会增加\n            goalWidget.style.height = (goalWidgetRect.height - distanceY) + 'px'\n            // top与Y的偏移正相关\n            goalWrapper.style.top = (goalWrapper.offsetTop + distanceY) + 'px'\n            break\n        case goalPoint.classList.contains('point3'): // 左下角, 影响宽高、left\n            goalWidget.style.width = (goalWidgetRect.width - distanceX) + 'px'\n            goalWidget.style.height = (goalWidgetRect.height + distanceY) + 'px'\n            goalWrapper.style.left = (goalWrapper.offsetLeft + distanceX) + 'px'\n            break\n        case goalPoint.classList.contains('point4'):// 右下角，影响宽高\n            goalWidget.style.width = (goalWidgetRect.width + distanceX) + 'px'\n            goalWidget.style.height = (goalWidgetRect.height + distanceY) + 'px'\n            break\n\n        // 上边点，影响高、top\n        case goalPoint.classList.contains('pointA'):\n            goalWidget.style.height = (goalWidgetRect.height - distanceY) + 'px'\n            goalWrapper.style.top = (goalWrapper.offsetTop + distanceY) + 'px'\n            break\n\n        // 右边点，影响宽\n        case goalPoint.classList.contains('pointB'):\n            goalWidget.style.width = (goalWidgetRect.width + distanceX) + 'px'\n            break\n\n        // 下边点，影响高\n        case goalPoint.classList.contains('pointC'):\n            goalWidget.style.height = (goalWidgetRect.height + distanceY) + 'px'\n            break\n\n        // 左边点，影响宽、left\n        case goalPoint.classList.contains('pointD'):\n            goalWidget.style.width = (goalWidgetRect.width - distanceX) + 'px'\n            goalWrapper.style.left = (goalWrapper.offsetLeft + distanceX) + 'px'\n            break\n    }\n    onMovestart(moveEvent)\n})\nconst onResizeEnd = function (upEvent: MouseEvent, mouseTarget: HTMLElement) {\n    // const goalPoint = upEvent.target as HTMLElement\n    const goalPoint = mouseTarget\n    const goalWrapper = goalPoint.closest('.edit-wrapper') as HTMLElement\n    const goalWidget = goalPoint.closest('.edit-wrapper')?.firstElementChild as HTMLElement\n    const goalWidgetRect = goalWidget.getBoundingClientRect()\n\n    // 修改仓库对应的物料宽高\n    // $emit('updateWidgetProps', { Key: 'width', Value: goalWidgetRect.width + 'px' })\n    // $emit('updateWidgetProps', { Key: 'height', Value: goalWidgetRect.height + 'px' })\n\n    const { width, height } = goalWidgetRect\n    const { offsetTop, offsetLeft } = goalWrapper\n\n    // console.log('断点1', width)\n    // console.log('断点2', height)\n\n    switch (true) {\n        case goalPoint.classList.contains('point1'):\n            $emit('updateWidgetProps', { Key: ['width', 'height', 'top', 'left'], Value: [width + 'px', height + 'px', offsetTop + 'px', offsetLeft + 'px'] })\n            break\n        case goalPoint.classList.contains('point2'):// 右上角\n            $emit('updateWidgetProps', { Key: ['width', 'height', 'top'], Value: [width + 'px', height + 'px', offsetTop + 'px'] })\n            break\n        case goalPoint.classList.contains('point3'):\n            $emit('updateWidgetProps', { Key: ['width', 'height', 'left'], Value: [width + 'px', height + 'px', offsetLeft + 'px'] })\n            break\n        case goalPoint.classList.contains('point4'):// 右下角\n            $emit('updateWidgetProps', { Key: ['width', 'height'], Value: [width + 'px', height + 'px'] })\n            break\n\n        case goalPoint.classList.contains('pointA'):\n            $emit('updateWidgetProps', { Key: ['height', 'top'], Value: [height + 'px', offsetTop + 'px'] })\n            break\n        case goalPoint.classList.contains('pointB'):// 右边点\n            $emit('updateWidgetProps', { Key: 'width', Value: width + 'px' })\n            break\n        case goalPoint.classList.contains('pointC'):// 下边点\n            $emit('updateWidgetProps', { Key: 'height', Value: height + 'px' })\n            break\n        case goalPoint.classList.contains('pointD'):\n            $emit('updateWidgetProps', { Key: ['width', 'left'], Value: [width + 'px', offsetLeft + 'px'] })\n            break\n    }\n}\nconst { mousedownEvent: resizeSeriesEvent } = useMouseGroupEvent(onResizeStart, onResizeProcess, onResizeEnd)\n\nconst rotateDate = reactive({\n    center: {\n        X: 0,\n        Y: 0\n    },\n    startDegree: 0,\n    endDegree: 0\n})\n/* 旋转的一系列事件 */\nconst onRotateStart = (downEvent: MouseEvent, oldMouseTarget?: HTMLElement) => {\n    downEvent.preventDefault()\n    // 计算物料的中心坐标，旋转角度需相对该坐标\n    let wrapperDom\n    if (oldMouseTarget) {\n        wrapperDom = oldMouseTarget.closest('.edit-wrapper') as HTMLElement\n    } else {\n        wrapperDom = (downEvent.target as HTMLElement).closest('.edit-wrapper') as HTMLElement\n    }\n    const wrapperDomRect = wrapperDom.getBoundingClientRect()\n    rotateDate.center.X = wrapperDomRect.left + wrapperDomRect.width * 1 / 2\n    rotateDate.center.Y = wrapperDomRect.top + wrapperDomRect.height * 1 / 2\n    // 一开始的点击时的角度，Math.atan2返回的是弧度，需转为角度\n    /* 采用了两个强行理解：相对坐标、变化的角度 */\n    rotateDate.startDegree = Math.atan2(downEvent.clientY - rotateDate.center.Y, downEvent.clientX - rotateDate.center.X) * (180 / Math.PI)\n}\nconst onRotateProcess = (moveEvent: MouseEvent, mouseTarget: HTMLElement) => {\n    moveEvent.preventDefault()\n    rotateDate.endDegree = Math.atan2(moveEvent.clientY - rotateDate.center.Y, moveEvent.clientX - rotateDate.center.X) * (180 / Math.PI)\n    const wrapperDom = mouseTarget.closest('.edit-wrapper') as HTMLElement\n    wrapperDom.style.rotate = Number(parseFloat(wrapperDom.style.rotate) + rotateDate.endDegree - rotateDate.startDegree) + 'deg'\n    onRotateStart(moveEvent, mouseTarget)\n}\nconst onRotateEnd = (upEvent: MouseEvent, mouseTarget: HTMLElement) => {\n    const wrapperDom = mouseTarget.closest('.edit-wrapper') as HTMLElement\n    // 结束时再影响到仓库\n    $emit('updateWidgetProps', { Key: 'rotate', Value: wrapperDom.style.rotate })\n}\nconst { mousedownEvent: rotateSeriesEvent } = useMouseGroupEvent(onRotateStart, onRotateProcess, onRotateEnd)\n\n</script>\n\n<style scoped lang='scss'>\n.edit-wrapper {\n    cursor: pointer;\n    // border: 1px solid transparent;\n\n    .rotatePoint {\n        display: none;\n    }\n\n    .resize-point {\n        display: none;\n\n        div[class^=\"point\"] {\n            position: absolute;\n            width: 7px;\n            height: 7px;\n            border: 1px solid $theme_color;\n            border-radius: 50%;\n            background: white;\n        }\n\n        .point1 {\n            top: 0;\n            left: 0;\n            transform: translateX(-50%) translateY(-50%);\n            cursor: nwse-resize;\n        }\n\n        .point2 {\n            top: 0;\n            right: 0;\n            transform: translateX(50%) translateY(-50%);\n            cursor: nesw-resize;\n        }\n\n        .point3 {\n            bottom: 0;\n            left: 0;\n            transform: translateX(-50%) translateY(50%);\n            cursor: nesw-resize;\n        }\n\n        .point4 {\n            bottom: 0;\n            right: 0;\n            transform: translateX(50%) translateY(50%);\n            cursor: nwse-resize;\n        }\n\n        @mixin transformPoint {\n            transform: translateX(-50%) translateY(-50%);\n        }\n\n        .pointA {\n            top: 0;\n            left: 50%;\n            @include transformPoint();\n            cursor: n-resize;\n        }\n\n        .pointB {\n            top: 50%;\n            left: 100%;\n            @include transformPoint();\n            cursor: w-resize;\n        }\n\n        .pointC {\n            left: 50%;\n            top: 100%;\n            @include transformPoint();\n            cursor: n-resize;\n        }\n\n        .pointD {\n            top: 50%;\n            left: 0;\n            @include transformPoint();\n            cursor: w-resize;\n        }\n\n    }\n\n    .rotatePoint {\n        position: absolute;\n        left: 50%;\n        top: -15px;\n        transform: translateX(-50%) translateY(-50%);\n        font-size: 23px;\n        cursor: grab;\n    }\n\n    &.active {\n        border: 1px solid $theme_color;\n\n        .resize-point {\n            display: block;\n        }\n\n        .rotatePoint {\n            display: block;\n        }\n\n    }\n\n}\n</style>\n","import script from \"./edit-wrapper.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./edit-wrapper.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./edit-wrapper.vue?vue&type=style&index=0&id=31a81430&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.4.38_vue@3.4.38_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-31a81430\"]])\n\nexport default __exports__","<template>\n    <div class=\"grid\" id=\"grid-line\">\n        <svg width=\"100%\" height=\"100%\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n                <pattern id=\"smallGrid\" width=\"7.236328125\" height=\"7.236328125\" patternUnits=\"userSpaceOnUse\">\n                    <path d=\"M 7.236328125 0 L 0 0 0 7.236328125\" fill=\"none\" stroke=\"rgba(207, 207, 207, 0.3)\"\n                        stroke-width=\"1\">\n                    </path>\n                </pattern>\n                <pattern id=\"grid\" width=\"36.181640625\" height=\"36.181640625\" patternUnits=\"userSpaceOnUse\">\n                    <rect width=\"36.181640625\" height=\"36.181640625\" fill=\"url(#smallGrid)\"></rect>\n                    <path d=\"M 36.181640625 0 L 0 0 0 36.181640625\" fill=\"none\" stroke=\"rgba(186, 186, 186, 0.5)\"\n                        stroke-width=\"1\">\n                    </path>\n                </pattern>\n            </defs>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\"></rect>\n        </svg>\n    </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.grid {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\nsvg {\n    vertical-align: bottom;\n}\n</style>\n","import { render } from \"./grid-line.vue?vue&type=template&id=11b12fb9&scoped=true\"\nconst script = {}\n\nimport \"./grid-line.vue?vue&type=style&index=0&id=11b12fb9&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.4.38_vue@3.4.38_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-11b12fb9\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-2d31db0f\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"stickLine\" }\nconst _hoisted_2 = [\"id\"]\n\nimport { reactive, ref } from 'vue'\nimport eventBus from '@/utils/eventBus'\nimport { useStore } from '@/store/index'\nimport { widgetData } from '@/type/store/modules/editorStore'\n// import { throttle, debounce } from 'lodash-es'\n\nconst diff = 12\n\ninterface AxisData {\n    xt: number,\n    xc: number,\n    xb: number,\n    yl: number,\n    yc: number,\n    yr: number\n}\n\ntype CalculateResult = {\n    distanceX: number,\n    distanceY: number\n}\ntype Params = {\n    widgetWrapper: HTMLElement,\n    moveProgress: boolean,\n    calculateResult: CalculateResult\n}\n\ntype widgetAxisData = {\n    id: string,\n    axisData: AxisData\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'stickLine',\n  setup(__props) {\n\nconst $store = useStore()\n\nconst lines = reactive({\n    xt: false,\n    xc: false,\n    xb: false,\n    yl: false,\n    yc: false,\n    yr: false\n})\nconst moveWidgetDistance = reactive<AxisData>({\n    xt: 0,\n    xc: 0,\n    xb: 0,\n    yl: 0,\n    yc: 0,\n    yr: 0\n})\n// 有线的时候吸附一次\nconst openAdsorb = reactive({\n    xt: true,\n    xc: true,\n    xb: true,\n    yl: true,\n    yc: true,\n    yr: true\n})\nconst editorAxis = reactive({\n    top: 0,\n    left: 0\n})\n\nconst calculateResult = ref<CalculateResult>({\n    distanceX: 0,\n    distanceY: 0\n})\n\n// @ts-ignore\neventBus.on('moveWidget', (params: Params) => {\n    /*  如果元素没在移动，不显示标线、也不贴边处理;\n 如果元素在移动，判断所有的物料的六个线，哪些在贴边距离的范围内，显示标线再吸附。 */\n    if (params.moveProgress) {\n        const widgetWrapper = params.widgetWrapper\n        setEditorAxis(widgetWrapper)\n        setMoveWidgetData(widgetWrapper)\n        handleAllWidgetStickLine()\n        calculateResult.value = params.calculateResult\n    } else {\n        // 隐藏所有标线\n        for (const key in lines) {\n            lines[key] = false\n        }\n    }\n})\n\nconst setEditorAxis = (widgetWrapper: HTMLElement) => {\n    const editorDom = widgetWrapper.closest('.middle-box') as HTMLElement\n    const editorDomRect = editorDom.getBoundingClientRect()\n    editorAxis.top = editorDomRect.top\n    editorAxis.left = editorDomRect.left\n}\nconst setMoveWidgetData = (widgetWrapper: HTMLElement) => {\n    // 将当前动态移动的物料6个边界存储起来\n    const widgetWrapperRect = widgetWrapper.getBoundingClientRect()\n    moveWidgetDistance.xt = widgetWrapper.offsetTop\n    moveWidgetDistance.xc = widgetWrapper.offsetTop + widgetWrapperRect.height * 1 / 2\n    moveWidgetDistance.xb = widgetWrapper.offsetTop + widgetWrapperRect.height\n    moveWidgetDistance.yl = widgetWrapper.offsetLeft\n    moveWidgetDistance.yc = widgetWrapper.offsetLeft + widgetWrapperRect.width * 1 / 2\n    moveWidgetDistance.yr = widgetWrapper.offsetLeft + widgetWrapperRect.width\n}\n\nconst handleAllWidgetStickLine = async () => {\n    // 将所有物料的每个物料的6个边界，存起来，以做判断\n    const components = $store.state.editorStore.components\n    const widgetAxisArr: widgetAxisData[] = [] as widgetAxisData[]\n    components.forEach((component: widgetData) => {\n        if (component.id === $store.state.editorStore.currentComponent) {\n            return\n        }\n        const WidgetDom = document.getElementById(component.id!) as HTMLElement\n        const WidgetDomWrapper = WidgetDom.closest('.edit-wrapper') as HTMLElement\n        const WidgetDomWrapperRect = WidgetDomWrapper.getBoundingClientRect()\n\n        const temp: AxisData = {\n            xt: WidgetDomWrapper.offsetTop,\n            xc: WidgetDomWrapper.offsetTop + WidgetDomWrapperRect.height * 1 / 2,\n            xb: WidgetDomWrapper.offsetTop + WidgetDomWrapperRect.height,\n            yl: WidgetDomWrapper.offsetLeft,\n            yc: WidgetDomWrapper.offsetLeft + WidgetDomWrapperRect.width * 1 / 2,\n            yr: WidgetDomWrapper.offsetLeft + WidgetDomWrapperRect.width\n        }\n        widgetAxisArr.push({\n            id: component.id!,\n            axisData: temp\n        })\n    })\n    // console.log('结果数组', widgetAxisArr)\n    onShowLines(widgetAxisArr)\n}\n\nconst onShowLines = (widgetAxisArr: widgetAxisData[]) => {\n    // 当前物料的六线逐个与所有物料的六线对比，默认将六线与当前移动物料对齐，判断到吸附范围，再做两步，吸附和显示对应的线即可\n    for (const key in moveWidgetDistance) {\n        // 当前物料的一条线，如果数组中有一个数值在吸附范围，则显示该线并吸附\n        // if (!key.includes('y')) {\n        //     continue\n        // }\n        let valuesArr: number[] = []\n        widgetAxisArr.forEach((widgetAxis: widgetAxisData) => {\n            let values: number[]\n            if (key.includes('x')) {\n                values = Object.values(widgetAxis.axisData).slice(0, 3)\n            } else {\n                values = Object.values(widgetAxis.axisData).slice(3)\n            }\n            valuesArr = [...valuesArr, ...values]\n        })\n\n        // 如果在该方向存在一个值在吸附范围\n        const showLineResult = valuesArr.find((value) => {\n            // return !lines[key] && (moveWidgetDistance[key] <= value + diff) && (moveWidgetDistance[key] >= value - diff)\n            return !lines[key] && (Math.abs(moveWidgetDistance[key] - value) <= diff)\n        })\n        if (showLineResult) {\n            // 显示标线\n            lines[key] = true\n            // console.log('显示标线')\n            // 吸附\n            onAdsorb(key, showLineResult)\n        } else {\n            // 该方向的线没有一个值在吸附范围\n            lines[key] = false\n        }\n    }\n}\n\nconst onAdsorb = async (key: string, absorbValue: number) => {\n    const currentComponentDom = $store.getters['editorStore/selectWidgetDom'] as HTMLElement\n    const currentComponentDomRect = currentComponentDom.getBoundingClientRect()\n    const currentComponentDomWrapper = currentComponentDom.closest('.edit-wrapper') as HTMLElement\n    // 需分方向，解决一个方向移动时，多个方向都触发吸附\n    if (openAdsorb[key]) {\n        if (key.includes('xt') && calculateResult.value.distanceY < 0) {\n            currentComponentDomWrapper.style.top = absorbValue + 'px'\n            tempFn(key)\n        }\n        if (key.includes('xb') && calculateResult.value.distanceY > 0) {\n            currentComponentDomWrapper.style.top = absorbValue - currentComponentDomRect.height + 'px'\n            tempFn(key)\n        }\n        if (key.includes('yl') && calculateResult.value.distanceX < 0) {\n            currentComponentDomWrapper.style.left = absorbValue + 'px'\n            tempFn(key)\n        }\n        if (key.includes('yr') && calculateResult.value.distanceY > 0) {\n            currentComponentDomWrapper.style.left = absorbValue - currentComponentDomRect.width + 'px'\n            tempFn(key)\n        }\n    }\n}\n\nconst tempFn = (key: string) => {\n    openAdsorb[key] = false // 吸附一次后，过一会再开启\n    setTimeout(() => {\n        openAdsorb[key] = true\n    }, 800)\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(lines, (value, key) => {\n      return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        key: key,\n        class: _normalizeClass([\"line\", key.includes('x') ? 'xline' : 'yline']),\n        id: key,\n        style: _normalizeStyle(key.includes('x') ? { top: moveWidgetDistance[key] + 'px', left: 0 } : { top: 0, left: moveWidgetDistance[key] + 'px' })\n      }, null, 14, _hoisted_2)), [\n        [_vShow, value]\n      ])\n    }), 128))\n  ]))\n}\n}\n\n})","<template>\n    <div class=\"stickLine\">\n        <template v-for=\"(value, key) in lines\" :key=\"key\">\n            <div class=\"line\" :class=\"key.includes('x') ? 'xline' : 'yline'\" v-show=\"value\" :id=\"key\"\n                :style=\"key.includes('x') ? { top: moveWidgetDistance[key] + 'px', left: 0 } : { top: 0, left: moveWidgetDistance[key] + 'px' }\">\n            </div>\n        </template>\n        <!-- <pre>\n    {{ moveWidgetDistance.yl }}\n    {{ moveWidgetDistance.yc }}\n    {{ moveWidgetDistance.yr }}\n</pre>\n        <pre>\n    {{ lines }}\n</pre> -->\n    </div>\n\n</template>\n\n<script setup lang='ts'>\nimport { reactive, ref } from 'vue'\nimport eventBus from '@/utils/eventBus'\nimport { useStore } from '@/store/index'\nimport { widgetData } from '@/type/store/modules/editorStore'\n// import { throttle, debounce } from 'lodash-es'\n\nconst $store = useStore()\n\nconst lines = reactive({\n    xt: false,\n    xc: false,\n    xb: false,\n    yl: false,\n    yc: false,\n    yr: false\n})\nconst diff = 12\n\ninterface AxisData {\n    xt: number,\n    xc: number,\n    xb: number,\n    yl: number,\n    yc: number,\n    yr: number\n}\n\nconst moveWidgetDistance = reactive<AxisData>({\n    xt: 0,\n    xc: 0,\n    xb: 0,\n    yl: 0,\n    yc: 0,\n    yr: 0\n})\n// 有线的时候吸附一次\nconst openAdsorb = reactive({\n    xt: true,\n    xc: true,\n    xb: true,\n    yl: true,\n    yc: true,\n    yr: true\n})\nconst editorAxis = reactive({\n    top: 0,\n    left: 0\n})\n\ntype CalculateResult = {\n    distanceX: number,\n    distanceY: number\n}\ntype Params = {\n    widgetWrapper: HTMLElement,\n    moveProgress: boolean,\n    calculateResult: CalculateResult\n}\n\nconst calculateResult = ref<CalculateResult>({\n    distanceX: 0,\n    distanceY: 0\n})\n\n// @ts-ignore\neventBus.on('moveWidget', (params: Params) => {\n    /*  如果元素没在移动，不显示标线、也不贴边处理;\n 如果元素在移动，判断所有的物料的六个线，哪些在贴边距离的范围内，显示标线再吸附。 */\n    if (params.moveProgress) {\n        const widgetWrapper = params.widgetWrapper\n        setEditorAxis(widgetWrapper)\n        setMoveWidgetData(widgetWrapper)\n        handleAllWidgetStickLine()\n        calculateResult.value = params.calculateResult\n    } else {\n        // 隐藏所有标线\n        for (const key in lines) {\n            lines[key] = false\n        }\n    }\n})\n\nconst setEditorAxis = (widgetWrapper: HTMLElement) => {\n    const editorDom = widgetWrapper.closest('.middle-box') as HTMLElement\n    const editorDomRect = editorDom.getBoundingClientRect()\n    editorAxis.top = editorDomRect.top\n    editorAxis.left = editorDomRect.left\n}\nconst setMoveWidgetData = (widgetWrapper: HTMLElement) => {\n    // 将当前动态移动的物料6个边界存储起来\n    const widgetWrapperRect = widgetWrapper.getBoundingClientRect()\n    moveWidgetDistance.xt = widgetWrapper.offsetTop\n    moveWidgetDistance.xc = widgetWrapper.offsetTop + widgetWrapperRect.height * 1 / 2\n    moveWidgetDistance.xb = widgetWrapper.offsetTop + widgetWrapperRect.height\n    moveWidgetDistance.yl = widgetWrapper.offsetLeft\n    moveWidgetDistance.yc = widgetWrapper.offsetLeft + widgetWrapperRect.width * 1 / 2\n    moveWidgetDistance.yr = widgetWrapper.offsetLeft + widgetWrapperRect.width\n}\n\ntype widgetAxisData = {\n    id: string,\n    axisData: AxisData\n}\nconst handleAllWidgetStickLine = async () => {\n    // 将所有物料的每个物料的6个边界，存起来，以做判断\n    const components = $store.state.editorStore.components\n    const widgetAxisArr: widgetAxisData[] = [] as widgetAxisData[]\n    components.forEach((component: widgetData) => {\n        if (component.id === $store.state.editorStore.currentComponent) {\n            return\n        }\n        const WidgetDom = document.getElementById(component.id!) as HTMLElement\n        const WidgetDomWrapper = WidgetDom.closest('.edit-wrapper') as HTMLElement\n        const WidgetDomWrapperRect = WidgetDomWrapper.getBoundingClientRect()\n\n        const temp: AxisData = {\n            xt: WidgetDomWrapper.offsetTop,\n            xc: WidgetDomWrapper.offsetTop + WidgetDomWrapperRect.height * 1 / 2,\n            xb: WidgetDomWrapper.offsetTop + WidgetDomWrapperRect.height,\n            yl: WidgetDomWrapper.offsetLeft,\n            yc: WidgetDomWrapper.offsetLeft + WidgetDomWrapperRect.width * 1 / 2,\n            yr: WidgetDomWrapper.offsetLeft + WidgetDomWrapperRect.width\n        }\n        widgetAxisArr.push({\n            id: component.id!,\n            axisData: temp\n        })\n    })\n    // console.log('结果数组', widgetAxisArr)\n    onShowLines(widgetAxisArr)\n}\n\nconst onShowLines = (widgetAxisArr: widgetAxisData[]) => {\n    // 当前物料的六线逐个与所有物料的六线对比，默认将六线与当前移动物料对齐，判断到吸附范围，再做两步，吸附和显示对应的线即可\n    for (const key in moveWidgetDistance) {\n        // 当前物料的一条线，如果数组中有一个数值在吸附范围，则显示该线并吸附\n        // if (!key.includes('y')) {\n        //     continue\n        // }\n        let valuesArr: number[] = []\n        widgetAxisArr.forEach((widgetAxis: widgetAxisData) => {\n            let values: number[]\n            if (key.includes('x')) {\n                values = Object.values(widgetAxis.axisData).slice(0, 3)\n            } else {\n                values = Object.values(widgetAxis.axisData).slice(3)\n            }\n            valuesArr = [...valuesArr, ...values]\n        })\n\n        // 如果在该方向存在一个值在吸附范围\n        const showLineResult = valuesArr.find((value) => {\n            // return !lines[key] && (moveWidgetDistance[key] <= value + diff) && (moveWidgetDistance[key] >= value - diff)\n            return !lines[key] && (Math.abs(moveWidgetDistance[key] - value) <= diff)\n        })\n        if (showLineResult) {\n            // 显示标线\n            lines[key] = true\n            // console.log('显示标线')\n            // 吸附\n            onAdsorb(key, showLineResult)\n        } else {\n            // 该方向的线没有一个值在吸附范围\n            lines[key] = false\n        }\n    }\n}\n\nconst onAdsorb = async (key: string, absorbValue: number) => {\n    const currentComponentDom = $store.getters['editorStore/selectWidgetDom'] as HTMLElement\n    const currentComponentDomRect = currentComponentDom.getBoundingClientRect()\n    const currentComponentDomWrapper = currentComponentDom.closest('.edit-wrapper') as HTMLElement\n    // 需分方向，解决一个方向移动时，多个方向都触发吸附\n    if (openAdsorb[key]) {\n        if (key.includes('xt') && calculateResult.value.distanceY < 0) {\n            currentComponentDomWrapper.style.top = absorbValue + 'px'\n            tempFn(key)\n        }\n        if (key.includes('xb') && calculateResult.value.distanceY > 0) {\n            currentComponentDomWrapper.style.top = absorbValue - currentComponentDomRect.height + 'px'\n            tempFn(key)\n        }\n        if (key.includes('yl') && calculateResult.value.distanceX < 0) {\n            currentComponentDomWrapper.style.left = absorbValue + 'px'\n            tempFn(key)\n        }\n        if (key.includes('yr') && calculateResult.value.distanceY > 0) {\n            currentComponentDomWrapper.style.left = absorbValue - currentComponentDomRect.width + 'px'\n            tempFn(key)\n        }\n    }\n}\n\nconst tempFn = (key: string) => {\n    openAdsorb[key] = false // 吸附一次后，过一会再开启\n    setTimeout(() => {\n        openAdsorb[key] = true\n    }, 800)\n}\n\n</script>\n\n<style scoped lang='scss'>\n.stickLine {\n    position: relative;\n    width: 100%;\n    height: 100%;\n\n    .line {\n        position: absolute;\n        background-color: #f4801ad2;\n    }\n\n    .xline {\n        width: 100%;\n        height: 1px;\n    }\n\n    .yline {\n        height: 100%;\n        width: 1px;\n    }\n}\n</style>\n","import script from \"./stickLine.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./stickLine.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./stickLine.vue?vue&type=style&index=0&id=2d31db0f&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.4.38_vue@3.4.38_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2d31db0f\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, mergeProps as _mergeProps, normalizeStyle as _normalizeStyle, withCtx as _withCtx } from \"vue\"\n\nimport { computed, ref, StyleValue } from 'vue'\nimport { useStore } from '@/store/index' // 采用重写后的useStore方法\nimport editWrapper from './components/edit-wrapper.vue'\nimport type { AllWidgetProps } from 'question-star-bricks'\nimport { parentWrapperStyleKeys } from 'question-star-bricks'\nimport { pick } from 'lodash-es'\nimport gridLine from './components/grid-line.vue'\nimport stickLine from './components/stickLine.vue'\nimport {\n    widgetData\n} from '@/type/store/modules/editorStore'\nimport useDragWidget from '@/hook/useDragWidget'\n\ninterface updateWidgetPropsParams {\n    Key: keyof AllWidgetProps | string[],\n    Value: any\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'middle-region',\n  setup(__props) {\n\nconst $store = useStore()\nconst EditWrapper = ref()\nconst { ondragover, ondrop } = useDragWidget()\n\n// 用于判断鼠标是否在画布之外，引入新bug\n// const { isOutside } = useMouseInElement(editorBox)\n\nconst widgetComponents = computed(() => {\n    return $store.state.editorStore.components\n})\n\n/* 注意，直接给行内样式赋值，无论是key或者value有一个不合法，都不会使用该属性，调试也看不到 */\nconst pageStyle = computed(() => {\n    return {\n        ...$store.state.editorStore.page.props,\n        'background-image': $store.state.editorStore.page.props['background-image']\n            ? `url(${$store.state.editorStore.page.props['background-image']})`\n            : ''\n        // 修复url(undefined)的请求404问题\n    } as StyleValue\n})\n\nconst getParentWrapperStyle = (widgetsOwnProps: Partial<AllWidgetProps>) => {\n    return pick(widgetsOwnProps, parentWrapperStyleKeys)\n}\n\nconst selectWidget = (id: string) => {\n    $store.commit('editorStore/selectWidget', id)\n}\nconst getWidget = (fn: (params: widgetData) => void) => {\n    fn($store.getters['editorStore/selectedWidget'])\n}\n\nconst updateWidgetProps = ({ Key, Value }: updateWidgetPropsParams) => {\n    $store.commit('editorStore/updateWidget', {\n        changeKey: Key,\n        changeValue: Value,\n        changeType: 'widgetProps'\n    })\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"middle-box\",\n    style: _normalizeStyle(pageStyle.value),\n    onDragover: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_unref(ondragover) && _unref(ondragover)(...args))),\n    onDrop: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_unref(ondrop) && _unref(ondrop)(...args)))\n  }, [\n    (_unref($store).state.editorStore.openGridLine)\n      ? (_openBlock(), _createBlock(gridLine, { key: 0 }))\n      : _createCommentVNode(\"\", true),\n    _createVNode(stickLine),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(widgetComponents.value, (item, index) => {\n      return (_openBlock(), _createBlock(editWrapper, {\n        ref_for: true,\n        ref_key: \"EditWrapper\",\n        ref: EditWrapper,\n        key: item.id,\n        widgetId: item.id!,\n        onSelectWidget: selectWidget,\n        onUpdateWidgetProps: updateWidgetProps,\n        onGetWidget: getWidget,\n        isActive: item.id == _unref($store).state.editorStore.currentComponent && !item.isHidden,\n        style: _normalizeStyle({ ...getParentWrapperStyle(item.props), 'z-index': index })\n      }, {\n        default: _withCtx(() => [\n          (!item.isHidden)\n            ? (_openBlock(), _createBlock(_resolveDynamicComponent(item.name), _mergeProps({\n                key: 0,\n                ref_for: true\n              }, { ...item.props, widgetTitle: item.title }, {\n                id: item.id\n              }), null, 16, [\"id\"]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 2\n      }, 1032, [\"widgetId\", \"isActive\", \"style\"]))\n    }), 128))\n  ], 36))\n}\n}\n\n})","<template>\n    <div class=\"middle-box\" :style=\"pageStyle\" @dragover=\"ondragover\" @drop=\"ondrop\">\n        <!-- 网格线  -->\n        <gridLine v-if=\"$store.state.editorStore.openGridLine\"></gridLine>\n\n        <!-- 贴线与吸附功能 -->\n        <stickLine></stickLine>\n\n        <!-- 定位相关样式同时也挂载到父包裹层 -->\n        <editWrapper ref=\"EditWrapper\" v-for=\"(item, index) in widgetComponents\" :key=\"item.id\" :widgetId=\"item.id!\"\n            @selectWidget=\"selectWidget\" @updateWidgetProps=\"updateWidgetProps\" @getWidget=\"getWidget\"\n            :isActive=\"item.id == $store.state.editorStore.currentComponent && !item.isHidden\"\n            :style=\"{ ...getParentWrapperStyle(item.props), 'z-index': index }\">\n            <template v-if=\"!item.isHidden\">\n                <!--widgetTitle、id挂载后都是props直接子属性-->\n                <component :is=\"item.name\" v-bind=\"{ ...item.props, widgetTitle: item.title }\" :id=\"item.id\">\n                </component>\n            </template>\n        </editWrapper>\n    </div>\n    <!-- {{ $store.state.editorStore.page.props }} -->\n</template>\n\n<script setup lang='ts'>\nimport { computed, ref, StyleValue } from 'vue'\nimport { useStore } from '@/store/index' // 采用重写后的useStore方法\nimport editWrapper from './components/edit-wrapper.vue'\nimport type { AllWidgetProps } from 'question-star-bricks'\nimport { parentWrapperStyleKeys } from 'question-star-bricks'\nimport { pick } from 'lodash-es'\nimport gridLine from './components/grid-line.vue'\nimport stickLine from './components/stickLine.vue'\nimport {\n    widgetData\n} from '@/type/store/modules/editorStore'\nimport useDragWidget from '@/hook/useDragWidget'\n\nconst $store = useStore()\nconst EditWrapper = ref()\nconst { ondragover, ondrop } = useDragWidget()\n\n// 用于判断鼠标是否在画布之外，引入新bug\n// const { isOutside } = useMouseInElement(editorBox)\n\nconst widgetComponents = computed(() => {\n    return $store.state.editorStore.components\n})\n\n/* 注意，直接给行内样式赋值，无论是key或者value有一个不合法，都不会使用该属性，调试也看不到 */\nconst pageStyle = computed(() => {\n    return {\n        ...$store.state.editorStore.page.props,\n        'background-image': $store.state.editorStore.page.props['background-image']\n            ? `url(${$store.state.editorStore.page.props['background-image']})`\n            : ''\n        // 修复url(undefined)的请求404问题\n    } as StyleValue\n})\n\nconst getParentWrapperStyle = (widgetsOwnProps: Partial<AllWidgetProps>) => {\n    return pick(widgetsOwnProps, parentWrapperStyleKeys)\n}\n\nconst selectWidget = (id: string) => {\n    $store.commit('editorStore/selectWidget', id)\n}\nconst getWidget = (fn: (params: widgetData) => void) => {\n    fn($store.getters['editorStore/selectedWidget'])\n}\n\ninterface updateWidgetPropsParams {\n    Key: keyof AllWidgetProps | string[],\n    Value: any\n}\nconst updateWidgetProps = ({ Key, Value }: updateWidgetPropsParams) => {\n    $store.commit('editorStore/updateWidget', {\n        changeKey: Key,\n        changeValue: Value,\n        changeType: 'widgetProps'\n    })\n}\n\n</script>\n\n<style scoped lang='scss'>\n.middle-box {\n    position: relative;\n    width: 100%;\n    // background-color: white;\n    // padding: 24px 20px;\n    // border: 1px solid rgb(241, 203, 193);\n    overflow: hidden;\n    background-size: cover;\n\n}\n\n// 确保有拖拽区域\n.VueDraggableNext {\n    height: 100%;\n}\n\n// 拖拽预览的样式影响\n::v-deep() .widget-item {\n    border: 1px dashed rgb(244, 128, 26);\n    width: 60%;\n\n    .title {\n        font-size: 14px;\n        flex-grow: 1;\n    }\n}\n</style>\n","import script from \"./middle-region.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./middle-region.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./middle-region.vue?vue&type=style&index=0&id=0c4290ea&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.4.38_vue@3.4.38_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0c4290ea\"]])\n\nexport default __exports__","/**! \n * hotkeys-js v3.13.7 \n * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies. \n * \n * Copyright (c) 2024 kenny wong <wowohoo@qq.com> \n * https://github.com/jaywcjlove/hotkeys-js.git \n * \n * @website: https://jaywcjlove.github.io/hotkeys-js\n \n * Licensed under the MIT license \n */\n\nconst isff = typeof navigator !== 'undefined' ? navigator.userAgent.toLowerCase().indexOf('firefox') > 0 : false;\n\n// 绑定事件\nfunction addEvent(object, event, method, useCapture) {\n  if (object.addEventListener) {\n    object.addEventListener(event, method, useCapture);\n  } else if (object.attachEvent) {\n    object.attachEvent(\"on\".concat(event), method);\n  }\n}\nfunction removeEvent(object, event, method, useCapture) {\n  if (object.removeEventListener) {\n    object.removeEventListener(event, method, useCapture);\n  } else if (object.detachEvent) {\n    object.detachEvent(\"on\".concat(event), method);\n  }\n}\n\n// 修饰键转换成对应的键码\nfunction getMods(modifier, key) {\n  const mods = key.slice(0, key.length - 1);\n  for (let i = 0; i < mods.length; i++) mods[i] = modifier[mods[i].toLowerCase()];\n  return mods;\n}\n\n// 处理传的key字符串转换成数组\nfunction getKeys(key) {\n  if (typeof key !== 'string') key = '';\n  key = key.replace(/\\s/g, ''); // 匹配任何空白字符,包括空格、制表符、换页符等等\n  const keys = key.split(','); // 同时设置多个快捷键，以','分割\n  let index = keys.lastIndexOf('');\n\n  // 快捷键可能包含','，需特殊处理\n  for (; index >= 0;) {\n    keys[index - 1] += ',';\n    keys.splice(index, 1);\n    index = keys.lastIndexOf('');\n  }\n  return keys;\n}\n\n// 比较修饰键的数组\nfunction compareArray(a1, a2) {\n  const arr1 = a1.length >= a2.length ? a1 : a2;\n  const arr2 = a1.length >= a2.length ? a2 : a1;\n  let isIndex = true;\n  for (let i = 0; i < arr1.length; i++) {\n    if (arr2.indexOf(arr1[i]) === -1) isIndex = false;\n  }\n  return isIndex;\n}\n\n// Special Keys\nconst _keyMap = {\n  backspace: 8,\n  '⌫': 8,\n  tab: 9,\n  clear: 12,\n  enter: 13,\n  '↩': 13,\n  return: 13,\n  esc: 27,\n  escape: 27,\n  space: 32,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  del: 46,\n  delete: 46,\n  ins: 45,\n  insert: 45,\n  home: 36,\n  end: 35,\n  pageup: 33,\n  pagedown: 34,\n  capslock: 20,\n  num_0: 96,\n  num_1: 97,\n  num_2: 98,\n  num_3: 99,\n  num_4: 100,\n  num_5: 101,\n  num_6: 102,\n  num_7: 103,\n  num_8: 104,\n  num_9: 105,\n  num_multiply: 106,\n  num_add: 107,\n  num_enter: 108,\n  num_subtract: 109,\n  num_decimal: 110,\n  num_divide: 111,\n  '⇪': 20,\n  ',': 188,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '-': isff ? 173 : 189,\n  '=': isff ? 61 : 187,\n  ';': isff ? 59 : 186,\n  '\\'': 222,\n  '[': 219,\n  ']': 221,\n  '\\\\': 220\n};\n\n// Modifier Keys\nconst _modifier = {\n  // shiftKey\n  '⇧': 16,\n  shift: 16,\n  // altKey\n  '⌥': 18,\n  alt: 18,\n  option: 18,\n  // ctrlKey\n  '⌃': 17,\n  ctrl: 17,\n  control: 17,\n  // metaKey\n  '⌘': 91,\n  cmd: 91,\n  command: 91\n};\nconst modifierMap = {\n  16: 'shiftKey',\n  18: 'altKey',\n  17: 'ctrlKey',\n  91: 'metaKey',\n  shiftKey: 16,\n  ctrlKey: 17,\n  altKey: 18,\n  metaKey: 91\n};\nconst _mods = {\n  16: false,\n  18: false,\n  17: false,\n  91: false\n};\nconst _handlers = {};\n\n// F1~F12 special key\nfor (let k = 1; k < 20; k++) {\n  _keyMap[\"f\".concat(k)] = 111 + k;\n}\n\nlet _downKeys = []; // 记录摁下的绑定键\nlet winListendFocus = null; // window是否已经监听了focus事件\nlet _scope = 'all'; // 默认热键范围\nconst elementEventMap = new Map(); // 已绑定事件的节点记录\n\n// 返回键码\nconst code = x => _keyMap[x.toLowerCase()] || _modifier[x.toLowerCase()] || x.toUpperCase().charCodeAt(0);\nconst getKey = x => Object.keys(_keyMap).find(k => _keyMap[k] === x);\nconst getModifier = x => Object.keys(_modifier).find(k => _modifier[k] === x);\n\n// 设置获取当前范围（默认为'所有'）\nfunction setScope(scope) {\n  _scope = scope || 'all';\n}\n// 获取当前范围\nfunction getScope() {\n  return _scope || 'all';\n}\n// 获取摁下绑定键的键值\nfunction getPressedKeyCodes() {\n  return _downKeys.slice(0);\n}\nfunction getPressedKeyString() {\n  return _downKeys.map(c => getKey(c) || getModifier(c) || String.fromCharCode(c));\n}\nfunction getAllKeyCodes() {\n  const result = [];\n  Object.keys(_handlers).forEach(k => {\n    _handlers[k].forEach(_ref => {\n      let {\n        key,\n        scope,\n        mods,\n        shortcut\n      } = _ref;\n      result.push({\n        scope,\n        shortcut,\n        mods,\n        keys: key.split('+').map(v => code(v))\n      });\n    });\n  });\n  return result;\n}\n\n// 表单控件控件判断 返回 Boolean\n// hotkey is effective only when filter return true\nfunction filter(event) {\n  const target = event.target || event.srcElement;\n  const {\n    tagName\n  } = target;\n  let flag = true;\n  const isInput = tagName === 'INPUT' && !['checkbox', 'radio', 'range', 'button', 'file', 'reset', 'submit', 'color'].includes(target.type);\n  // ignore: isContentEditable === 'true', <input> and <textarea> when readOnly state is false, <select>\n  if (target.isContentEditable || (isInput || tagName === 'TEXTAREA' || tagName === 'SELECT') && !target.readOnly) {\n    flag = false;\n  }\n  return flag;\n}\n\n// 判断摁下的键是否为某个键，返回true或者false\nfunction isPressed(keyCode) {\n  if (typeof keyCode === 'string') {\n    keyCode = code(keyCode); // 转换成键码\n  }\n  return _downKeys.indexOf(keyCode) !== -1;\n}\n\n// 循环删除handlers中的所有 scope(范围)\nfunction deleteScope(scope, newScope) {\n  let handlers;\n  let i;\n\n  // 没有指定scope，获取scope\n  if (!scope) scope = getScope();\n  for (const key in _handlers) {\n    if (Object.prototype.hasOwnProperty.call(_handlers, key)) {\n      handlers = _handlers[key];\n      for (i = 0; i < handlers.length;) {\n        if (handlers[i].scope === scope) {\n          const deleteItems = handlers.splice(i, 1);\n          deleteItems.forEach(_ref2 => {\n            let {\n              element\n            } = _ref2;\n            return removeKeyEvent(element);\n          });\n        } else {\n          i++;\n        }\n      }\n    }\n  }\n\n  // 如果scope被删除，将scope重置为all\n  if (getScope() === scope) setScope(newScope || 'all');\n}\n\n// 清除修饰键\nfunction clearModifier(event) {\n  let key = event.keyCode || event.which || event.charCode;\n  const i = _downKeys.indexOf(key);\n\n  // 从列表中清除按压过的键\n  if (i >= 0) {\n    _downKeys.splice(i, 1);\n  }\n  // 特殊处理 cmmand 键，在 cmmand 组合快捷键 keyup 只执行一次的问题\n  if (event.key && event.key.toLowerCase() === 'meta') {\n    _downKeys.splice(0, _downKeys.length);\n  }\n\n  // 修饰键 shiftKey altKey ctrlKey (command||metaKey) 清除\n  if (key === 93 || key === 224) key = 91;\n  if (key in _mods) {\n    _mods[key] = false;\n\n    // 将修饰键重置为false\n    for (const k in _modifier) if (_modifier[k] === key) hotkeys[k] = false;\n  }\n}\nfunction unbind(keysInfo) {\n  // unbind(), unbind all keys\n  if (typeof keysInfo === 'undefined') {\n    Object.keys(_handlers).forEach(key => {\n      Array.isArray(_handlers[key]) && _handlers[key].forEach(info => eachUnbind(info));\n      delete _handlers[key];\n    });\n    removeKeyEvent(null);\n  } else if (Array.isArray(keysInfo)) {\n    // support like : unbind([{key: 'ctrl+a', scope: 's1'}, {key: 'ctrl-a', scope: 's2', splitKey: '-'}])\n    keysInfo.forEach(info => {\n      if (info.key) eachUnbind(info);\n    });\n  } else if (typeof keysInfo === 'object') {\n    // support like unbind({key: 'ctrl+a, ctrl+b', scope:'abc'})\n    if (keysInfo.key) eachUnbind(keysInfo);\n  } else if (typeof keysInfo === 'string') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    // support old method\n    // eslint-disable-line\n    let [scope, method] = args;\n    if (typeof scope === 'function') {\n      method = scope;\n      scope = '';\n    }\n    eachUnbind({\n      key: keysInfo,\n      scope,\n      method,\n      splitKey: '+'\n    });\n  }\n}\n\n// 解除绑定某个范围的快捷键\nconst eachUnbind = _ref3 => {\n  let {\n    key,\n    scope,\n    method,\n    splitKey = '+'\n  } = _ref3;\n  const multipleKeys = getKeys(key);\n  multipleKeys.forEach(originKey => {\n    const unbindKeys = originKey.split(splitKey);\n    const len = unbindKeys.length;\n    const lastKey = unbindKeys[len - 1];\n    const keyCode = lastKey === '*' ? '*' : code(lastKey);\n    if (!_handlers[keyCode]) return;\n    // 判断是否传入范围，没有就获取范围\n    if (!scope) scope = getScope();\n    const mods = len > 1 ? getMods(_modifier, unbindKeys) : [];\n    const unbindElements = [];\n    _handlers[keyCode] = _handlers[keyCode].filter(record => {\n      // 通过函数判断，是否解除绑定，函数相等直接返回\n      const isMatchingMethod = method ? record.method === method : true;\n      const isUnbind = isMatchingMethod && record.scope === scope && compareArray(record.mods, mods);\n      if (isUnbind) unbindElements.push(record.element);\n      return !isUnbind;\n    });\n    unbindElements.forEach(element => removeKeyEvent(element));\n  });\n};\n\n// 对监听对应快捷键的回调函数进行处理\nfunction eventHandler(event, handler, scope, element) {\n  if (handler.element !== element) {\n    return;\n  }\n  let modifiersMatch;\n\n  // 看它是否在当前范围\n  if (handler.scope === scope || handler.scope === 'all') {\n    // 检查是否匹配修饰符（如果有返回true）\n    modifiersMatch = handler.mods.length > 0;\n    for (const y in _mods) {\n      if (Object.prototype.hasOwnProperty.call(_mods, y)) {\n        if (!_mods[y] && handler.mods.indexOf(+y) > -1 || _mods[y] && handler.mods.indexOf(+y) === -1) {\n          modifiersMatch = false;\n        }\n      }\n    }\n\n    // 调用处理程序，如果是修饰键不做处理\n    if (handler.mods.length === 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91] || modifiersMatch || handler.shortcut === '*') {\n      handler.keys = [];\n      handler.keys = handler.keys.concat(_downKeys);\n      if (handler.method(event, handler) === false) {\n        if (event.preventDefault) event.preventDefault();else event.returnValue = false;\n        if (event.stopPropagation) event.stopPropagation();\n        if (event.cancelBubble) event.cancelBubble = true;\n      }\n    }\n  }\n}\n\n// 处理keydown事件\nfunction dispatch(event, element) {\n  const asterisk = _handlers['*'];\n  let key = event.keyCode || event.which || event.charCode;\n\n  // 表单控件过滤 默认表单控件不触发快捷键\n  if (!hotkeys.filter.call(this, event)) return;\n\n  // Gecko(Firefox)的command键值224，在Webkit(Chrome)中保持一致\n  // Webkit左右 command 键值不一样\n  if (key === 93 || key === 224) key = 91;\n\n  /**\n   * Collect bound keys\n   * If an Input Method Editor is processing key input and the event is keydown, return 229.\n   * https://stackoverflow.com/questions/25043934/is-it-ok-to-ignore-keydown-events-with-keycode-229\n   * http://lists.w3.org/Archives/Public/www-dom/2010JulSep/att-0182/keyCode-spec.html\n   */\n  if (_downKeys.indexOf(key) === -1 && key !== 229) _downKeys.push(key);\n  /**\n   * Jest test cases are required.\n   * ===============================\n   */\n  ['ctrlKey', 'altKey', 'shiftKey', 'metaKey'].forEach(keyName => {\n    const keyNum = modifierMap[keyName];\n    if (event[keyName] && _downKeys.indexOf(keyNum) === -1) {\n      _downKeys.push(keyNum);\n    } else if (!event[keyName] && _downKeys.indexOf(keyNum) > -1) {\n      _downKeys.splice(_downKeys.indexOf(keyNum), 1);\n    } else if (keyName === 'metaKey' && event[keyName] && _downKeys.length === 3) {\n      /**\n       * Fix if Command is pressed:\n       * ===============================\n       */\n      if (!(event.ctrlKey || event.shiftKey || event.altKey)) {\n        _downKeys = _downKeys.slice(_downKeys.indexOf(keyNum));\n      }\n    }\n  });\n  /**\n   * -------------------------------\n   */\n\n  if (key in _mods) {\n    _mods[key] = true;\n\n    // 将特殊字符的key注册到 hotkeys 上\n    for (const k in _modifier) {\n      if (_modifier[k] === key) hotkeys[k] = true;\n    }\n    if (!asterisk) return;\n  }\n\n  // 将 modifierMap 里面的修饰键绑定到 event 中\n  for (const e in _mods) {\n    if (Object.prototype.hasOwnProperty.call(_mods, e)) {\n      _mods[e] = event[modifierMap[e]];\n    }\n  }\n  /**\n   * https://github.com/jaywcjlove/hotkeys/pull/129\n   * This solves the issue in Firefox on Windows where hotkeys corresponding to special characters would not trigger.\n   * An example of this is ctrl+alt+m on a Swedish keyboard which is used to type μ.\n   * Browser support: https://caniuse.com/#feat=keyboardevent-getmodifierstate\n   */\n  if (event.getModifierState && !(event.altKey && !event.ctrlKey) && event.getModifierState('AltGraph')) {\n    if (_downKeys.indexOf(17) === -1) {\n      _downKeys.push(17);\n    }\n    if (_downKeys.indexOf(18) === -1) {\n      _downKeys.push(18);\n    }\n    _mods[17] = true;\n    _mods[18] = true;\n  }\n\n  // 获取范围 默认为 `all`\n  const scope = getScope();\n  // 对任何快捷键都需要做的处理\n  if (asterisk) {\n    for (let i = 0; i < asterisk.length; i++) {\n      if (asterisk[i].scope === scope && (event.type === 'keydown' && asterisk[i].keydown || event.type === 'keyup' && asterisk[i].keyup)) {\n        eventHandler(event, asterisk[i], scope, element);\n      }\n    }\n  }\n  // key 不在 _handlers 中返回\n  if (!(key in _handlers)) return;\n  const handlerKey = _handlers[key];\n  const keyLen = handlerKey.length;\n  for (let i = 0; i < keyLen; i++) {\n    if (event.type === 'keydown' && handlerKey[i].keydown || event.type === 'keyup' && handlerKey[i].keyup) {\n      if (handlerKey[i].key) {\n        const record = handlerKey[i];\n        const {\n          splitKey\n        } = record;\n        const keyShortcut = record.key.split(splitKey);\n        const _downKeysCurrent = []; // 记录当前按键键值\n        for (let a = 0; a < keyShortcut.length; a++) {\n          _downKeysCurrent.push(code(keyShortcut[a]));\n        }\n        if (_downKeysCurrent.sort().join('') === _downKeys.sort().join('')) {\n          // 找到处理内容\n          eventHandler(event, record, scope, element);\n        }\n      }\n    }\n  }\n}\nfunction hotkeys(key, option, method) {\n  _downKeys = [];\n  const keys = getKeys(key); // 需要处理的快捷键列表\n  let mods = [];\n  let scope = 'all'; // scope默认为all，所有范围都有效\n  let element = document; // 快捷键事件绑定节点\n  let i = 0;\n  let keyup = false;\n  let keydown = true;\n  let splitKey = '+';\n  let capture = false;\n  let single = false; // 单个callback\n\n  // 对为设定范围的判断\n  if (method === undefined && typeof option === 'function') {\n    method = option;\n  }\n  if (Object.prototype.toString.call(option) === '[object Object]') {\n    if (option.scope) scope = option.scope; // eslint-disable-line\n    if (option.element) element = option.element; // eslint-disable-line\n    if (option.keyup) keyup = option.keyup; // eslint-disable-line\n    if (option.keydown !== undefined) keydown = option.keydown; // eslint-disable-line\n    if (option.capture !== undefined) capture = option.capture; // eslint-disable-line\n    if (typeof option.splitKey === 'string') splitKey = option.splitKey; // eslint-disable-line\n    if (option.single === true) single = true; // eslint-disable-line\n  }\n  if (typeof option === 'string') scope = option;\n\n  // 如果只允许单个callback，先unbind\n  if (single) unbind(key, scope);\n\n  // 对于每个快捷键进行处理\n  for (; i < keys.length; i++) {\n    key = keys[i].split(splitKey); // 按键列表\n    mods = [];\n\n    // 如果是组合快捷键取得组合快捷键\n    if (key.length > 1) mods = getMods(_modifier, key);\n\n    // 将非修饰键转化为键码\n    key = key[key.length - 1];\n    key = key === '*' ? '*' : code(key); // *表示匹配所有快捷键\n\n    // 判断key是否在_handlers中，不在就赋一个空数组\n    if (!(key in _handlers)) _handlers[key] = [];\n    _handlers[key].push({\n      keyup,\n      keydown,\n      scope,\n      mods,\n      shortcut: keys[i],\n      method,\n      key: keys[i],\n      splitKey,\n      element\n    });\n  }\n  // 在全局document上设置快捷键\n  if (typeof element !== 'undefined' && window) {\n    if (!elementEventMap.has(element)) {\n      const keydownListener = function () {\n        let event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.event;\n        return dispatch(event, element);\n      };\n      const keyupListenr = function () {\n        let event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.event;\n        dispatch(event, element);\n        clearModifier(event);\n      };\n      elementEventMap.set(element, {\n        keydownListener,\n        keyupListenr,\n        capture\n      });\n      addEvent(element, 'keydown', keydownListener, capture);\n      addEvent(element, 'keyup', keyupListenr, capture);\n    }\n    if (!winListendFocus) {\n      const listener = () => {\n        _downKeys = [];\n      };\n      winListendFocus = {\n        listener,\n        capture\n      };\n      addEvent(window, 'focus', listener, capture);\n    }\n  }\n}\nfunction trigger(shortcut) {\n  let scope = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'all';\n  Object.keys(_handlers).forEach(key => {\n    const dataList = _handlers[key].filter(item => item.scope === scope && item.shortcut === shortcut);\n    dataList.forEach(data => {\n      if (data && data.method) {\n        data.method();\n      }\n    });\n  });\n}\n\n// 销毁事件,unbind之后判断element上是否还有键盘快捷键，如果没有移除监听\nfunction removeKeyEvent(element) {\n  const values = Object.values(_handlers).flat();\n  const findindex = values.findIndex(_ref4 => {\n    let {\n      element: el\n    } = _ref4;\n    return el === element;\n  });\n  if (findindex < 0) {\n    const {\n      keydownListener,\n      keyupListenr,\n      capture\n    } = elementEventMap.get(element) || {};\n    if (keydownListener && keyupListenr) {\n      removeEvent(element, 'keyup', keyupListenr, capture);\n      removeEvent(element, 'keydown', keydownListener, capture);\n      elementEventMap.delete(element);\n    }\n  }\n  if (values.length <= 0 || elementEventMap.size <= 0) {\n    // 移除所有的元素上的监听\n    const eventKeys = Object.keys(elementEventMap);\n    eventKeys.forEach(el => {\n      const {\n        keydownListener,\n        keyupListenr,\n        capture\n      } = elementEventMap.get(el) || {};\n      if (keydownListener && keyupListenr) {\n        removeEvent(el, 'keyup', keyupListenr, capture);\n        removeEvent(el, 'keydown', keydownListener, capture);\n        elementEventMap.delete(el);\n      }\n    });\n    // 清空 elementEventMap\n    elementEventMap.clear();\n    // 清空 _handlers\n    Object.keys(_handlers).forEach(key => delete _handlers[key]);\n    // 移除window上的focus监听\n    if (winListendFocus) {\n      const {\n        listener,\n        capture\n      } = winListendFocus;\n      removeEvent(window, 'focus', listener, capture);\n      winListendFocus = null;\n    }\n  }\n}\nconst _api = {\n  getPressedKeyString,\n  setScope,\n  getScope,\n  deleteScope,\n  getPressedKeyCodes,\n  getAllKeyCodes,\n  isPressed,\n  filter,\n  trigger,\n  unbind,\n  keyMap: _keyMap,\n  modifier: _modifier,\n  modifierMap\n};\nfor (const a in _api) {\n  if (Object.prototype.hasOwnProperty.call(_api, a)) {\n    hotkeys[a] = _api[a];\n  }\n}\nif (typeof window !== 'undefined') {\n  const _hotkeys = window.hotkeys;\n  hotkeys.noConflict = deep => {\n    if (deep && window.hotkeys === hotkeys) {\n      window.hotkeys = _hotkeys;\n    }\n    return hotkeys;\n  };\n  window.hotkeys = hotkeys;\n}\n\nexport { hotkeys as default };\n","import { onMounted, onUnmounted } from 'vue'\nimport hotkeys, { KeyHandler } from 'hotkeys-js'\n\ntype Options = {\n    scope?: string;\n    element?: HTMLElement | null;\n    keyup?: boolean | null;\n    keydown?: boolean | null;\n    capture?: boolean\n    splitKey?: string;\n    single?: boolean;\n}\n\n// 此hook主要是为了挂载与卸载事件\nexport default function useHotKeys(keys: string, callBack: KeyHandler, Options?: Options) {\n    onMounted(() => {\n        hotkeys(keys, { ...Options }, callBack)\n    })\n    onUnmounted(() => {\n        hotkeys.unbind(keys)\n    })\n}\n","import useHotKeys from '@/hook/useHotKeys'\nimport { useStore } from '@/store/index'\nimport { computed } from 'vue' // 其实在setuo直接执行函数，内容都可以理解为hooks\nimport { HotkeysEvent, KeyHandler } from 'hotkeys-js'\nimport debounce from '@/utils/debounce'\n\n// 高阶函数，核心是返回函数本身\nconst wrap = (fn: KeyHandler) => {\n    const wrapperFn = (keyboardEvent: KeyboardEvent, hotkeysEvent: HotkeysEvent) => { // wrapperFn充当直接执行函数相当于event事件参数在这里接收了\n        keyboardEvent.preventDefault()\n        fn(keyboardEvent, hotkeysEvent)\n    }\n    return wrapperFn\n}\n\n// 统一添加编辑器快捷键，库已经封装好\nexport default function addHotKeys() {\n    const $store = useStore()\n\n    const selectWidget = computed<HTMLElement | null>(() => {\n        return $store.getters['editorStore/selectWidgetDom']\n    })\n    const selectWidgetId = computed(() => {\n        return $store.state.editorStore.currentComponent\n    })\n\n    let moveDistance = 1\n    const debounceFn = debounce((changeKey: string) => {\n        // console.log('防抖成功')\n        const selectWidgetWrapper = selectWidget.value?.closest('.edit-wrapper') as HTMLElement\n\n        $store.commit('editorStore/updateWidget', {\n            changeKey,\n            changeValue: selectWidgetWrapper.style[changeKey]\n        })\n    }, 500)\n\n    // 删除、取消选中\n    useHotKeys('Delete,Backspace', wrap(() => {\n        $store.commit('editorStore/deleteWidget', {})\n    }))\n    useHotKeys('Esc', wrap(() => {\n        $store.commit('editorStore/selectWidget', '')\n    }))\n\n    // 复制、粘贴\n    useHotKeys('Ctrl+C', wrap(() => {\n        if (selectWidgetId.value) {\n            $store.commit('editorStore/copyComponent')\n        }\n    }))\n    useHotKeys('Ctrl+V', wrap(() => {\n        $store.commit('editorStore/pasteComponent')\n    }))\n\n    // 元素移动、快速移动\n    useHotKeys('up,down,left,right,shift+up,shift+down,shift+left,shift+right', wrap((event: KeyboardEvent, handler: HotkeysEvent) => {\n        if (event.type === 'keydown') {\n            // 因为赋值时要拿到视觉上的top，定位属性挂载在wrapper上，不然可能出现百分百\n            const selectWidgetWrapper = selectWidget.value?.closest('.edit-wrapper') as HTMLElement\n            const isVertical = handler?.key.includes('up') || handler?.key.includes('down')\n            const distance = handler?.key.includes('shift') ? moveDistance++ : moveDistance\n\n            const changeKey = isVertical ? 'top' : 'left'\n            const changeDistadance = (handler?.key.includes('right') || handler?.key.includes('down')) ? distance : -distance\n            const WrapperDomKey = isVertical ? 'offsetTop' : 'offsetLeft'\n\n            // 视觉上优先改变\n            selectWidgetWrapper.style[changeKey] = (selectWidgetWrapper[WrapperDomKey] + changeDistadance) + 'px'\n\n            // 防抖，以最后一次操作为准，再存入记录\n            debounceFn(changeKey)\n        }\n\n        if (event.type === 'keyup') {\n            moveDistance = 1\n        }\n    }), { keyup: true })\n\n    // 撤销、重做\n    useHotKeys('Ctrl+Z', wrap(() => {\n        $store.dispatch('editorStore/undo')\n    }))\n    useHotKeys('Ctrl+Shift+Z', wrap(() => {\n        $store.dispatch('editorStore/redo')\n    }))\n}\n","\n// 全局方法，给指定的选择器容器添加右键事件\n\nimport { onMounted, onUnmounted, h, render, resolveComponent, cloneVNode } from 'vue'\nimport ContextMenu from '@/components/ContextMenu.vue'\n\nexport declare interface MenuListItem {\n    name: string,\n    tip?: string,\n    fn: () => void\n}\n\nexport default function (menuList: MenuListItem[], selector: string) {\n    // 创建并插入菜单虚拟节点，传入列表给菜单组件\n    const vnodeContainerDom = document.createElement('div') // 作为渲染Vnode的中介\n    // const vcomponent = resolveComponent('ContextMenu')\n    const vnode = h(ContextMenu, { menuList, selector }) // h函数将vue组件成创建虚拟节点，打印是一个对象\n    render(vnode, vnodeContainerDom) // render函数将虚拟Dom（vn）添加到容器，渲染成真实Dom\n\n    /*  // 控制菜单是否出现，应该由菜单本身去做决定才好处理\n     const menuFn = function (e: MouseEvent) {\n         e.preventDefault()\n         if (isInContainOrEqual(e.target as HTMLElement, selector)) {\n             // 显示列表、并定位其位置\n             // @ts-ignore\n             // 官网建议不直接修改vnode，实践发现生产环境下没有响应式\n             // vnode.component.setupState.showMenu = true\n             const clonevnode = cloneVNode(vnode, { showMenu: true })\n             render(clonevnode, vnodeContainerDom)\n             appDom.replaceChild(vnodeContainerDom, vnodeContainerDom)\n\n             const menuDom = document.querySelector('.menu-list') as HTMLElement\n             menuDom.style.top = e.clientY + 'px'\n             menuDom.style.left = e.clientX + 'px'\n         }\n     } */\n\n    onMounted(() => {\n        const appDom = document.querySelector('#app') as HTMLElement // 也可以挂载在指定容器\n        appDom.appendChild(vnodeContainerDom)\n    })\n    onUnmounted(() => {\n        // 移除相关的虚拟节点\n        document.body.removeChild(vnodeContainerDom)\n    })\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vShow as _vShow, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-23be8f58\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"shadow-card left-col relative\" }\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"iphone-tip\" }, null, -1))\nconst _hoisted_4 = { class: \"shadow-card right-col relative\" }\n\nimport leftRegion from './left-region/left-region.vue'\nimport rightRegion from './right-region/right-region.vue'\nimport middleRegion from './middle-region/middle-region.vue'\nimport addHotKeys from '@/plugins/hotKeys'\nimport contextMenu, { MenuListItem } from '@/plugins/contextMenu'\nimport { onMounted, ref, watch, computed } from 'vue'\nimport { useStore } from '@/store/index'\nimport { useRoute } from 'vue-router'\nimport { message } from 'ant-design-vue'\n// import useClickOutside from '@/hook/useClickOutside'\n// @ts-ignore\nimport iphoneHeadImgUrl from '@/assets/image/phone-head.png'\nimport { useElementVisibility } from '@vueuse/core'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\naddHotKeys() // 为编辑器注册快捷键\n\nconst $store = useStore()\nconst $route = useRoute()\n// const middleRegionWrapper = ref()\n\nconst readWorkLoading = ref(false)\n\nconst pageWidth = computed(() => {\n    return $store.state.editorStore.page.props.width\n})\n\nconst menuList = ref<MenuListItem[]>([\n    {\n        name: '拷贝图层',\n        tip: '⌘C / Ctrl+C',\n        fn: () => {\n            $store.commit('editorStore/copyComponent')\n        }\n    },\n    {\n        name: '粘贴图层',\n        tip: '⌘V / Ctrl+V',\n        fn: () => {\n            $store.commit('editorStore/pasteComponent')\n        }\n    },\n    {\n        name: '删除图层',\n        tip: 'Backspace / Delete',\n        fn: () => {\n            $store.commit('editorStore/deleteWidget', {})\n        }\n    },\n    {\n        name: '取消选中',\n        tip: 'ESC',\n        fn: () => {\n            $store.commit('editorStore/selectWidget', '')\n        }\n    }\n])\ncontextMenu(menuList.value, '.edit-wrapper')\n\n// 回滚到顶部\nconst iphoneHeadRef = ref(null)\nconst iphoneHeadVisibility = useElementVisibility(iphoneHeadRef) // 快捷判断元素在不在视口\nconst displayTopBt = ref(false)\n\nconst scrollToTop = () => {\n    const editorBoxDom = document.querySelector('.middle-col')\n    if (editorBoxDom) {\n        editorBoxDom.scrollTop = 0\n    }\n}\nwatch(iphoneHeadVisibility, (val) => {\n    displayTopBt.value = !val\n})\n\n// 点击画布外面，取消物料选中\nconst judgeClickWidget = (e: MouseEvent) => {\n    const target = e.target as HTMLElement\n    // 点击的内容不要是左右两栏目\n    if (!target.closest('.left-col') && !target.closest('.right-col') && !target.closest('.edit-wrapper')) {\n        $store.state.editorStore.currentComponent && $store.commit('editorStore/selectWidget', '')\n    }\n}\n\nonMounted(() => {\n    readWorkLoading.value = true\n    const result = $store.dispatch('editorStore/readWork', $route.params.id)\n    result.then(() => {\n        //\n    }).catch(() => {\n        message.error('读取作品信息出错，请重新刷新页面!')\n    }).finally(() => {\n        readWorkLoading.value = false\n    })\n})\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_col = _resolveComponent(\"a-col\")!\n  const _component_ArrowUpOutlined = _resolveComponent(\"ArrowUpOutlined\")!\n  const _component_a_spin = _resolveComponent(\"a-spin\")!\n  const _component_a_row = _resolveComponent(\"a-row\")!\n\n  return (_openBlock(), _createBlock(_component_a_row, {\n    style: {\"height\":\"100%\"},\n    onClick: judgeClickWidget\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_a_col, {\n        span: 7,\n        lg: 6,\n        xl: 6,\n        xxl: 4\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createVNode(leftRegion)\n          ])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_a_col, {\n        span: 0,\n        lg: 0,\n        xl: 0,\n        xxl: 2\n      }),\n      _createVNode(_component_a_col, {\n        class: \"middle-col hidden-scrollbar\",\n        span: 10,\n        lg: 12,\n        xl: 12,\n        xxl: 12\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_a_spin, {\n            spinning: readWorkLoading.value,\n            size: \"large\",\n            tip: \"读取中\"\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", {\n                class: \"middle-region-wrapper\",\n                ref: \"middleRegionWrapper\",\n                style: _normalizeStyle({\n                    width: pageWidth.value ? pageWidth.value : '470px',\n                    transform: `scale(${_unref($store).state.editorStore.canvasRate})`\n                })\n              }, [\n                _createElementVNode(\"div\", {\n                  ref_key: \"iphoneHeadRef\",\n                  ref: iphoneHeadRef,\n                  class: \"iphone-head\"\n                }, [\n                  (pageWidth.value && (parseInt(pageWidth.value) < 768))\n                    ? (_openBlock(), _createElementBlock(\"img\", {\n                        key: 0,\n                        src: _unref(iphoneHeadImgUrl),\n                        alt: \"\"\n                      }, null, 8, _hoisted_2))\n                    : _createCommentVNode(\"\", true)\n                ], 512),\n                _hoisted_3,\n                _withDirectives(_createElementVNode(\"div\", {\n                  class: \"scroll-top\",\n                  onClick: scrollToTop\n                }, [\n                  _createVNode(_component_ArrowUpOutlined)\n                ], 512), [\n                  [_vShow, displayTopBt.value]\n                ]),\n                _createVNode(middleRegion)\n              ], 4)\n            ]),\n            _: 1\n          }, 8, [\"spinning\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_a_col, {\n        span: 0,\n        lg: 0,\n        xl: 0,\n        xxl: 1\n      }),\n      _createVNode(_component_a_col, {\n        span: 7,\n        lg: 6,\n        xl: 6,\n        xxl: 5\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(rightRegion)\n          ])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\n    <a-row style=\"height: 100%;\" @click=\"judgeClickWidget\">\n        <a-col :span=\"7\" :lg=\"6\" :xl=\"6\" :xxl=\"4\">\n            <div class=\"shadow-card left-col relative\">\n                <leftRegion></leftRegion>\n            </div>\n        </a-col>\n        <a-col :span=\"0\" :lg=\"0\" :xl=\"0\" :xxl=\"2\">\n        </a-col>\n        <a-col class=\" middle-col hidden-scrollbar\" :span=\"10\" :lg=\"12\" :xl=\"12\" :xxl=\"12\">\n            <a-spin :spinning=\"readWorkLoading\" size=\"large\" tip=\"读取中\">\n\n                <!-- 手机头部 -->\n                <div class=\"middle-region-wrapper\" ref=\"middleRegionWrapper\" :style=\"{\n                    width: pageWidth ? pageWidth : '470px',\n                    transform: `scale(${$store.state.editorStore.canvasRate})`\n                }\">\n                    <div ref=\"iphoneHeadRef\" class=\"iphone-head\">\n                        <img :src=\"iphoneHeadImgUrl\" alt=\"\" v-if=\"pageWidth && (parseInt(pageWidth) < 768)\">\n                    </div>\n                    <div class=\"iphone-tip\"></div>\n                    <div class=\"scroll-top\" @click=\"scrollToTop\" v-show=\"displayTopBt\">\n                        <ArrowUpOutlined />\n                    </div>\n                    <middleRegion></middleRegion>\n                </div>\n            </a-spin>\n        </a-col>\n        <a-col :span=\"0\" :lg=\"0\" :xl=\"0\" :xxl=\"1\"></a-col>\n        <a-col :span=\"7\" :lg=\"6\" :xl=\"6\" :xxl=\"5\">\n            <div class=\"shadow-card right-col relative\">\n                <rightRegion></rightRegion>\n            </div>\n        </a-col>\n    </a-row>\n\n</template>\n\n<script setup lang='ts'>\nimport leftRegion from './left-region/left-region.vue'\nimport rightRegion from './right-region/right-region.vue'\nimport middleRegion from './middle-region/middle-region.vue'\nimport addHotKeys from '@/plugins/hotKeys'\nimport contextMenu, { MenuListItem } from '@/plugins/contextMenu'\nimport { onMounted, ref, watch, computed } from 'vue'\nimport { useStore } from '@/store/index'\nimport { useRoute } from 'vue-router'\nimport { message } from 'ant-design-vue'\n// import useClickOutside from '@/hook/useClickOutside'\n// @ts-ignore\nimport iphoneHeadImgUrl from '@/assets/image/phone-head.png'\nimport { useElementVisibility } from '@vueuse/core'\n\naddHotKeys() // 为编辑器注册快捷键\n\nconst $store = useStore()\nconst $route = useRoute()\n// const middleRegionWrapper = ref()\n\nconst readWorkLoading = ref(false)\n\nconst pageWidth = computed(() => {\n    return $store.state.editorStore.page.props.width\n})\n\nconst menuList = ref<MenuListItem[]>([\n    {\n        name: '拷贝图层',\n        tip: '⌘C / Ctrl+C',\n        fn: () => {\n            $store.commit('editorStore/copyComponent')\n        }\n    },\n    {\n        name: '粘贴图层',\n        tip: '⌘V / Ctrl+V',\n        fn: () => {\n            $store.commit('editorStore/pasteComponent')\n        }\n    },\n    {\n        name: '删除图层',\n        tip: 'Backspace / Delete',\n        fn: () => {\n            $store.commit('editorStore/deleteWidget', {})\n        }\n    },\n    {\n        name: '取消选中',\n        tip: 'ESC',\n        fn: () => {\n            $store.commit('editorStore/selectWidget', '')\n        }\n    }\n])\ncontextMenu(menuList.value, '.edit-wrapper')\n\n// 回滚到顶部\nconst iphoneHeadRef = ref(null)\nconst iphoneHeadVisibility = useElementVisibility(iphoneHeadRef) // 快捷判断元素在不在视口\nconst displayTopBt = ref(false)\n\nconst scrollToTop = () => {\n    const editorBoxDom = document.querySelector('.middle-col')\n    if (editorBoxDom) {\n        editorBoxDom.scrollTop = 0\n    }\n}\nwatch(iphoneHeadVisibility, (val) => {\n    displayTopBt.value = !val\n})\n\n// 点击画布外面，取消物料选中\nconst judgeClickWidget = (e: MouseEvent) => {\n    const target = e.target as HTMLElement\n    // 点击的内容不要是左右两栏目\n    if (!target.closest('.left-col') && !target.closest('.right-col') && !target.closest('.edit-wrapper')) {\n        $store.state.editorStore.currentComponent && $store.commit('editorStore/selectWidget', '')\n    }\n}\n\nonMounted(() => {\n    readWorkLoading.value = true\n    const result = $store.dispatch('editorStore/readWork', $route.params.id)\n    result.then(() => {\n        //\n    }).catch(() => {\n        message.error('读取作品信息出错，请重新刷新页面!')\n    }).finally(() => {\n        readWorkLoading.value = false\n    })\n})\n\n</script>\n\n<style scoped lang='scss'>\n// 调整编辑器读取加载中\n::v-deep() .ant-spin {\n    max-height: 100% !important;\n}\n\n::v-deep() .ant-spin-container {\n    height: 100%;\n}\n\n::v-deep() .ant-spin-nested-loading .ant-spin-blur {\n    height: 100%;\n}\n\n.ant-row {\n    height: 100%;\n\n    .shadow-card {\n        padding-top: 0px;\n    }\n\n    .ant-col {\n        height: 100%;\n    }\n\n    .ant-col>* {\n        height: 100%;\n\n        .shadow-card>* {\n            height: 100%;\n        }\n    }\n\n    .middle-col {\n        display: flex;\n        justify-content: center;\n        height: 100%;\n        // height: 100vh;\n        // padding: 27px 0px;\n        overflow-x: visible;\n        overflow-y: auto;\n    }\n}\n\n::v-deep .ant-tabs .ant-tabs-tab .anticon {\n    margin-right: 5px;\n}\n\n.middle-region-wrapper {\n    position: relative;\n    width: max-content;\n    transform-origin: top;\n\n    .iphone-head {\n        padding: 25px 0 0 1px;\n\n        img {\n            width: 100%;\n        }\n    }\n\n    .iphone-tip {\n        position: absolute;\n        left: -150px;\n        top: 667px;\n        border-top: 1px solid rgb(161, 161, 161);\n        width: 150px;\n\n        &::before {\n            position: absolute;\n            bottom: 0;\n            content: 'iphone6/7/8手机高度';\n            opacity: 0.8;\n            padding-bottom: 5px;\n        }\n    }\n\n    .scroll-top {\n        position: fixed;\n        bottom: 10%;\n        left: 70%;\n        font-size: 19px;\n        color: white;\n        background-color: rgb(109, 109, 109);\n        border-radius: 50%;\n        width: 34px;\n        height: 34px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n\n        &:hover {\n            background-color: $theme_color;\n        }\n    }\n}\n</style>\n\n<!-- 修复移动端下的编辑器排版 -->\n<style lang='scss'>\n.container {\n    .heard {\n        min-width: 1200px;\n    }\n\n    .main {\n        min-width: 1200px;\n    }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=23be8f58&scoped=true&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=23be8f58&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.4.38_vue@3.4.38_webpack@5.91.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-23be8f58\"]])\n\nexport default __exports__"],"names":["paramTextProps","defaultCommonProps","defaultTextProps","paramImgProps","paddingTop","paddingBottom","width","defaultImgProps","paramStyleFontProps","fontSize","paddingLeft","paddingRight","paramShapeProps","defaultShapeProps","height","defaultTemplate","label","widgetList","name","props","titleValue","tag","icon","title","textValue","isRenderCard","renderStyleKey","needRenderWidget","shapeValue","useDragWidget","$store","useStore","ondragstart","e","widgetData","targetWrapper","target","closest","targettWrapperRect","getBoundingClientRect","originOffestX","clientX","left","originOffestY","clientY","top","dataTransfer","setData","JSON","stringify","ondragover","preventDefault","dropEffect","ondrop","dataTransferParams","parse","getData","targetRegion","targetRegionRect","newX","newY","commit","clearData","_defineComponent","__name","widget","setup","__props","$props","handleClick","_ctx","_cache","_openBlock","_createElementBlock","class","draggable","onClick","onDragstart","$event","_unref","_renderSlot","$slots","__exports__","_hoisted_1","key","_component_IconSvg","_resolveComponent","_component_a_col","_Fragment","_renderList","item","index","_createElementVNode","_toDisplayString","_normalizeClass","inIndex","_createBlock","span","default","_withCtx","_createVNode","WidgetWrapper","_resolveDynamicComponent","_mergeProps","style","ref_for","widgetTitle","_createCommentVNode","_normalizeStyle","_","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","constructor","prototype","value","configurable","writable","_extends","assign","hasOwnProperty","call","this","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","version","userAgent","pattern","window","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","el","event","fn","addEventListener","off","removeEventListener","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","getParentOrHost","host","document","nodeType","parentNode","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","state","classList","className","replace","css","prop","val","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","find","tagName","list","getElementsByTagName","n","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","elRect","bottom","right","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","a","scaleY","d","isScrolledPast","elSide","parentSide","parent","getParentAutoScrollElement","elSideVal","parentSideVal","visible","getChild","childNum","options","includeDragEl","currentChild","children","display","Sortable","ghost","dragged","lastChild","last","lastElementChild","previousElementSibling","nodeName","toUpperCase","clone","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","indexOfObject","arr","Number","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","body","extend","dst","src","isRectEqual","rect1","rect2","Math","round","throttle","callback","ms","args","_this","setTimeout","cancelThrottle","clearTimeout","scrollBy","x","y","Polymer","$","jQuery","Zepto","dom","cloneNode","expando","Date","getTime","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","slice","child","rect","fromRect","thisAnimationDuration","childMatrix","f","addAnimationState","removeAnimationState","splice","animateAll","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","calculateRealTime","animate","max","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","repaint","easing","animated","offsetWidth","sqrt","pow","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","option","p","pluginName","concat","pluginEvent","eventName","sortable","evt","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","_ref","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","charAt","substr","CustomEvent","createEvent","initEvent","bubbles","cancelable","to","from","pullMode","lastPutMode","undefined","allEventProperties","_excluded","data","bind","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","active","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","createElement","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_dragElInRowColumn","dragRect","targetRect","vertical","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_detectNearestEmptySortable","ret","some","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","join","originalGroup","checkPull","checkPut","put","revertClone","stopPropagation","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","toString","sort","disabled","store","handle","test","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","get","_globalDragOver","_onMove","willInsertAfter","retVal","onMoveFn","onMove","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_ghostIsFirst","spacer","_ghostIsLast","_getSwapDirection","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_generateId","str","href","sum","charCodeAt","_saveInputCheckedState","root","inputs","idx","checked","_nextTick","_cancelNextTick","id","contains","_getDirection","type","touch","pointerType","originalTarget","shadowRoot","path","composedPath","button","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","inserted","ghostMatrix","relativeScrollOffset","dx","dy","b","c","cssMatrix","appendChild","_hideClone","cloneId","insertBefore","_loopId","setInterval","effectAllowed","_dragStartId","revert","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","changed","firstChild","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","side1","scrolledPastTop","scrollBefore","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","removeChild","save","handleEvent","toArray","order","getAttribute","useAnimation","items","set","destroy","Array","querySelectorAll","removeAttribute","utils","is","nextTick","cancelNextTick","detectDirection","element","_len","_key","create","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","AutoScrollPlugin","AutoScroll","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","_ref2","dragOverBubble","drop","clearPointerElemChangedInterval","clearAutoScrolls","nulling","autoScroll","ogElemScroller","newElem","pid","isFallback","scrollCustomFn","sens","speed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","toSortable","changedTouches","onSpill","Revert","Remove","getConsole","console","global","startIndex","dragStart","_ref3","_ref4","parentSortable","cached","cache","hit","regex","camelize","removeNode","node","parentElement","insertNodeAt","fatherNode","position","refNode","computeVmIndex","vnodes","values","computeIndexes","slots","isTransition","footerOffset","elmFromNodes","footerIndex","rawIndexes","map","elt","emit","evtName","evtData","$nextTick","$emit","toLowerCase","delegateAndEmit","realList","isTransitionName","includes","getComponentAttributes","$attrs","componentData","attrs","eventsListened","eventsToEmit","readonlyProperties","draggingElement","required","noTransitionOnDrag","Boolean","Function","original","String","move","component","modelValue","VueDraggableNext","defineComponent","inheritAttrs","emits","s","transitionMode","noneFunctionalComponentMode","headerOffset","_sortable","visibleIndexes","context","render","h","getTag","created","error","mounted","optionsAdded","attributes","reduce","res","onDragMove","targetDomElement","$el","__draggable_component__","beforeUnmount","computed","watch","handler","newOptionValue","updateOptions","deep","methods","resolveComponent","property","getChildrenNodes","getUnderlyingVm","htmlElt","emitChanges","alterList","onList","newList","spliceList","updatePosition","getVmIndex","domIndex","indexes","numberIndexes","getComponent","componentInstance","resetTransitionData","nodes","transitionContainer","kept","onDragStart","_underlying_vm_","onDragAdd","added","onDragRemove","removed","onDragUpdate","updateProperty","propertyName","relatedContext","getRelatedContextFromMoveEvent","draggedContext","futureIndex","computeFutureIndex","sendEvt","onDragEnd","getTrargetedComponent","htmElement","destination","domChildren","currentDOMIndex","currentIndex","draggedInList","selectLayer","changeLayerStatus","newValue","changeKey","changeValue","changeType","componentsList","editorStore","components","newlist","_component_TooltipButton","_component_InlineEdit","currentComponent","isHidden","tip","isLocked","layerName","placement","activeKey","ref","_component_AppstoreOutlined","_component_a_tab_pane","_component_BarsOutlined","_component_a_tabs","tabBarGutter","tab","_createTextVNode","commonWidgetsList","layerList","UnitReverseFormat","goalUnit","v","trimReverseFormat","InputNumberFormatter","NumberEchoRlues","NumberEchoRluesParser","imgPropsMap","textPropsMap","extraProps","placeholder","reverseFormat","extraEvents","input","min","formatter","parser","optionType","renderVnodeOptions","color","combination","isCombinationProp","combinationRules","defaultValue","spitResult","result","step","commonPropsMap","opacity","isNeedDelete","scale","rotate","AllPropsMap","propsTableKeyGroup","propsToFormFn","instancePropsKeys","propsTableMap","build","pick","template","cloneDeep","tempKey","styleKey","nativeOptions","debounceFn","timer","arg","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","propsBuild","formatValue","reverseFn","debounce","finalValue","goalkey","update","goalvalue","combinationLayer","newCompleteValue","cacheValue","page","getters","completeValue","completeValueArr","widgetId","noRecord","propMap","num","_toHandlers","collapseActiveKey","propsTemplate","fiterGlobalProps","_component_a_collapse_panel","_component_a_collapse","accordion","propsTypeItem","header","PropsTable","_component_a_empty","description","propsTable","pagePropsTemplate","_component_BgColorsOutlined","_component_SettingOutlined","propsSection","onMovestart","onMoveProcess","onMoveEnd","mousedownEvent","downEvent","mouseTarget","mousemoveFn","moveEvent","mouseupFn","upEvent","FUNC_ERROR_TEXT","func","wait","leading","trailing","TypeError","isObject","all","Map","t","eventBus","mitt","_createStaticVNode","_hoisted_9","isActive","__emit","selectWidget","computeEditorRange","allowRange","editorBoxDom","querySelector","editorBoxDomRect","xRange","yRange","moveData","reactive","moveProgress","start","X","Y","end","calculateDistance","needAbs","distanceX","distanceY","tipShow","message","judgeLockedWrapper","originFn","wrapperFn","params","Error","log","calculateResult","goalWrapper","widgetWrapper","Key","Value","moveSeriesEvent","useMouseGroupEvent","onResizeStart","onResizeProcess","goalPoint","goalWidget","firstElementChild","goalWidgetRect","onResizeEnd","resizeSeriesEvent","rotateDate","center","startDegree","endDegree","onRotateStart","oldMouseTarget","wrapperDom","wrapperDomRect","atan2","PI","onRotateProcess","parseFloat","onRotateEnd","rotateSeriesEvent","onMousedown","_withModifiers","fill","script","diff","lines","xt","xc","xb","yl","yc","yr","moveWidgetDistance","openAdsorb","editorAxis","setEditorAxis","setMoveWidgetData","handleAllWidgetStickLine","editorDom","editorDomRect","widgetWrapperRect","async","widgetAxisArr","WidgetDom","getElementById","WidgetDomWrapper","WidgetDomWrapperRect","temp","axisData","onShowLines","valuesArr","widgetAxis","showLineResult","onAdsorb","absorbValue","currentComponentDom","currentComponentDomRect","currentComponentDomWrapper","tempFn","_withDirectives","_vShow","EditWrapper","widgetComponents","pageStyle","getParentWrapperStyle","widgetsOwnProps","parentWrapperStyleKeys","getWidget","updateWidgetProps","onDragover","onDrop","openGridLine","gridLine","stickLine","editWrapper","ref_key","onSelectWidget","onUpdateWidgetProps","onGetWidget","isff","addEvent","method","useCapture","attachEvent","removeEvent","detachEvent","getMods","modifier","mods","getKeys","lastIndexOf","compareArray","a1","a2","arr1","arr2","isIndex","_keyMap","backspace","enter","return","esc","escape","space","up","down","del","delete","ins","insert","home","pageup","pagedown","capslock","num_0","num_1","num_2","num_3","num_4","num_5","num_6","num_7","num_8","num_9","num_multiply","num_add","num_enter","num_subtract","num_decimal","num_divide","_modifier","shift","alt","ctrl","control","cmd","command","modifierMap","shiftKey","ctrlKey","altKey","metaKey","_mods","_handlers","k","_downKeys","winListendFocus","_scope","elementEventMap","code","getKey","getModifier","setScope","scope","getScope","getPressedKeyCodes","getPressedKeyString","fromCharCode","getAllKeyCodes","shortcut","srcElement","flag","isInput","readOnly","isPressed","keyCode","deleteScope","newScope","handlers","deleteItems","removeKeyEvent","clearModifier","which","charCode","hotkeys","unbind","keysInfo","isArray","eachUnbind","splitKey","multipleKeys","originKey","unbindKeys","len","lastKey","unbindElements","record","isMatchingMethod","isUnbind","eventHandler","modifiersMatch","returnValue","cancelBubble","dispatch","asterisk","keyName","keyNum","getModifierState","keydown","keyup","handlerKey","keyLen","keyShortcut","_downKeysCurrent","single","has","keydownListener","keyupListenr","listener","trigger","dataList","flat","findindex","findIndex","size","eventKeys","_api","keyMap","_hotkeys","noConflict","useHotKeys","callBack","Options","onMounted","onUnmounted","wrap","keyboardEvent","hotkeysEvent","addHotKeys","selectWidgetId","moveDistance","selectWidgetWrapper","isVertical","distance","changeDistadance","WrapperDomKey","menuList","vnodeContainerDom","vnode","ContextMenu","appDom","_withScopeId","_pushScopeId","_popScopeId","$route","useRoute","readWorkLoading","pageWidth","contextMenu","iphoneHeadRef","iphoneHeadVisibility","useElementVisibility","displayTopBt","scrollToTop","judgeClickWidget","then","catch","finally","_component_ArrowUpOutlined","_component_a_spin","_component_a_row","lg","xl","xxl","leftRegion","spinning","canvasRate","iphoneHeadImgUrl","middleRegion","rightRegion"],"sourceRoot":""}